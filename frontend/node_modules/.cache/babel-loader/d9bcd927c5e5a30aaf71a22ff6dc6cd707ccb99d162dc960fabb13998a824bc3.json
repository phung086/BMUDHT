{"ast":null,"code":"import React,{useContext,useEffect,useRef,useState}from\"react\";import{Link,useLocation,useNavigate}from\"react-router-dom\";import LogoutConfirmModal from\"./LogoutConfirmModal\";import NotificationContext from\"../context/NotificationContext\";import{usePreferences}from\"../context/PreferencesContext\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const copy={vi:{homeAria:\"Trang chủ\",notificationsAria:\"Thông báo\",profileAria:\"Hồ sơ cá nhân\",authLogin:\"Đăng nhập\",authRegister:\"Tạo tài khoản\",authAdmin:\"Quản trị\",logout:\"Đăng xuất\",accountFallback:\"Tài khoản\",themeLabel:\"Chủ đề\",themeUseLight:\"Dùng chế độ sáng\",themeUseDark:\"Dùng chế độ tối\",languageLabel:\"Ngôn ngữ\",languageToggle:\"Switch to English\",brandSubtitle:\"Digital Banking Suite\"},en:{homeAria:\"Home\",notificationsAria:\"Notifications\",profileAria:\"Profile\",authLogin:\"Login\",authRegister:\"Create Account\",authAdmin:\"Admin Portal\",logout:\"Logout\",accountFallback:\"Account\",themeLabel:\"Theme\",themeUseLight:\"Use Light Mode\",themeUseDark:\"Use Dark Mode\",languageLabel:\"Language\",languageToggle:\"Chuyển sang Tiếng Việt\",brandSubtitle:\"Digital Banking Suite\"}};const NavBar=()=>{const[showLogout,setShowLogout]=useState(false);const[settingsOpen,setSettingsOpen]=useState(false);const navigate=useNavigate();const location=useLocation();const token=localStorage.getItem(\"token\");const{unreadCount}=useContext(NotificationContext);const{theme,toggleTheme,language,toggleLanguage}=usePreferences();const text=copy[language]||copy.vi;const languageToggleLabel=language===\"vi\"?copy.vi.languageToggle:copy.en.languageToggle;const settingsRef=useRef(null);const getDisplayName=()=>{try{var _payload$email;const raw=localStorage.getItem(\"token\");if(!raw)return\"\";const payload=JSON.parse(atob(raw.split(\".\")[1]));return(payload===null||payload===void 0?void 0:payload.name)||(payload===null||payload===void 0?void 0:payload.fullName)||(payload===null||payload===void 0?void 0:payload.username)||(payload===null||payload===void 0?void 0:(_payload$email=payload.email)===null||_payload$email===void 0?void 0:_payload$email.split(\"@\")[0])||\"\";}catch(e){return\"\";}};const displayName=getDisplayName();const handleLogout=()=>{try{// best-effort call to server to clear refresh cookie\nfetch(\"/api/auth/logout\",{method:\"POST\",credentials:\"include\"}).catch(()=>{});}catch(e){}localStorage.removeItem(\"token\");// set a small flag so the login page can show a toast confirming logout\ntry{localStorage.setItem(\"justLoggedOut\",\"1\");}catch(e){}setShowLogout(false);navigate(\"/login\",{replace:true});};const openLogout=()=>setShowLogout(true);const cancelLogout=()=>setShowLogout(false);const toggleSettings=()=>setSettingsOpen(current=>!current);useEffect(()=>{if(!settingsOpen)return;const handleClickOutside=event=>{if(!settingsRef.current)return;if(!settingsRef.current.contains(event.target)){setSettingsOpen(false);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>document.removeEventListener(\"mousedown\",handleClickOutside);},[settingsOpen]);const isActive=path=>location.pathname.startsWith(path);return/*#__PURE__*/_jsxs(\"nav\",{className:\"app-navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app-navbar__inner\",children:[/*#__PURE__*/_jsxs(Link,{className:\"app-navbar__brand\",to:token?\"/dashboard\":\"/\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"app-navbar__logo\",\"aria-hidden\":true,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-bank2\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"app-navbar__brand-text\",children:[\"Fintech One\",/*#__PURE__*/_jsx(\"small\",{children:text.brandSubtitle})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"app-navbar__actions\",children:!token?/*#__PURE__*/_jsxs(\"div\",{className:\"app-navbar__auth\",children:[/*#__PURE__*/_jsx(Link,{className:\"app-navbar__link\",to:\"/login\",children:text.authLogin}),/*#__PURE__*/_jsx(Link,{className:\"app-navbar__link\",to:\"/admin\",children:text.authAdmin}),/*#__PURE__*/_jsx(Link,{className:\"app-navbar__cta\",to:\"/register\",children:text.authRegister})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"app-navbar__icon \".concat(isActive(\"/dashboard\")?\"is-active\":\"\"),\"aria-label\":text.homeAria,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-house-door\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/notifications\",className:\"app-navbar__icon \".concat(isActive(\"/notifications\")?\"is-active\":\"\"),\"aria-label\":text.notificationsAria,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-bell\"}),unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"app-navbar__badge\",children:unreadCount>9?\"9+\":unreadCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"app-navbar__settings\",ref:settingsRef,children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"app-navbar__icon \".concat(settingsOpen?\"is-active\":\"\"),\"aria-haspopup\":\"true\",\"aria-expanded\":settingsOpen,onClick:toggleSettings,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-gear\"})}),settingsOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"app-navbar__menu\",role:\"menu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app-navbar__menu-section\",role:\"none\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"app-navbar__menu-label\",children:text.themeLabel}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"app-navbar__menu-item\",onClick:toggleTheme,role:\"menuitem\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-circle-half me-2\",\"aria-hidden\":true}),theme===\"dark\"?text.themeUseLight:text.themeUseDark]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"app-navbar__menu-section\",role:\"none\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"app-navbar__menu-label\",children:text.languageLabel}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"app-navbar__menu-item\",onClick:toggleLanguage,role:\"menuitem\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-translate me-2\",\"aria-hidden\":true}),languageToggleLabel]})]})]})]}),/*#__PURE__*/_jsxs(Link,{to:\"/profile\",className:\"app-navbar__profile \".concat(isActive(\"/profile\")?\"is-active\":\"\"),\"aria-label\":text.profileAria,children:[/*#__PURE__*/_jsx(\"span\",{className:\"app-navbar__avatar\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person-fill\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"app-navbar__profile-name\",children:displayName||text.accountFallback})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"app-navbar__logout\",type:\"button\",onClick:openLogout,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-box-arrow-right\",\"aria-hidden\":true}),/*#__PURE__*/_jsx(\"span\",{children:text.logout})]})]})})]}),/*#__PURE__*/_jsx(LogoutConfirmModal,{show:showLogout,onConfirm:handleLogout,onCancel:cancelLogout})]});};export default NavBar;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","Link","useLocation","useNavigate","LogoutConfirmModal","NotificationContext","usePreferences","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","copy","vi","homeAria","notificationsAria","profileAria","authLogin","authRegister","authAdmin","logout","accountFallback","themeLabel","themeUseLight","themeUseDark","languageLabel","languageToggle","brandSubtitle","en","NavBar","showLogout","setShowLogout","settingsOpen","setSettingsOpen","navigate","location","token","localStorage","getItem","unreadCount","theme","toggleTheme","language","toggleLanguage","text","languageToggleLabel","settingsRef","getDisplayName","_payload$email","raw","payload","JSON","parse","atob","split","name","fullName","username","email","e","displayName","handleLogout","fetch","method","credentials","catch","removeItem","setItem","replace","openLogout","cancelLogout","toggleSettings","current","handleClickOutside","event","contains","target","document","addEventListener","removeEventListener","isActive","path","pathname","startsWith","className","children","to","concat","ref","type","onClick","role","show","onConfirm","onCancel"],"sources":["D:/BMUDHT/frontend/src/components/NavBar.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport LogoutConfirmModal from \"./LogoutConfirmModal\";\r\nimport NotificationContext from \"../context/NotificationContext\";\r\nimport { usePreferences } from \"../context/PreferencesContext\";\r\n\r\nconst copy = {\r\n  vi: {\r\n    homeAria: \"Trang chủ\",\r\n    notificationsAria: \"Thông báo\",\r\n    profileAria: \"Hồ sơ cá nhân\",\r\n    authLogin: \"Đăng nhập\",\r\n    authRegister: \"Tạo tài khoản\",\r\n    authAdmin: \"Quản trị\",\r\n    logout: \"Đăng xuất\",\r\n    accountFallback: \"Tài khoản\",\r\n    themeLabel: \"Chủ đề\",\r\n    themeUseLight: \"Dùng chế độ sáng\",\r\n    themeUseDark: \"Dùng chế độ tối\",\r\n    languageLabel: \"Ngôn ngữ\",\r\n    languageToggle: \"Switch to English\",\r\n    brandSubtitle: \"Digital Banking Suite\",\r\n  },\r\n  en: {\r\n    homeAria: \"Home\",\r\n    notificationsAria: \"Notifications\",\r\n    profileAria: \"Profile\",\r\n    authLogin: \"Login\",\r\n    authRegister: \"Create Account\",\r\n    authAdmin: \"Admin Portal\",\r\n    logout: \"Logout\",\r\n    accountFallback: \"Account\",\r\n    themeLabel: \"Theme\",\r\n    themeUseLight: \"Use Light Mode\",\r\n    themeUseDark: \"Use Dark Mode\",\r\n    languageLabel: \"Language\",\r\n    languageToggle: \"Chuyển sang Tiếng Việt\",\r\n    brandSubtitle: \"Digital Banking Suite\",\r\n  },\r\n};\r\n\r\nconst NavBar = () => {\r\n  const [showLogout, setShowLogout] = useState(false);\r\n  const [settingsOpen, setSettingsOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const token = localStorage.getItem(\"token\");\r\n  const { unreadCount } = useContext(NotificationContext);\r\n  const { theme, toggleTheme, language, toggleLanguage } = usePreferences();\r\n  const text = copy[language] || copy.vi;\r\n  const languageToggleLabel =\r\n    language === \"vi\" ? copy.vi.languageToggle : copy.en.languageToggle;\r\n  const settingsRef = useRef(null);\r\n  const getDisplayName = () => {\r\n    try {\r\n      const raw = localStorage.getItem(\"token\");\r\n      if (!raw) return \"\";\r\n      const payload = JSON.parse(atob(raw.split(\".\")[1]));\r\n      return (\r\n        payload?.name ||\r\n        payload?.fullName ||\r\n        payload?.username ||\r\n        payload?.email?.split(\"@\")[0] ||\r\n        \"\"\r\n      );\r\n    } catch (e) {\r\n      return \"\";\r\n    }\r\n  };\r\n  const displayName = getDisplayName();\r\n\r\n  const handleLogout = () => {\r\n    try {\r\n      // best-effort call to server to clear refresh cookie\r\n      fetch(\"/api/auth/logout\", {\r\n        method: \"POST\",\r\n        credentials: \"include\",\r\n      }).catch(() => {});\r\n    } catch (e) {}\r\n    localStorage.removeItem(\"token\");\r\n    // set a small flag so the login page can show a toast confirming logout\r\n    try {\r\n      localStorage.setItem(\"justLoggedOut\", \"1\");\r\n    } catch (e) {}\r\n    setShowLogout(false);\r\n    navigate(\"/login\", { replace: true });\r\n  };\r\n\r\n  const openLogout = () => setShowLogout(true);\r\n  const cancelLogout = () => setShowLogout(false);\r\n\r\n  const toggleSettings = () => setSettingsOpen((current) => !current);\r\n\r\n  useEffect(() => {\r\n    if (!settingsOpen) return;\r\n    const handleClickOutside = (event) => {\r\n      if (!settingsRef.current) return;\r\n      if (!settingsRef.current.contains(event.target)) {\r\n        setSettingsOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, [settingsOpen]);\r\n\r\n  const isActive = (path) => location.pathname.startsWith(path);\r\n\r\n  return (\r\n    <nav className=\"app-navbar\">\r\n      <div className=\"app-navbar__inner\">\r\n        <Link className=\"app-navbar__brand\" to={token ? \"/dashboard\" : \"/\"}>\r\n          <span className=\"app-navbar__logo\" aria-hidden>\r\n            <i className=\"bi bi-bank2\"></i>\r\n          </span>\r\n          <span className=\"app-navbar__brand-text\">\r\n            Fintech One\r\n            <small>{text.brandSubtitle}</small>\r\n          </span>\r\n        </Link>\r\n\r\n        <div className=\"app-navbar__actions\">\r\n          {!token ? (\r\n            <div className=\"app-navbar__auth\">\r\n              <Link className=\"app-navbar__link\" to=\"/login\">\r\n                {text.authLogin}\r\n              </Link>\r\n              <Link className=\"app-navbar__link\" to=\"/admin\">\r\n                {text.authAdmin}\r\n              </Link>\r\n              <Link className=\"app-navbar__cta\" to=\"/register\">\r\n                {text.authRegister}\r\n              </Link>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <Link\r\n                to=\"/dashboard\"\r\n                className={`app-navbar__icon ${\r\n                  isActive(\"/dashboard\") ? \"is-active\" : \"\"\r\n                }`}\r\n                aria-label={text.homeAria}\r\n              >\r\n                <i className=\"bi bi-house-door\"></i>\r\n              </Link>\r\n              <Link\r\n                to=\"/notifications\"\r\n                className={`app-navbar__icon ${\r\n                  isActive(\"/notifications\") ? \"is-active\" : \"\"\r\n                }`}\r\n                aria-label={text.notificationsAria}\r\n              >\r\n                <i className=\"bi bi-bell\"></i>\r\n                {unreadCount > 0 && (\r\n                  <span className=\"app-navbar__badge\">\r\n                    {unreadCount > 9 ? \"9+\" : unreadCount}\r\n                  </span>\r\n                )}\r\n              </Link>\r\n              <div className=\"app-navbar__settings\" ref={settingsRef}>\r\n                <button\r\n                  type=\"button\"\r\n                  className={`app-navbar__icon ${\r\n                    settingsOpen ? \"is-active\" : \"\"\r\n                  }`}\r\n                  aria-haspopup=\"true\"\r\n                  aria-expanded={settingsOpen}\r\n                  onClick={toggleSettings}\r\n                >\r\n                  <i className=\"bi bi-gear\"></i>\r\n                </button>\r\n                {settingsOpen && (\r\n                  <div className=\"app-navbar__menu\" role=\"menu\">\r\n                    <div className=\"app-navbar__menu-section\" role=\"none\">\r\n                      <span className=\"app-navbar__menu-label\">\r\n                        {text.themeLabel}\r\n                      </span>\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"app-navbar__menu-item\"\r\n                        onClick={toggleTheme}\r\n                        role=\"menuitem\"\r\n                      >\r\n                        <i className=\"bi bi-circle-half me-2\" aria-hidden></i>\r\n                        {theme === \"dark\"\r\n                          ? text.themeUseLight\r\n                          : text.themeUseDark}\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"app-navbar__menu-section\" role=\"none\">\r\n                      <span className=\"app-navbar__menu-label\">\r\n                        {text.languageLabel}\r\n                      </span>\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"app-navbar__menu-item\"\r\n                        onClick={toggleLanguage}\r\n                        role=\"menuitem\"\r\n                      >\r\n                        <i className=\"bi bi-translate me-2\" aria-hidden></i>\r\n                        {languageToggleLabel}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <Link\r\n                to=\"/profile\"\r\n                className={`app-navbar__profile ${\r\n                  isActive(\"/profile\") ? \"is-active\" : \"\"\r\n                }`}\r\n                aria-label={text.profileAria}\r\n              >\r\n                <span className=\"app-navbar__avatar\">\r\n                  <i className=\"bi bi-person-fill\"></i>\r\n                </span>\r\n                <span className=\"app-navbar__profile-name\">\r\n                  {displayName || text.accountFallback}\r\n                </span>\r\n              </Link>\r\n              <button\r\n                className=\"app-navbar__logout\"\r\n                type=\"button\"\r\n                onClick={openLogout}\r\n              >\r\n                <i className=\"bi bi-box-arrow-right\" aria-hidden></i>\r\n                <span>{text.logout}</span>\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <LogoutConfirmModal\r\n        show={showLogout}\r\n        onConfirm={handleLogout}\r\n        onCancel={cancelLogout}\r\n      />\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}