{"ast":null,"code":"var _jsxFileName = \"D:\\\\BMUDHT\\\\frontend\\\\src\\\\components\\\\FraudConsole.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport api from \"../services/api\";\nimport LoaderOverlay from \"./LoaderOverlay\";\nimport Toast from \"./Toast\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst defaultPayment = {\n  merchant: \"Black Market Store\",\n  amount: \"5000000\",\n  otpCode: \"\",\n  description: \"Thanh toán giả mạo sau khi có OTP\"\n};\nconst formatCurrency = value => Number(value || 0).toLocaleString(\"vi-VN\", {\n  style: \"currency\",\n  currency: \"VND\",\n  minimumFractionDigits: 0\n});\nconst formatDate = value => value ? new Date(value).toLocaleString(\"vi-VN\", {\n  hour: \"2-digit\",\n  minute: \"2-digit\",\n  day: \"2-digit\",\n  month: \"2-digit\",\n  year: \"numeric\"\n}) : \"-\";\nconst toneForStatus = status => {\n  if (status === \"consumed\") return \"danger\";\n  if (status === \"shared\") return \"warning\";\n  if (status === \"pending\") return \"primary\";\n  return \"secondary\";\n};\nconst FraudConsole = () => {\n  _s();\n  const [cards, setCards] = useState([]);\n  const [timeline, setTimeline] = useState({\n    otpSessions: [],\n    fraudTransactions: []\n  });\n  const [selectedCardId, setSelectedCardId] = useState(null);\n  const [payment, setPayment] = useState(defaultPayment);\n  const [loading, setLoading] = useState(true);\n  const [actions, setActions] = useState({\n    initiate: false,\n    pay: false\n  });\n  const [captures, setCaptures] = useState([]);\n  const [toast, setToast] = useState({\n    show: false,\n    type: \"info\",\n    message: \"\"\n  });\n  const simulatedLink = `${window.location.origin}/phishing/vietcornbank`;\n  const disguisedLinkText = \"https://vietcornbank.com/kich-hoat\";\n  const handleCopyLink = async () => {\n    try {\n      await navigator.clipboard.writeText(simulatedLink);\n      showToast(\"Đã sao chép đường link giả mạo\", \"success\");\n    } catch (err) {\n      console.error(\"Copy phishing link error:\", err);\n      showToast(\"Không thể sao chép link, hãy chọn và sao chép thủ công\", \"error\");\n    }\n  };\n  const showToast = (message, type = \"success\") => {\n    setToast({\n      show: true,\n      type,\n      message\n    });\n  };\n  const closeToast = () => setToast(prev => ({\n    ...prev,\n    show: false\n  }));\n  const loadCaptures = useCallback(async () => {\n    try {\n      var _captureRes$data;\n      const captureRes = await api.get(\"/api/fraud/phishing-captures\");\n      setCaptures(((_captureRes$data = captureRes.data) === null || _captureRes$data === void 0 ? void 0 : _captureRes$data.captures) || []);\n    } catch (err) {\n      console.error(\"Refresh phishing captures error:\", err);\n    }\n  }, []);\n  const loadData = async () => {\n    setLoading(true);\n    try {\n      const [cardResult, timelineResult, captureResult] = await Promise.allSettled([api.get(\"/api/fraud/leaked-cards\"), api.get(\"/api/fraud/timeline\"), api.get(\"/api/fraud/phishing-captures\")]);\n      if (cardResult.status === \"fulfilled\") {\n        var _cardResult$value$dat;\n        const fetchedCards = ((_cardResult$value$dat = cardResult.value.data) === null || _cardResult$value$dat === void 0 ? void 0 : _cardResult$value$dat.cards) || [];\n        setCards(fetchedCards);\n        if (fetchedCards.length > 0 && !selectedCardId) {\n          setSelectedCardId(fetchedCards[0].id);\n        }\n      }\n      if (timelineResult.status === \"fulfilled\") {\n        var _timelineResult$value, _timelineResult$value2;\n        setTimeline({\n          otpSessions: ((_timelineResult$value = timelineResult.value.data) === null || _timelineResult$value === void 0 ? void 0 : _timelineResult$value.otpSessions) || [],\n          fraudTransactions: ((_timelineResult$value2 = timelineResult.value.data) === null || _timelineResult$value2 === void 0 ? void 0 : _timelineResult$value2.fraudTransactions) || []\n        });\n      }\n      if (captureResult.status === \"fulfilled\") {\n        var _captureResult$value$;\n        setCaptures(((_captureResult$value$ = captureResult.value.data) === null || _captureResult$value$ === void 0 ? void 0 : _captureResult$value$.captures) || []);\n      }\n      if (captureResult.status === \"rejected\") {\n        throw captureResult.reason;\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Load fraud console data error:\", err);\n      showToast(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Không thể tải dữ liệu kẻ gian\", \"error\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    loadData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      loadCaptures();\n    }, 5000);\n    loadCaptures();\n    return () => clearInterval(interval);\n  }, [loadCaptures]);\n  const selectedCard = useMemo(() => cards.find(card => card.id === selectedCardId) || null, [cards, selectedCardId]);\n  const recentSession = useMemo(() => {\n    if (!selectedCard) return null;\n    const sessions = timeline.otpSessions.filter(session => session.cardId === selectedCard.id).sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n    return sessions.length > 0 ? sessions[0] : null;\n  }, [selectedCard, timeline.otpSessions]);\n  useEffect(() => {\n    if (recentSession !== null && recentSession !== void 0 && recentSession.amountTarget) {\n      setPayment(prev => ({\n        ...prev,\n        amount: String(recentSession.amountTarget)\n      }));\n    }\n  }, [recentSession]);\n  const handleInitiate = async () => {\n    if (!selectedCard) {\n      showToast(\"Chưa chọn thẻ để khai thác\", \"error\");\n      return;\n    }\n    setActions(prev => ({\n      ...prev,\n      initiate: true\n    }));\n    try {\n      var _response$data;\n      const payload = {\n        cardId: selectedCard.id,\n        merchant: payment.merchant || defaultPayment.merchant,\n        amount: Number(payment.amount || \"5000000\"),\n        note: \"Gọi điện giả mạo nhân viên ngân hàng\"\n      };\n      const response = await api.post(\"/api/fraud/otp/initiate\", payload);\n      showToast(((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.message) || \"Đã yêu cầu OTP giả mạo\", \"warning\");\n      await loadData();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      showToast(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || \"Không thể yêu cầu OTP\", \"error\");\n    } finally {\n      setActions(prev => ({\n        ...prev,\n        initiate: false\n      }));\n    }\n  };\n  const handlePaymentChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setPayment(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleExecutePayment = async () => {\n    if (!recentSession) {\n      showToast(\"Chưa có phiên OTP nào\", \"error\");\n      return;\n    }\n    if (recentSession.defenseAction === \"blocked\") {\n      showToast(\"Nạn nhân đã báo cáo OTP và khóa thẻ, giao dịch không thể tiếp tục\", \"error\");\n      return;\n    }\n    if (!payment.otpCode.trim()) {\n      showToast(\"Cần nhập OTP mà nạn nhân đã cung cấp\", \"error\");\n      return;\n    }\n    setActions(prev => ({\n      ...prev,\n      pay: true\n    }));\n    try {\n      var _response$data2, _response$data2$accou, _response$data3, _response$data3$trans, _response$data4;\n      const response = await api.post(\"/api/fraud/payment\", {\n        sessionId: recentSession.id,\n        otpCode: payment.otpCode,\n        merchant: payment.merchant || defaultPayment.merchant,\n        amount: Number(payment.amount || \"5000000\"),\n        description: payment.description\n      });\n      const victimBalance = (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : (_response$data2$accou = _response$data2.accountImpact) === null || _response$data2$accou === void 0 ? void 0 : _response$data2$accou.victimBalance;\n      const amountCharged = (_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : (_response$data3$trans = _response$data3.transaction) === null || _response$data3$trans === void 0 ? void 0 : _response$data3$trans.amount;\n      const dynamicMessage = victimBalance !== undefined && amountCharged !== undefined ? `Đã rút ${formatCurrency(amountCharged)}. Số dư nạn nhân còn ${formatCurrency(victimBalance)}.` : null;\n      showToast(dynamicMessage || ((_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.message) || \"Đã hoàn tất giao dịch giả\", \"success\");\n      setPayment(prev => ({\n        ...prev,\n        otpCode: \"\"\n      }));\n      await loadData();\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      showToast(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error) || \"Không thể thực hiện giao dịch\", \"error\");\n    } finally {\n      setActions(prev => ({\n        ...prev,\n        pay: false\n      }));\n    }\n  };\n  const fraudTimeline = useMemo(() => {\n    const events = [];\n    timeline.otpSessions.forEach(session => {\n      const cardLabel = `Thẻ ${session.cardId}`;\n      events.push({\n        id: `otp-${session.id}`,\n        date: session.createdAt,\n        title: `Khởi tạo OTP #${session.id}`,\n        description: `${cardLabel} - ${session.merchant} (${Number(session.amountTarget || 0).toLocaleString(\"vi-VN\")} VND)` + (session.defenseAction === \"blocked\" ? \" · ĐÃ BỊ KHÓA\" : \"\"),\n        tone: toneForStatus(session.status)\n      });\n      if (session.userSharedAt) {\n        events.push({\n          id: `otp-share-${session.id}`,\n          date: session.userSharedAt,\n          title: \"Nạn nhân đã đọc OTP\",\n          description: cardLabel,\n          tone: \"danger\"\n        });\n      }\n      if (session.consumedAt) {\n        events.push({\n          id: `otp-consumed-${session.id}`,\n          date: session.consumedAt,\n          title: \"OTP đã bị dùng\",\n          description: cardLabel,\n          tone: \"danger\"\n        });\n      }\n      if (session.defenseAction === \"blocked\") {\n        events.push({\n          id: `otp-block-${session.id}`,\n          date: session.expiresAt || session.createdAt,\n          title: \"OTP bị chặn\",\n          description: session.defenseReason ? `Nạn nhân báo cáo: ${session.defenseReason}` : `${cardLabel} đã bị khóa bởi ngân hàng`,\n          tone: \"secondary\"\n        });\n      }\n    });\n    timeline.fraudTransactions.forEach(txn => {\n      events.push({\n        id: `txn-${txn.id}`,\n        date: txn.executedAt,\n        title: `Thanh toán giả mạo ${txn.id}`,\n        description: `${Number(txn.amount || 0).toLocaleString(\"vi-VN\")} VND tại ${txn.merchant}`,\n        tone: \"danger\"\n      });\n    });\n    return events.filter(evt => evt.date).sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\n  }, [timeline]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    role: \"main\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"page-title\",\n        children: \"B\\u1EA3ng \\u0111i\\u1EC1u khi\\u1EC3n k\\u1EBB gian\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"page-subtitle\",\n        children: \"\\u0110\\xE2y l\\xE0 g\\xF3c nh\\xECn c\\u1EE7a k\\u1EBB l\\u1EEBa \\u0111\\u1EA3o: t\\xECm th\\u1EBB \\u0111\\xE3 r\\xF2 r\\u1EC9, g\\u1ECDi cho n\\u1EA1n nh\\xE2n xin OTP r\\u1ED3i th\\u1EF1c hi\\u1EC7n thanh to\\xE1n gi\\u1EA3 m\\u1EA1o.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm mb-4 border-warning\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-wrap justify-content-between align-items-start gap-3 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"h5 mb-1 text-warning\",\n              children: \"Chi\\u1EBFn d\\u1ECBch phishing gi\\u1EA3 m\\u1EA1o ng\\xE2n h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted mb-0\",\n              children: \"G\\u1EEDi tin nh\\u1EAFn v\\u1EDBi \\u0111\\u01B0\\u1EDDng link na n\\xE1 t\\xEAn mi\\u1EC1n th\\u1EADt \\u0111\\u1EC3 d\\u1EABn n\\u1EA1n nh\\xE2n \\u0111\\u1EBFn trang \\u0111\\u0103ng nh\\u1EADp gi\\u1EA3. Khi h\\u1ECD \\u0111i\\u1EC1n th\\xF4ng tin, h\\u1EC7 th\\u1ED1ng s\\u1EBD ghi l\\u1EA1i \\u0111\\u1EA7y \\u0111\\u1EE7.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-outline-warning\",\n            onClick: handleCopyLink,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-clipboard-check me-2\",\n              \"aria-hidden\": true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this), \"Sao ch\\xE9p link gi\\u1EA3 m\\u1EA1o\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-warning\",\n          role: \"alert\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Tin nh\\u1EAFn g\\u1EEDi n\\u1EA1n nh\\xE2n:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), \" \\\"Th\\u1EBB c\\u1EE7a qu\\xFD kh\\xE1ch s\\u1EAFp b\\u1ECB kh\\xF3a. Vui l\\xF2ng x\\xE1c nh\\u1EADn l\\u1EA1i th\\xF4ng tin t\\u1EA1i\", /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"ms-1 fw-semibold\",\n            href: \"/phishing/vietcornbank\",\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            children: disguisedLinkText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table align-middle\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Th\\u1EDDi gian\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"T\\xE0i kho\\u1EA3n nh\\u1EADp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"M\\u1EADt kh\\u1EA9u\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Kh\\u1EDBp n\\u1EA1n nh\\xE2n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"IP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: captures.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: 5,\n                  className: \"text-muted text-center py-3\",\n                  children: \"Ch\\u01B0a thu th\\u1EADp \\u0111\\u01B0\\u1EE3c th\\xF4ng tin \\u0111\\u0103ng nh\\u1EADp n\\xE0o. G\\u1EEDi link cho n\\u1EA1n nh\\xE2n r\\u1ED3i theo d\\xF5i t\\u1EA1i \\u0111\\xE2y.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 19\n              }, this) : captures.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatDate(item.capturedAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.capturedUsername\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"code\", {\n                    children: item.capturedPassword\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.victimMatched ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge bg-danger\",\n                    children: \"Kh\\u1EDBp ng\\u01B0\\u1EDDi d\\xF9ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge bg-secondary-subtle text-secondary\",\n                    children: \"Kh\\xF4ng x\\xE1c \\u0111\\u1ECBnh\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.ipAddress || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 23\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"h5 mb-3\",\n          children: \"Ch\\u1ECDn n\\u1EA1n nh\\xE2n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), cards.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted mb-0\",\n          children: \"Ch\\u01B0a c\\xF3 th\\u1EBB b\\u1ECB r\\xF2 r\\u1EC9. H\\xE3y nh\\u1EDD qu\\u1EA3n tr\\u1ECB m\\xF4 ph\\u1ECFng r\\xF2 r\\u1EC9 \\u1EDF m\\xE0n h\\xECnh admin \\u0111\\u1EC3 ti\\u1EBFp t\\u1EE5c demo.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row g-3\",\n          children: cards.map(card => {\n            const isActive = selectedCardId === card.id;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-4\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `card h-100 text-start border ${isActive ? \"border-danger\" : \"border-transparent\"}`,\n                onClick: () => setSelectedCardId(card.id),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex justify-content-between align-items-start mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-semibold text-danger\",\n                      children: [\"Th\\u1EBB #\", card.id]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 419,\n                      columnNumber: 27\n                    }, this), isActive && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-danger-subtle text-danger\",\n                      children: \"\\u0110ang ch\\u1ECDn\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"small text-muted\",\n                    children: card.fullName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 428,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"small\",\n                    children: [\"S\\u1ED1 th\\u1EBB: \", card.cardNumber]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"small\",\n                    children: [\"CVV: \", card.cvv]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"small\",\n                    children: [\"Li\\xEAn h\\u1EC7: \", card.phone]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"small\",\n                    children: [\"Email: \", card.email]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"small\",\n                    children: [\"R\\xF2 r\\u1EC9 l\\xFAc: \", formatDate(card.leakedAt)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 21\n              }, this)\n            }, card.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 7\n    }, this), selectedCard && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm mb-4 border-danger\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between flex-wrap gap-3 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"h5 mb-1 text-danger\",\n              children: \"B\\u01B0\\u1EDBc 1: G\\u1ECDi \\u0111i\\u1EC7n xin OTP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted mb-0\",\n              children: \"Gi\\u1EA3 v\\u1EDD l\\xE0 nh\\xE2n vi\\xEAn ng\\xE2n h\\xE0ng, thuy\\u1EBFt ph\\u1EE5c n\\u1EA1n nh\\xE2n \\u0111\\u1ECDc m\\xE3 OTP v\\u1EEBa nh\\u1EADn \\u0111\\u1EC3 \\\"k\\xEDch ho\\u1EA1t th\\u1EBB\\\".\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-danger\",\n            onClick: handleInitiate,\n            disabled: actions.initiate,\n            children: actions.initiate ? \"Đang yêu cầu OTP...\" : \"Tạo OTP giả mạo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }, this), recentSession ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row g-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"otp-box\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"otp-box__label\",\n                children: \"OTP m\\u1EE5c ti\\xEAu\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"otp-box__code\",\n                children: recentSession.status === \"pending\" ? \"??????\" : \"******\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: [\"Tr\\u1EA1ng th\\xE1i: \", recentSession.status, \" \\u2022 H\\u1EBFt h\\u1EA1n\", \" \", formatDate(recentSession.expiresAt)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"dl\", {\n              className: \"row mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                className: \"col-sm-6\",\n                children: \"M\\u1EE5c ti\\xEAu giao d\\u1ECBch\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                className: \"col-sm-6\",\n                children: [Number(recentSession.amountTarget || 0).toLocaleString(\"vi-VN\"), \" \", \"VND\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                className: \"col-sm-6\",\n                children: \"C\\u1EEDa h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                className: \"col-sm-6\",\n                children: recentSession.merchant\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                className: \"col-sm-6\",\n                children: \"N\\u1EA1n nh\\xE2n \\u0111\\u1ECDc OTP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                className: \"col-sm-6\",\n                children: recentSession.userSharedAt ? formatDate(recentSession.userSharedAt) : \"Chưa có\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 21\n              }, this), recentSession.defenseAction === \"blocked\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"col-sm-6 text-danger\",\n                  children: \"Giao d\\u1ECBch \\u0111\\xE3 b\\u1ECB kh\\xF3a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"col-sm-6 text-danger\",\n                  children: recentSession.defenseReason || \"Nạn nhân báo cáo OTP đáng ngờ\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted mb-0\",\n          children: \"Ch\\u01B0a c\\xF3 phi\\xEAn OTP. H\\xE3y t\\u1EA1o OTP \\u0111\\u1EC3 ti\\u1EBFp t\\u1EE5c.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 9\n    }, this), recentSession && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between flex-wrap gap-3 mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"h5 mb-1\",\n              children: \"B\\u01B0\\u1EDBc 2: Th\\u1EF1c hi\\u1EC7n giao d\\u1ECBch gi\\u1EA3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted mb-0\",\n              children: \"Khi n\\u1EA1n nh\\xE2n \\u0111\\xE3 \\u0111\\u1ECDc OTP, k\\u1EBB gian nh\\u1EADp m\\xE3 v\\xE0o c\\u1ED5ng thanh to\\xE1n \\u0111\\u1EC3 r\\xFAt ti\\u1EC1n.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row g-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              htmlFor: \"merchant\",\n              children: \"C\\u1EEDa h\\xE0ng gi\\u1EA3 m\\u1EA1o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"merchant\",\n              name: \"merchant\",\n              className: \"form-control\",\n              value: payment.merchant,\n              onChange: handlePaymentChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              htmlFor: \"amount\",\n              children: \"S\\u1ED1 ti\\u1EC1n (VND)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"amount\",\n              name: \"amount\",\n              className: \"form-control\",\n              value: payment.amount,\n              onChange: handlePaymentChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              htmlFor: \"otpCode\",\n              children: \"OTP do n\\u1EA1n nh\\xE2n \\u0111\\u1ECDc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"otpCode\",\n              name: \"otpCode\",\n              className: \"form-control\",\n              value: payment.otpCode,\n              onChange: handlePaymentChange,\n              placeholder: \"Nh\\u1EADp OTP m\\xE0 n\\u1EA1n nh\\xE2n cung c\\u1EA5p\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              htmlFor: \"description\",\n              children: \"M\\xF4 t\\u1EA3 giao d\\u1ECBch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"description\",\n              name: \"description\",\n              className: \"form-control\",\n              rows: 3,\n              value: payment.description,\n              onChange: handlePaymentChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 d-flex justify-content-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-outline-danger\",\n              onClick: handleExecutePayment,\n              disabled: actions.pay || recentSession.defenseAction === \"blocked\",\n              children: actions.pay ? \"Đang thực hiện...\" : \"Thanh toán giả mạo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"h5 mb-3\",\n          children: \"D\\xF2ng th\\u1EDDi gian t\\u1ED9i ph\\u1EA1m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 11\n        }, this), fraudTimeline.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted mb-0\",\n          children: \"Ch\\u01B0a c\\xF3 ho\\u1EA1t \\u0111\\u1ED9ng n\\xE0o. H\\xE3y ti\\u1EBFp t\\u1EE5c quy tr\\xECnh \\u0111\\u1EC3 xem to\\xE0n b\\u1ED9 c\\xE2u chuy\\u1EC7n.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"timeline\",\n          children: fraudTimeline.map(event => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"timeline__item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `timeline__badge bg-${event.tone}-subtle text-${event.tone}`,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-activity\",\n                \"aria-hidden\": true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 614,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"timeline__content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"timeline__title\",\n                children: event.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"timeline__meta text-muted mb-1\",\n                children: formatDate(event.date)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"timeline__description mb-0\",\n                children: event.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 19\n            }, this)]\n          }, event.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 603,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(LoaderOverlay, {\n      message: \"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u k\\u1EBB gian...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 635,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Toast, {\n      show: toast.show,\n      type: toast.type,\n      message: toast.message,\n      onClose: closeToast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 636,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 304,\n    columnNumber: 5\n  }, this);\n};\n_s(FraudConsole, \"UdlcH0hstG5N9WVY4clW+p0iOiY=\");\n_c = FraudConsole;\nexport default FraudConsole;\nvar _c;\n$RefreshReg$(_c, \"FraudConsole\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","api","LoaderOverlay","Toast","jsxDEV","_jsxDEV","Fragment","_Fragment","defaultPayment","merchant","amount","otpCode","description","formatCurrency","value","Number","toLocaleString","style","currency","minimumFractionDigits","formatDate","Date","hour","minute","day","month","year","toneForStatus","status","FraudConsole","_s","cards","setCards","timeline","setTimeline","otpSessions","fraudTransactions","selectedCardId","setSelectedCardId","payment","setPayment","loading","setLoading","actions","setActions","initiate","pay","captures","setCaptures","toast","setToast","show","type","message","simulatedLink","window","location","origin","disguisedLinkText","handleCopyLink","navigator","clipboard","writeText","showToast","err","console","error","closeToast","prev","loadCaptures","_captureRes$data","captureRes","get","data","loadData","cardResult","timelineResult","captureResult","Promise","allSettled","_cardResult$value$dat","fetchedCards","length","id","_timelineResult$value","_timelineResult$value2","_captureResult$value$","reason","_err$response","_err$response$data","response","interval","setInterval","clearInterval","selectedCard","find","card","recentSession","sessions","filter","session","cardId","sort","a","b","createdAt","getTime","amountTarget","String","handleInitiate","_response$data","payload","note","post","_err$response2","_err$response2$data","handlePaymentChange","event","name","target","handleExecutePayment","defenseAction","trim","_response$data2","_response$data2$accou","_response$data3","_response$data3$trans","_response$data4","sessionId","victimBalance","accountImpact","amountCharged","transaction","dynamicMessage","undefined","_err$response3","_err$response3$data","fraudTimeline","events","forEach","cardLabel","push","date","title","tone","userSharedAt","consumedAt","expiresAt","defenseReason","txn","executedAt","evt","className","role","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","href","rel","colSpan","map","item","capturedAt","capturedUsername","capturedPassword","victimMatched","ipAddress","isActive","fullName","cardNumber","cvv","phone","email","leakedAt","disabled","htmlFor","onChange","placeholder","rows","onClose","_c","$RefreshReg$"],"sources":["D:/BMUDHT/frontend/src/components/FraudConsole.js"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport api from \"../services/api\";\r\nimport LoaderOverlay from \"./LoaderOverlay\";\r\nimport Toast from \"./Toast\";\r\n\r\nconst defaultPayment = {\r\n  merchant: \"Black Market Store\",\r\n  amount: \"5000000\",\r\n  otpCode: \"\",\r\n  description: \"Thanh toán giả mạo sau khi có OTP\",\r\n};\r\n\r\nconst formatCurrency = (value) =>\r\n  Number(value || 0).toLocaleString(\"vi-VN\", {\r\n    style: \"currency\",\r\n    currency: \"VND\",\r\n    minimumFractionDigits: 0,\r\n  });\r\n\r\nconst formatDate = (value) =>\r\n  value\r\n    ? new Date(value).toLocaleString(\"vi-VN\", {\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n        day: \"2-digit\",\r\n        month: \"2-digit\",\r\n        year: \"numeric\",\r\n      })\r\n    : \"-\";\r\n\r\nconst toneForStatus = (status) => {\r\n  if (status === \"consumed\") return \"danger\";\r\n  if (status === \"shared\") return \"warning\";\r\n  if (status === \"pending\") return \"primary\";\r\n  return \"secondary\";\r\n};\r\n\r\nconst FraudConsole = () => {\r\n  const [cards, setCards] = useState([]);\r\n  const [timeline, setTimeline] = useState({\r\n    otpSessions: [],\r\n    fraudTransactions: [],\r\n  });\r\n  const [selectedCardId, setSelectedCardId] = useState(null);\r\n  const [payment, setPayment] = useState(defaultPayment);\r\n  const [loading, setLoading] = useState(true);\r\n  const [actions, setActions] = useState({ initiate: false, pay: false });\r\n  const [captures, setCaptures] = useState([]);\r\n  const [toast, setToast] = useState({\r\n    show: false,\r\n    type: \"info\",\r\n    message: \"\",\r\n  });\r\n\r\n  const simulatedLink = `${window.location.origin}/phishing/vietcornbank`;\r\n  const disguisedLinkText = \"https://vietcornbank.com/kich-hoat\";\r\n\r\n  const handleCopyLink = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(simulatedLink);\r\n      showToast(\"Đã sao chép đường link giả mạo\", \"success\");\r\n    } catch (err) {\r\n      console.error(\"Copy phishing link error:\", err);\r\n      showToast(\r\n        \"Không thể sao chép link, hãy chọn và sao chép thủ công\",\r\n        \"error\"\r\n      );\r\n    }\r\n  };\r\n\r\n  const showToast = (message, type = \"success\") => {\r\n    setToast({ show: true, type, message });\r\n  };\r\n\r\n  const closeToast = () => setToast((prev) => ({ ...prev, show: false }));\r\n\r\n  const loadCaptures = useCallback(async () => {\r\n    try {\r\n      const captureRes = await api.get(\"/api/fraud/phishing-captures\");\r\n      setCaptures(captureRes.data?.captures || []);\r\n    } catch (err) {\r\n      console.error(\"Refresh phishing captures error:\", err);\r\n    }\r\n  }, []);\r\n\r\n  const loadData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [cardResult, timelineResult, captureResult] = await Promise.allSettled([\r\n        api.get(\"/api/fraud/leaked-cards\"),\r\n        api.get(\"/api/fraud/timeline\"),\r\n        api.get(\"/api/fraud/phishing-captures\"),\r\n      ]);\r\n\r\n      if (cardResult.status === \"fulfilled\") {\r\n        const fetchedCards = cardResult.value.data?.cards || [];\r\n        setCards(fetchedCards);\r\n        if (fetchedCards.length > 0 && !selectedCardId) {\r\n          setSelectedCardId(fetchedCards[0].id);\r\n        }\r\n      }\r\n\r\n      if (timelineResult.status === \"fulfilled\") {\r\n        setTimeline({\r\n          otpSessions: timelineResult.value.data?.otpSessions || [],\r\n          fraudTransactions: timelineResult.value.data?.fraudTransactions || [],\r\n        });\r\n      }\r\n\r\n      if (captureResult.status === \"fulfilled\") {\r\n        setCaptures(captureResult.value.data?.captures || []);\r\n      }\r\n      if (captureResult.status === \"rejected\") {\r\n        throw captureResult.reason;\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Load fraud console data error:\", err);\r\n      showToast(\r\n        err.response?.data?.error || \"Không thể tải dữ liệu kẻ gian\",\r\n        \"error\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      loadCaptures();\r\n    }, 5000);\r\n    loadCaptures();\r\n    return () => clearInterval(interval);\r\n  }, [loadCaptures]);\r\n\r\n  const selectedCard = useMemo(\r\n    () => cards.find((card) => card.id === selectedCardId) || null,\r\n    [cards, selectedCardId]\r\n  );\r\n\r\n  const recentSession = useMemo(() => {\r\n    if (!selectedCard) return null;\r\n    const sessions = timeline.otpSessions\r\n      .filter((session) => session.cardId === selectedCard.id)\r\n      .sort(\r\n        (a, b) =>\r\n          new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\r\n      );\r\n    return sessions.length > 0 ? sessions[0] : null;\r\n  }, [selectedCard, timeline.otpSessions]);\r\n\r\n  useEffect(() => {\r\n    if (recentSession?.amountTarget) {\r\n      setPayment((prev) => ({\r\n        ...prev,\r\n        amount: String(recentSession.amountTarget),\r\n      }));\r\n    }\r\n  }, [recentSession]);\r\n\r\n  const handleInitiate = async () => {\r\n    if (!selectedCard) {\r\n      showToast(\"Chưa chọn thẻ để khai thác\", \"error\");\r\n      return;\r\n    }\r\n    setActions((prev) => ({ ...prev, initiate: true }));\r\n    try {\r\n      const payload = {\r\n        cardId: selectedCard.id,\r\n        merchant: payment.merchant || defaultPayment.merchant,\r\n        amount: Number(payment.amount || \"5000000\"),\r\n        note: \"Gọi điện giả mạo nhân viên ngân hàng\",\r\n      };\r\n      const response = await api.post(\"/api/fraud/otp/initiate\", payload);\r\n      showToast(response.data?.message || \"Đã yêu cầu OTP giả mạo\", \"warning\");\r\n      await loadData();\r\n    } catch (err) {\r\n      showToast(err.response?.data?.error || \"Không thể yêu cầu OTP\", \"error\");\r\n    } finally {\r\n      setActions((prev) => ({ ...prev, initiate: false }));\r\n    }\r\n  };\r\n\r\n  const handlePaymentChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setPayment((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleExecutePayment = async () => {\r\n    if (!recentSession) {\r\n      showToast(\"Chưa có phiên OTP nào\", \"error\");\r\n      return;\r\n    }\r\n    if (recentSession.defenseAction === \"blocked\") {\r\n      showToast(\r\n        \"Nạn nhân đã báo cáo OTP và khóa thẻ, giao dịch không thể tiếp tục\",\r\n        \"error\"\r\n      );\r\n      return;\r\n    }\r\n    if (!payment.otpCode.trim()) {\r\n      showToast(\"Cần nhập OTP mà nạn nhân đã cung cấp\", \"error\");\r\n      return;\r\n    }\r\n    setActions((prev) => ({ ...prev, pay: true }));\r\n    try {\r\n      const response = await api.post(\"/api/fraud/payment\", {\r\n        sessionId: recentSession.id,\r\n        otpCode: payment.otpCode,\r\n        merchant: payment.merchant || defaultPayment.merchant,\r\n        amount: Number(payment.amount || \"5000000\"),\r\n        description: payment.description,\r\n      });\r\n      const victimBalance = response.data?.accountImpact?.victimBalance;\r\n      const amountCharged = response.data?.transaction?.amount;\r\n      const dynamicMessage =\r\n        victimBalance !== undefined && amountCharged !== undefined\r\n          ? `Đã rút ${formatCurrency(\r\n              amountCharged\r\n            )}. Số dư nạn nhân còn ${formatCurrency(victimBalance)}.`\r\n          : null;\r\n      showToast(\r\n        dynamicMessage || response.data?.message || \"Đã hoàn tất giao dịch giả\",\r\n        \"success\"\r\n      );\r\n      setPayment((prev) => ({ ...prev, otpCode: \"\" }));\r\n      await loadData();\r\n    } catch (err) {\r\n      showToast(\r\n        err.response?.data?.error || \"Không thể thực hiện giao dịch\",\r\n        \"error\"\r\n      );\r\n    } finally {\r\n      setActions((prev) => ({ ...prev, pay: false }));\r\n    }\r\n  };\r\n\r\n  const fraudTimeline = useMemo(() => {\r\n    const events = [];\r\n    timeline.otpSessions.forEach((session) => {\r\n      const cardLabel = `Thẻ ${session.cardId}`;\r\n      events.push({\r\n        id: `otp-${session.id}`,\r\n        date: session.createdAt,\r\n        title: `Khởi tạo OTP #${session.id}`,\r\n        description:\r\n          `${cardLabel} - ${session.merchant} (${Number(\r\n            session.amountTarget || 0\r\n          ).toLocaleString(\"vi-VN\")} VND)` +\r\n          (session.defenseAction === \"blocked\" ? \" · ĐÃ BỊ KHÓA\" : \"\"),\r\n        tone: toneForStatus(session.status),\r\n      });\r\n      if (session.userSharedAt) {\r\n        events.push({\r\n          id: `otp-share-${session.id}`,\r\n          date: session.userSharedAt,\r\n          title: \"Nạn nhân đã đọc OTP\",\r\n          description: cardLabel,\r\n          tone: \"danger\",\r\n        });\r\n      }\r\n      if (session.consumedAt) {\r\n        events.push({\r\n          id: `otp-consumed-${session.id}`,\r\n          date: session.consumedAt,\r\n          title: \"OTP đã bị dùng\",\r\n          description: cardLabel,\r\n          tone: \"danger\",\r\n        });\r\n      }\r\n      if (session.defenseAction === \"blocked\") {\r\n        events.push({\r\n          id: `otp-block-${session.id}`,\r\n          date: session.expiresAt || session.createdAt,\r\n          title: \"OTP bị chặn\",\r\n          description: session.defenseReason\r\n            ? `Nạn nhân báo cáo: ${session.defenseReason}`\r\n            : `${cardLabel} đã bị khóa bởi ngân hàng`,\r\n          tone: \"secondary\",\r\n        });\r\n      }\r\n    });\r\n    timeline.fraudTransactions.forEach((txn) => {\r\n      events.push({\r\n        id: `txn-${txn.id}`,\r\n        date: txn.executedAt,\r\n        title: `Thanh toán giả mạo ${txn.id}`,\r\n        description: `${Number(txn.amount || 0).toLocaleString(\r\n          \"vi-VN\"\r\n        )} VND tại ${txn.merchant}`,\r\n        tone: \"danger\",\r\n      });\r\n    });\r\n    return events\r\n      .filter((evt) => evt.date)\r\n      .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\r\n  }, [timeline]);\r\n\r\n  return (\r\n    <div className=\"page\" role=\"main\">\r\n      <header className=\"page-header\">\r\n        <h1 className=\"page-title\">Bảng điều khiển kẻ gian</h1>\r\n        <p className=\"page-subtitle\">\r\n          Đây là góc nhìn của kẻ lừa đảo: tìm thẻ đã rò rỉ, gọi cho nạn nhân xin\r\n          OTP rồi thực hiện thanh toán giả mạo.\r\n        </p>\r\n      </header>\r\n\r\n      <section className=\"card shadow-sm mb-4 border-warning\">\r\n        <div className=\"card-body\">\r\n          <div className=\"d-flex flex-wrap justify-content-between align-items-start gap-3 mb-3\">\r\n            <div>\r\n              <h2 className=\"h5 mb-1 text-warning\">\r\n                Chiến dịch phishing giả mạo ngân hàng\r\n              </h2>\r\n              <p className=\"text-muted mb-0\">\r\n                Gửi tin nhắn với đường link na ná tên miền thật để dẫn nạn nhân\r\n                đến trang đăng nhập giả. Khi họ điền thông tin, hệ thống sẽ ghi\r\n                lại đầy đủ.\r\n              </p>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-warning\"\r\n              onClick={handleCopyLink}\r\n            >\r\n              <i className=\"bi bi-clipboard-check me-2\" aria-hidden></i>\r\n              Sao chép link giả mạo\r\n            </button>\r\n          </div>\r\n          <div className=\"alert alert-warning\" role=\"alert\">\r\n            <strong>Tin nhắn gửi nạn nhân:</strong> \"Thẻ của quý khách sắp bị\r\n            khóa. Vui lòng xác nhận lại thông tin tại\r\n            <a\r\n              className=\"ms-1 fw-semibold\"\r\n              href=\"/phishing/vietcornbank\"\r\n              target=\"_blank\"\r\n              rel=\"noreferrer\"\r\n            >\r\n              {disguisedLinkText}\r\n            </a>\r\n            \"\r\n          </div>\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table align-middle\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Thời gian</th>\r\n                  <th>Tài khoản nhập</th>\r\n                  <th>Mật khẩu</th>\r\n                  <th>Khớp nạn nhân</th>\r\n                  <th>IP</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {captures.length === 0 ? (\r\n                  <tr>\r\n                    <td colSpan={5} className=\"text-muted text-center py-3\">\r\n                      Chưa thu thập được thông tin đăng nhập nào. Gửi link cho\r\n                      nạn nhân rồi theo dõi tại đây.\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  captures.map((item) => (\r\n                    <tr key={item.id}>\r\n                      <td>{formatDate(item.capturedAt)}</td>\r\n                      <td>{item.capturedUsername}</td>\r\n                      <td>\r\n                        <code>{item.capturedPassword}</code>\r\n                      </td>\r\n                      <td>\r\n                        {item.victimMatched ? (\r\n                          <span className=\"badge bg-danger\">\r\n                            Khớp người dùng\r\n                          </span>\r\n                        ) : (\r\n                          <span className=\"badge bg-secondary-subtle text-secondary\">\r\n                            Không xác định\r\n                          </span>\r\n                        )}\r\n                      </td>\r\n                      <td>{item.ipAddress || \"-\"}</td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"card shadow-sm mb-4\">\r\n        <div className=\"card-body\">\r\n          <h2 className=\"h5 mb-3\">Chọn nạn nhân</h2>\r\n          {cards.length === 0 ? (\r\n            <p className=\"text-muted mb-0\">\r\n              Chưa có thẻ bị rò rỉ. Hãy nhờ quản trị mô phỏng rò rỉ ở màn hình\r\n              admin để tiếp tục demo.\r\n            </p>\r\n          ) : (\r\n            <div className=\"row g-3\">\r\n              {cards.map((card) => {\r\n                const isActive = selectedCardId === card.id;\r\n                return (\r\n                  <div className=\"col-md-4\" key={card.id}>\r\n                    <button\r\n                      type=\"button\"\r\n                      className={`card h-100 text-start border ${\r\n                        isActive ? \"border-danger\" : \"border-transparent\"\r\n                      }`}\r\n                      onClick={() => setSelectedCardId(card.id)}\r\n                    >\r\n                      <div className=\"card-body\">\r\n                        <div className=\"d-flex justify-content-between align-items-start mb-2\">\r\n                          <div className=\"fw-semibold text-danger\">\r\n                            Thẻ #{card.id}\r\n                          </div>\r\n                          {isActive && (\r\n                            <span className=\"badge bg-danger-subtle text-danger\">\r\n                              Đang chọn\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"small text-muted\">{card.fullName}</div>\r\n                        <div className=\"small\">Số thẻ: {card.cardNumber}</div>\r\n                        <div className=\"small\">CVV: {card.cvv}</div>\r\n                        <div className=\"small\">Liên hệ: {card.phone}</div>\r\n                        <div className=\"small\">Email: {card.email}</div>\r\n                        <div className=\"small\">\r\n                          Rò rỉ lúc: {formatDate(card.leakedAt)}\r\n                        </div>\r\n                      </div>\r\n                    </button>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </section>\r\n\r\n      {selectedCard && (\r\n        <section className=\"card shadow-sm mb-4 border-danger\">\r\n          <div className=\"card-body\">\r\n            <div className=\"d-flex justify-content-between flex-wrap gap-3 mb-3\">\r\n              <div>\r\n                <h2 className=\"h5 mb-1 text-danger\">\r\n                  Bước 1: Gọi điện xin OTP\r\n                </h2>\r\n                <p className=\"text-muted mb-0\">\r\n                  Giả vờ là nhân viên ngân hàng, thuyết phục nạn nhân đọc mã OTP\r\n                  vừa nhận để \"kích hoạt thẻ\".\r\n                </p>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-danger\"\r\n                onClick={handleInitiate}\r\n                disabled={actions.initiate}\r\n              >\r\n                {actions.initiate ? \"Đang yêu cầu OTP...\" : \"Tạo OTP giả mạo\"}\r\n              </button>\r\n            </div>\r\n            {recentSession ? (\r\n              <div className=\"row g-3\">\r\n                <div className=\"col-md-6\">\r\n                  <div className=\"otp-box\">\r\n                    <span className=\"otp-box__label\">OTP mục tiêu</span>\r\n                    <span className=\"otp-box__code\">\r\n                      {recentSession.status === \"pending\" ? \"??????\" : \"******\"}\r\n                    </span>\r\n                    <small className=\"text-muted\">\r\n                      Trạng thái: {recentSession.status} &bull; Hết hạn{\" \"}\r\n                      {formatDate(recentSession.expiresAt)}\r\n                    </small>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  <dl className=\"row mb-0\">\r\n                    <dt className=\"col-sm-6\">Mục tiêu giao dịch</dt>\r\n                    <dd className=\"col-sm-6\">\r\n                      {Number(recentSession.amountTarget || 0).toLocaleString(\r\n                        \"vi-VN\"\r\n                      )}{\" \"}\r\n                      VND\r\n                    </dd>\r\n                    <dt className=\"col-sm-6\">Cửa hàng</dt>\r\n                    <dd className=\"col-sm-6\">{recentSession.merchant}</dd>\r\n                    <dt className=\"col-sm-6\">Nạn nhân đọc OTP</dt>\r\n                    <dd className=\"col-sm-6\">\r\n                      {recentSession.userSharedAt\r\n                        ? formatDate(recentSession.userSharedAt)\r\n                        : \"Chưa có\"}\r\n                    </dd>\r\n                    {recentSession.defenseAction === \"blocked\" && (\r\n                      <>\r\n                        <dt className=\"col-sm-6 text-danger\">\r\n                          Giao dịch đã bị khóa\r\n                        </dt>\r\n                        <dd className=\"col-sm-6 text-danger\">\r\n                          {recentSession.defenseReason ||\r\n                            \"Nạn nhân báo cáo OTP đáng ngờ\"}\r\n                        </dd>\r\n                      </>\r\n                    )}\r\n                  </dl>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-muted mb-0\">\r\n                Chưa có phiên OTP. Hãy tạo OTP để tiếp tục.\r\n              </p>\r\n            )}\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {recentSession && (\r\n        <section className=\"card shadow-sm mb-4\">\r\n          <div className=\"card-body\">\r\n            <div className=\"d-flex justify-content-between flex-wrap gap-3 mb-3\">\r\n              <div>\r\n                <h2 className=\"h5 mb-1\">Bước 2: Thực hiện giao dịch giả</h2>\r\n                <p className=\"text-muted mb-0\">\r\n                  Khi nạn nhân đã đọc OTP, kẻ gian nhập mã vào cổng thanh toán\r\n                  để rút tiền.\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"row g-3\">\r\n              <div className=\"col-md-4\">\r\n                <label className=\"form-label\" htmlFor=\"merchant\">\r\n                  Cửa hàng giả mạo\r\n                </label>\r\n                <input\r\n                  id=\"merchant\"\r\n                  name=\"merchant\"\r\n                  className=\"form-control\"\r\n                  value={payment.merchant}\r\n                  onChange={handlePaymentChange}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <label className=\"form-label\" htmlFor=\"amount\">\r\n                  Số tiền (VND)\r\n                </label>\r\n                <input\r\n                  id=\"amount\"\r\n                  name=\"amount\"\r\n                  className=\"form-control\"\r\n                  value={payment.amount}\r\n                  onChange={handlePaymentChange}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <label className=\"form-label\" htmlFor=\"otpCode\">\r\n                  OTP do nạn nhân đọc\r\n                </label>\r\n                <input\r\n                  id=\"otpCode\"\r\n                  name=\"otpCode\"\r\n                  className=\"form-control\"\r\n                  value={payment.otpCode}\r\n                  onChange={handlePaymentChange}\r\n                  placeholder=\"Nhập OTP mà nạn nhân cung cấp\"\r\n                />\r\n              </div>\r\n              <div className=\"col-12\">\r\n                <label className=\"form-label\" htmlFor=\"description\">\r\n                  Mô tả giao dịch\r\n                </label>\r\n                <textarea\r\n                  id=\"description\"\r\n                  name=\"description\"\r\n                  className=\"form-control\"\r\n                  rows={3}\r\n                  value={payment.description}\r\n                  onChange={handlePaymentChange}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 d-flex justify-content-end\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-outline-danger\"\r\n                  onClick={handleExecutePayment}\r\n                  disabled={\r\n                    actions.pay || recentSession.defenseAction === \"blocked\"\r\n                  }\r\n                >\r\n                  {actions.pay ? \"Đang thực hiện...\" : \"Thanh toán giả mạo\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      <section className=\"card shadow-sm\">\r\n        <div className=\"card-body\">\r\n          <h2 className=\"h5 mb-3\">Dòng thời gian tội phạm</h2>\r\n          {fraudTimeline.length === 0 ? (\r\n            <p className=\"text-muted mb-0\">\r\n              Chưa có hoạt động nào. Hãy tiếp tục quy trình để xem toàn bộ câu\r\n              chuyện.\r\n            </p>\r\n          ) : (\r\n            <ol className=\"timeline\">\r\n              {fraudTimeline.map((event) => (\r\n                <li key={event.id} className=\"timeline__item\">\r\n                  <div\r\n                    className={`timeline__badge bg-${event.tone}-subtle text-${event.tone}`}\r\n                  >\r\n                    <i className=\"bi bi-activity\" aria-hidden></i>\r\n                  </div>\r\n                  <div className=\"timeline__content\">\r\n                    <h3 className=\"timeline__title\">{event.title}</h3>\r\n                    <p className=\"timeline__meta text-muted mb-1\">\r\n                      {formatDate(event.date)}\r\n                    </p>\r\n                    <p className=\"timeline__description mb-0\">\r\n                      {event.description}\r\n                    </p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ol>\r\n          )}\r\n        </div>\r\n      </section>\r\n\r\n      {loading && <LoaderOverlay message=\"Đang tải dữ liệu kẻ gian...\" />}\r\n      <Toast\r\n        show={toast.show}\r\n        type={toast.type}\r\n        message={toast.message}\r\n        onClose={closeToast}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FraudConsole;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}