{"ast":null,"code":"var _jsxFileName = \"D:\\\\BMUDHT\\\\frontend\\\\src\\\\components\\\\AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport api from \"../services/api\";\nimport LoaderOverlay from \"./LoaderOverlay\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEFAULT_PAGE_SIZE = 10;\nconst columns = {\n  users: [{\n    key: \"username\",\n    label: \"Tài khoản\"\n  }, {\n    key: \"email\",\n    label: \"Email\"\n  }, {\n    key: \"role\",\n    label: \"Vai trò\"\n  }, {\n    key: \"status\",\n    label: \"Trạng thái\"\n  }, {\n    key: \"balance\",\n    label: \"Số dư\"\n  }],\n  transactions: [{\n    key: \"id\",\n    label: \"Mã giao dịch\"\n  }, {\n    key: \"type\",\n    label: \"Loại\"\n  }, {\n    key: \"amount\",\n    label: \"Số tiền\"\n  }, {\n    key: \"status\",\n    label: \"Trạng thái\"\n  }, {\n    key: \"createdAt\",\n    label: \"Thời gian\"\n  }, {\n    key: \"fromUser\",\n    label: \"Người gửi\"\n  }, {\n    key: \"toUser\",\n    label: \"Người nhận\"\n  }, {\n    key: \"description\",\n    label: \"Ghi chú\"\n  }],\n  logs: [{\n    key: \"timestamp\",\n    label: \"Thời gian\"\n  }, {\n    key: \"username\",\n    label: \"Tài khoản\"\n  }, {\n    key: \"action\",\n    label: \"Hành động\"\n  }, {\n    key: \"ipAddress\",\n    label: \"Địa chỉ IP\"\n  }, {\n    key: \"details\",\n    label: \"Chi tiết\"\n  }]\n};\nconst AdminDashboard = ({\n  onLogout\n}) => {\n  _s();\n  const [selectedTab, setSelectedTab] = useState(\"users\");\n  const [users, setUsers] = useState([]);\n  const [transactions, setTransactions] = useState([]);\n  const [logs, setLogs] = useState([]);\n  const [summary, setSummary] = useState(null);\n  const [summaryLoading, setSummaryLoading] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(0);\n  const [filters, setFilters] = useState({\n    search: \"\",\n    status: \"all\"\n  });\n  const activeData = useMemo(() => {\n    switch (selectedTab) {\n      case \"transactions\":\n        return transactions;\n      case \"logs\":\n        return logs;\n      case \"users\":\n      default:\n        return users;\n    }\n  }, [selectedTab, users, transactions, logs]);\n  const activeColumns = columns[selectedTab];\n  const fetchData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    const params = {\n      page,\n      limit: DEFAULT_PAGE_SIZE\n    };\n    const trimmedSearch = filters.search.trim();\n    if (trimmedSearch.length > 0) {\n      params.search = trimmedSearch;\n    }\n    if (filters.status !== \"all\") {\n      if (selectedTab === \"users\" && [\"active\", \"locked\"].includes(filters.status)) {\n        params.status = filters.status;\n      }\n      if (selectedTab === \"transactions\" && [\"pending\", \"completed\", \"failed\"].includes(filters.status)) {\n        params.status = filters.status;\n      }\n    }\n    try {\n      if (selectedTab === \"users\") {\n        var _res$data, _res$data2;\n        const res = await api.get(\"/api/admin/users\", {\n          params\n        });\n        setUsers(((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.users) || []);\n        setTotal(((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.total) || 0);\n      } else if (selectedTab === \"transactions\") {\n        var _res$data3, _res$data4;\n        const res = await api.get(\"/api/admin/transactions\", {\n          params\n        });\n        setTransactions(((_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.transactions) || []);\n        setTotal(((_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.total) || 0);\n      } else {\n        var _res$data5, _res$data6;\n        const res = await api.get(\"/api/admin/audit\", {\n          params\n        });\n        setLogs(((_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : _res$data5.logs) || []);\n        setTotal(((_res$data6 = res.data) === null || _res$data6 === void 0 ? void 0 : _res$data6.total) || 0);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Không thể tải dữ liệu quản trị. Vui lòng thử lại.\");\n    } finally {\n      setLoading(false);\n    }\n  }, [filters.search, filters.status, page, selectedTab]);\n  const loadSummary = useCallback(async () => {\n    setSummaryLoading(true);\n    try {\n      const res = await api.get(\"/api/admin/summary\");\n      setSummary(res.data || null);\n    } catch (err) {\n      console.error(\"Không thể tải tổng quan quản trị:\", err);\n    } finally {\n      setSummaryLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    loadSummary();\n  }, [loadSummary]);\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      fetchData();\n    }, 250);\n    return () => clearTimeout(timer);\n  }, [fetchData]);\n  const handleSearch = event => {\n    const value = event.target.value;\n    setFilters(prev => ({\n      ...prev,\n      search: value\n    }));\n    setPage(1);\n  };\n  const handleStatusChange = event => {\n    setFilters(prev => ({\n      ...prev,\n      status: event.target.value\n    }));\n    setPage(1);\n  };\n  const statusOptions = useMemo(() => {\n    if (selectedTab === \"users\") {\n      return [{\n        value: \"all\",\n        label: \"Tất cả trạng thái\"\n      }, {\n        value: \"active\",\n        label: \"Hoạt động\"\n      }, {\n        value: \"locked\",\n        label: \"Đã khóa\"\n      }];\n    }\n    if (selectedTab === \"transactions\") {\n      return [{\n        value: \"all\",\n        label: \"Tất cả trạng thái\"\n      }, {\n        value: \"pending\",\n        label: \"Đang xử lý\"\n      }, {\n        value: \"completed\",\n        label: \"Hoàn thành\"\n      }, {\n        value: \"failed\",\n        label: \"Thất bại\"\n      }];\n    }\n    return [{\n      value: \"all\",\n      label: \"Tất cả\"\n    }];\n  }, [selectedTab]);\n  const formatCell = (column, row) => {\n    const {\n      key\n    } = column;\n    const value = row[key];\n    if (value === null || value === undefined || value === \"\") return \"-\";\n    if (key === \"amount\" || key === \"balance\") {\n      return Number(value || 0).toLocaleString(\"vi-VN\", {\n        style: \"currency\",\n        currency: \"VND\",\n        minimumFractionDigits: key === \"balance\" ? 0 : 0\n      });\n    }\n    if (key === \"createdAt\" || key === \"timestamp\") {\n      return new Date(value).toLocaleString(\"vi-VN\", {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        day: \"2-digit\",\n        month: \"2-digit\",\n        year: \"numeric\"\n      });\n    }\n    if (key === \"status\") {\n      if (selectedTab === \"users\") {\n        const isLocked = value === \"locked\";\n        const label = isLocked ? \"Đã khóa\" : \"Hoạt động\";\n        const tone = isLocked ? \"danger\" : \"success\";\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `badge bg-${tone}-subtle text-${tone}`,\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this);\n      }\n      const mapping = {\n        completed: {\n          label: \"Hoàn thành\",\n          tone: \"success\"\n        },\n        pending: {\n          label: \"Đang xử lý\",\n          tone: \"warning\"\n        },\n        failed: {\n          label: \"Thất bại\",\n          tone: \"danger\"\n        }\n      };\n      const meta = mapping[value] || {\n        label: value,\n        tone: \"secondary\"\n      };\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `badge bg-${meta.tone}-subtle text-${meta.tone}`,\n        children: meta.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this);\n    }\n    if (key === \"role\") {\n      return value === \"admin\" ? \"Quản trị viên\" : \"Người dùng\";\n    }\n    if (key === \"type\") {\n      const labels = {\n        transfer: \"Chuyển khoản\",\n        deposit: \"Nạp tiền\",\n        withdraw: \"Rút tiền\"\n      };\n      return labels[value] || value;\n    }\n    if (key === \"details\" || key === \"description\") {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"admin-dashboard__truncate\",\n        title: value,\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this);\n    }\n    if (key === \"username\" && selectedTab === \"logs\") {\n      return value || \"Ẩn danh\";\n    }\n    return value;\n  };\n  const handleRefresh = () => {\n    loadSummary();\n    fetchData();\n  };\n  const summaryCards = useMemo(() => {\n    if (!summary) return [];\n    const formatNumber = val => Number(val || 0).toLocaleString(\"vi-VN\");\n    const volume = Number(summary.totalVolume || 0).toLocaleString(\"vi-VN\", {\n      style: \"currency\",\n      currency: \"VND\",\n      minimumFractionDigits: 0\n    });\n    return [{\n      title: \"Tổng người dùng\",\n      value: formatNumber(summary.totalUsers),\n      caption: `${formatNumber(summary.adminUsers)} tài khoản quản trị`,\n      icon: \"bi-people-fill\",\n      tone: \"primary\"\n    }, {\n      title: \"Tài khoản bị khóa\",\n      value: formatNumber(summary.lockedUsers),\n      caption: \"Theo dõi đăng nhập bất thường\",\n      icon: \"bi-shield-lock-fill\",\n      tone: \"danger\"\n    }, {\n      title: \"Giao dịch hoàn tất\",\n      value: formatNumber(summary.completedTransactions),\n      caption: `${formatNumber(summary.totalTransactions)} giao dịch toàn hệ thống`,\n      icon: \"bi-arrow-left-right\",\n      tone: \"success\"\n    }, {\n      title: \"Doanh số lũy kế\",\n      value: volume,\n      caption: `${formatNumber(summary.pendingTransactions)} đang xử lý, ${formatNumber(summary.failedTransactions)} thất bại`,\n      icon: \"bi-cash-stack\",\n      tone: \"info\"\n    }];\n  }, [summary]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-dashboard-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"admin-dashboard__header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"admin-dashboard__title\",\n          children: \"B\\u1EA3ng \\u0111i\\u1EC1u khi\\u1EC3n qu\\u1EA3n tr\\u1ECB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-dashboard__subtitle\",\n          children: \"Theo d\\xF5i ho\\u1EA1t \\u0111\\u1ED9ng ng\\u01B0\\u1EDDi d\\xF9ng, giao d\\u1ECBch v\\xE0 nh\\u1EADt k\\xFD b\\u1EA3o m\\u1EADt trong th\\u1EDDi gian th\\u1EF1c.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-dashboard__actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-light\",\n          onClick: handleRefresh,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-arrow-repeat me-2\",\n            \"aria-hidden\": true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), \"L\\xE0m m\\u1EDBi\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-danger\",\n          onClick: onLogout,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-box-arrow-right me-2\",\n            \"aria-hidden\": true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), \"\\u0110\\u0103ng xu\\u1EA5t\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this), summaryCards.length > 0 && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"admin-dashboard__summary\",\n      children: summaryCards.map(card => /*#__PURE__*/_jsxDEV(\"article\", {\n        className: `admin-summary-card admin-summary-card--${card.tone} ${summaryLoading ? \"is-loading\" : \"\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-summary-card__icon\",\n          \"aria-hidden\": true,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: `bi ${card.icon}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-summary-card__body\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"admin-summary-card__title\",\n            children: card.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"admin-summary-card__value\",\n            children: card.value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"admin-summary-card__caption\",\n            children: card.caption\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 15\n        }, this)]\n      }, card.title, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"admin-dashboard__tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `admin-dashboard__tab ${selectedTab === \"users\" ? \"is-active\" : \"\"}`,\n        onClick: () => {\n          setSelectedTab(\"users\");\n          setPage(1);\n          setFilters({\n            search: \"\",\n            status: \"all\"\n          });\n        },\n        children: \"Ng\\u01B0\\u1EDDi d\\xF9ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `admin-dashboard__tab ${selectedTab === \"transactions\" ? \"is-active\" : \"\"}`,\n        onClick: () => {\n          setSelectedTab(\"transactions\");\n          setPage(1);\n          setFilters({\n            search: \"\",\n            status: \"all\"\n          });\n        },\n        children: \"Giao d\\u1ECBch\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `admin-dashboard__tab ${selectedTab === \"logs\" ? \"is-active\" : \"\"}`,\n        onClick: () => {\n          setSelectedTab(\"logs\");\n          setPage(1);\n          setFilters({\n            search: \"\",\n            status: \"all\"\n          });\n        },\n        children: \"Nh\\u1EADt k\\xFD b\\u1EA3o m\\u1EADt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"admin-dashboard__filters\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-floating\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"adminSearch\",\n          className: \"form-control\",\n          placeholder: \"T\\xECm ki\\u1EBFm\",\n          value: filters.search,\n          onChange: handleSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"adminSearch\",\n          children: \"T\\xECm ki\\u1EBFm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-floating\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"adminStatus\",\n          className: \"form-select\",\n          value: filters.status,\n          onChange: handleStatusChange,\n          disabled: statusOptions.length === 1,\n          children: statusOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: option.value,\n            children: option.label\n          }, option.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"adminStatus\",\n          children: \"Tr\\u1EA1ng th\\xE1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"bi bi-exclamation-triangle-fill me-2\",\n        \"aria-hidden\": true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 11\n      }, this), error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-dashboard__table card shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-responsive\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table align-middle\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: activeColumns.map(column => /*#__PURE__*/_jsxDEV(\"th\", {\n                children: column.label\n              }, column.key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: activeData.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: activeColumns.length,\n                className: \"text-center text-muted py-4\",\n                children: \"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this) : activeData.map((row, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: activeColumns.map(column => /*#__PURE__*/_jsxDEV(\"td\", {\n                children: formatCell(column, row)\n              }, column.key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 23\n              }, this))\n            }, row.id || row.timestamp || index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-dashboard__pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Trang \", page, \" / \", Math.max(1, Math.ceil(total / DEFAULT_PAGE_SIZE))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-primary\",\n            onClick: () => setPage(prev => Math.max(1, prev - 1)),\n            disabled: page === 1,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-chevron-left\",\n              \"aria-hidden\": true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-primary\",\n            onClick: () => setPage(prev => prev * DEFAULT_PAGE_SIZE >= total ? prev : prev + 1),\n            disabled: page * DEFAULT_PAGE_SIZE >= total,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-chevron-right\",\n              \"aria-hidden\": true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(LoaderOverlay, {\n      message: \"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u qu\\u1EA3n tr\\u1ECB...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 295,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"5gvdyAmKIDZeRt4DQoakUJv+fjw=\");\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","api","LoaderOverlay","jsxDEV","_jsxDEV","DEFAULT_PAGE_SIZE","columns","users","key","label","transactions","logs","AdminDashboard","onLogout","_s","selectedTab","setSelectedTab","setUsers","setTransactions","setLogs","summary","setSummary","summaryLoading","setSummaryLoading","loading","setLoading","error","setError","page","setPage","total","setTotal","filters","setFilters","search","status","activeData","activeColumns","fetchData","params","limit","trimmedSearch","trim","length","includes","_res$data","_res$data2","res","get","data","_res$data3","_res$data4","_res$data5","_res$data6","err","_err$response","_err$response$data","response","loadSummary","console","timer","setTimeout","clearTimeout","handleSearch","event","value","target","prev","handleStatusChange","statusOptions","formatCell","column","row","undefined","Number","toLocaleString","style","currency","minimumFractionDigits","Date","hour","minute","day","month","year","isLocked","tone","className","children","fileName","_jsxFileName","lineNumber","columnNumber","mapping","completed","pending","failed","meta","labels","transfer","deposit","withdraw","title","handleRefresh","summaryCards","formatNumber","val","volume","totalVolume","totalUsers","caption","adminUsers","icon","lockedUsers","completedTransactions","totalTransactions","pendingTransactions","failedTransactions","onClick","map","card","id","placeholder","onChange","htmlFor","disabled","option","role","colSpan","index","timestamp","Math","max","ceil","message","_c","$RefreshReg$"],"sources":["D:/BMUDHT/frontend/src/components/AdminDashboard.js"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport api from \"../services/api\";\r\nimport LoaderOverlay from \"./LoaderOverlay\";\r\n\r\nconst DEFAULT_PAGE_SIZE = 10;\r\n\r\nconst columns = {\r\n  users: [\r\n    { key: \"username\", label: \"Tài khoản\" },\r\n    { key: \"email\", label: \"Email\" },\r\n    { key: \"role\", label: \"Vai trò\" },\r\n    { key: \"status\", label: \"Trạng thái\" },\r\n    { key: \"balance\", label: \"Số dư\" },\r\n  ],\r\n  transactions: [\r\n    { key: \"id\", label: \"Mã giao dịch\" },\r\n    { key: \"type\", label: \"Loại\" },\r\n    { key: \"amount\", label: \"Số tiền\" },\r\n    { key: \"status\", label: \"Trạng thái\" },\r\n    { key: \"createdAt\", label: \"Thời gian\" },\r\n    { key: \"fromUser\", label: \"Người gửi\" },\r\n    { key: \"toUser\", label: \"Người nhận\" },\r\n    { key: \"description\", label: \"Ghi chú\" },\r\n  ],\r\n  logs: [\r\n    { key: \"timestamp\", label: \"Thời gian\" },\r\n    { key: \"username\", label: \"Tài khoản\" },\r\n    { key: \"action\", label: \"Hành động\" },\r\n    { key: \"ipAddress\", label: \"Địa chỉ IP\" },\r\n    { key: \"details\", label: \"Chi tiết\" },\r\n  ],\r\n};\r\n\r\nconst AdminDashboard = ({ onLogout }) => {\r\n  const [selectedTab, setSelectedTab] = useState(\"users\");\r\n  const [users, setUsers] = useState([]);\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [logs, setLogs] = useState([]);\r\n  const [summary, setSummary] = useState(null);\r\n  const [summaryLoading, setSummaryLoading] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [page, setPage] = useState(1);\r\n  const [total, setTotal] = useState(0);\r\n  const [filters, setFilters] = useState({ search: \"\", status: \"all\" });\r\n\r\n  const activeData = useMemo(() => {\r\n    switch (selectedTab) {\r\n      case \"transactions\":\r\n        return transactions;\r\n      case \"logs\":\r\n        return logs;\r\n      case \"users\":\r\n      default:\r\n        return users;\r\n    }\r\n  }, [selectedTab, users, transactions, logs]);\r\n\r\n  const activeColumns = columns[selectedTab];\r\n\r\n  const fetchData = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    const params = {\r\n      page,\r\n      limit: DEFAULT_PAGE_SIZE,\r\n    };\r\n\r\n    const trimmedSearch = filters.search.trim();\r\n    if (trimmedSearch.length > 0) {\r\n      params.search = trimmedSearch;\r\n    }\r\n\r\n    if (filters.status !== \"all\") {\r\n      if (\r\n        selectedTab === \"users\" &&\r\n        [\"active\", \"locked\"].includes(filters.status)\r\n      ) {\r\n        params.status = filters.status;\r\n      }\r\n      if (\r\n        selectedTab === \"transactions\" &&\r\n        [\"pending\", \"completed\", \"failed\"].includes(filters.status)\r\n      ) {\r\n        params.status = filters.status;\r\n      }\r\n    }\r\n\r\n    try {\r\n      if (selectedTab === \"users\") {\r\n        const res = await api.get(\"/api/admin/users\", { params });\r\n        setUsers(res.data?.users || []);\r\n        setTotal(res.data?.total || 0);\r\n      } else if (selectedTab === \"transactions\") {\r\n        const res = await api.get(\"/api/admin/transactions\", { params });\r\n        setTransactions(res.data?.transactions || []);\r\n        setTotal(res.data?.total || 0);\r\n      } else {\r\n        const res = await api.get(\"/api/admin/audit\", { params });\r\n        setLogs(res.data?.logs || []);\r\n        setTotal(res.data?.total || 0);\r\n      }\r\n    } catch (err) {\r\n      setError(\r\n        err.response?.data?.error ||\r\n          \"Không thể tải dữ liệu quản trị. Vui lòng thử lại.\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters.search, filters.status, page, selectedTab]);\r\n\r\n  const loadSummary = useCallback(async () => {\r\n    setSummaryLoading(true);\r\n    try {\r\n      const res = await api.get(\"/api/admin/summary\");\r\n      setSummary(res.data || null);\r\n    } catch (err) {\r\n      console.error(\"Không thể tải tổng quan quản trị:\", err);\r\n    } finally {\r\n      setSummaryLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadSummary();\r\n  }, [loadSummary]);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      fetchData();\r\n    }, 250);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [fetchData]);\r\n\r\n  const handleSearch = (event) => {\r\n    const value = event.target.value;\r\n    setFilters((prev) => ({ ...prev, search: value }));\r\n    setPage(1);\r\n  };\r\n\r\n  const handleStatusChange = (event) => {\r\n    setFilters((prev) => ({ ...prev, status: event.target.value }));\r\n    setPage(1);\r\n  };\r\n\r\n  const statusOptions = useMemo(() => {\r\n    if (selectedTab === \"users\") {\r\n      return [\r\n        { value: \"all\", label: \"Tất cả trạng thái\" },\r\n        { value: \"active\", label: \"Hoạt động\" },\r\n        { value: \"locked\", label: \"Đã khóa\" },\r\n      ];\r\n    }\r\n    if (selectedTab === \"transactions\") {\r\n      return [\r\n        { value: \"all\", label: \"Tất cả trạng thái\" },\r\n        { value: \"pending\", label: \"Đang xử lý\" },\r\n        { value: \"completed\", label: \"Hoàn thành\" },\r\n        { value: \"failed\", label: \"Thất bại\" },\r\n      ];\r\n    }\r\n    return [{ value: \"all\", label: \"Tất cả\" }];\r\n  }, [selectedTab]);\r\n\r\n  const formatCell = (column, row) => {\r\n    const { key } = column;\r\n    const value = row[key];\r\n    if (value === null || value === undefined || value === \"\") return \"-\";\r\n\r\n    if (key === \"amount\" || key === \"balance\") {\r\n      return Number(value || 0).toLocaleString(\"vi-VN\", {\r\n        style: \"currency\",\r\n        currency: \"VND\",\r\n        minimumFractionDigits: key === \"balance\" ? 0 : 0,\r\n      });\r\n    }\r\n\r\n    if (key === \"createdAt\" || key === \"timestamp\") {\r\n      return new Date(value).toLocaleString(\"vi-VN\", {\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n        day: \"2-digit\",\r\n        month: \"2-digit\",\r\n        year: \"numeric\",\r\n      });\r\n    }\r\n\r\n    if (key === \"status\") {\r\n      if (selectedTab === \"users\") {\r\n        const isLocked = value === \"locked\";\r\n        const label = isLocked ? \"Đã khóa\" : \"Hoạt động\";\r\n        const tone = isLocked ? \"danger\" : \"success\";\r\n        return (\r\n          <span className={`badge bg-${tone}-subtle text-${tone}`}>\r\n            {label}\r\n          </span>\r\n        );\r\n      }\r\n\r\n      const mapping = {\r\n        completed: { label: \"Hoàn thành\", tone: \"success\" },\r\n        pending: { label: \"Đang xử lý\", tone: \"warning\" },\r\n        failed: { label: \"Thất bại\", tone: \"danger\" },\r\n      };\r\n      const meta = mapping[value] || { label: value, tone: \"secondary\" };\r\n      return (\r\n        <span className={`badge bg-${meta.tone}-subtle text-${meta.tone}`}>\r\n          {meta.label}\r\n        </span>\r\n      );\r\n    }\r\n\r\n    if (key === \"role\") {\r\n      return value === \"admin\" ? \"Quản trị viên\" : \"Người dùng\";\r\n    }\r\n\r\n    if (key === \"type\") {\r\n      const labels = {\r\n        transfer: \"Chuyển khoản\",\r\n        deposit: \"Nạp tiền\",\r\n        withdraw: \"Rút tiền\",\r\n      };\r\n      return labels[value] || value;\r\n    }\r\n\r\n    if (key === \"details\" || key === \"description\") {\r\n      return (\r\n        <span className=\"admin-dashboard__truncate\" title={value}>\r\n          {value}\r\n        </span>\r\n      );\r\n    }\r\n\r\n    if (key === \"username\" && selectedTab === \"logs\") {\r\n      return value || \"Ẩn danh\";\r\n    }\r\n\r\n    return value;\r\n  };\r\n\r\n  const handleRefresh = () => {\r\n    loadSummary();\r\n    fetchData();\r\n  };\r\n\r\n  const summaryCards = useMemo(() => {\r\n    if (!summary) return [];\r\n    const formatNumber = (val) => Number(val || 0).toLocaleString(\"vi-VN\");\r\n    const volume = Number(summary.totalVolume || 0).toLocaleString(\"vi-VN\", {\r\n      style: \"currency\",\r\n      currency: \"VND\",\r\n      minimumFractionDigits: 0,\r\n    });\r\n\r\n    return [\r\n      {\r\n        title: \"Tổng người dùng\",\r\n        value: formatNumber(summary.totalUsers),\r\n        caption: `${formatNumber(summary.adminUsers)} tài khoản quản trị`,\r\n        icon: \"bi-people-fill\",\r\n        tone: \"primary\",\r\n      },\r\n      {\r\n        title: \"Tài khoản bị khóa\",\r\n        value: formatNumber(summary.lockedUsers),\r\n        caption: \"Theo dõi đăng nhập bất thường\",\r\n        icon: \"bi-shield-lock-fill\",\r\n        tone: \"danger\",\r\n      },\r\n      {\r\n        title: \"Giao dịch hoàn tất\",\r\n        value: formatNumber(summary.completedTransactions),\r\n        caption: `${formatNumber(\r\n          summary.totalTransactions\r\n        )} giao dịch toàn hệ thống`,\r\n        icon: \"bi-arrow-left-right\",\r\n        tone: \"success\",\r\n      },\r\n      {\r\n        title: \"Doanh số lũy kế\",\r\n        value: volume,\r\n        caption: `${formatNumber(\r\n          summary.pendingTransactions\r\n        )} đang xử lý, ${formatNumber(summary.failedTransactions)} thất bại`,\r\n        icon: \"bi-cash-stack\",\r\n        tone: \"info\",\r\n      },\r\n    ];\r\n  }, [summary]);\r\n\r\n  return (\r\n    <div className=\"admin-dashboard-page\">\r\n      <header className=\"admin-dashboard__header\">\r\n        <div>\r\n          <h1 className=\"admin-dashboard__title\">Bảng điều khiển quản trị</h1>\r\n          <p className=\"admin-dashboard__subtitle\">\r\n            Theo dõi hoạt động người dùng, giao dịch và nhật ký bảo mật trong\r\n            thời gian thực.\r\n          </p>\r\n        </div>\r\n        <div className=\"admin-dashboard__actions\">\r\n          <button className=\"btn btn-light\" onClick={handleRefresh}>\r\n            <i className=\"bi bi-arrow-repeat me-2\" aria-hidden></i>\r\n            Làm mới\r\n          </button>\r\n          <button className=\"btn btn-outline-danger\" onClick={onLogout}>\r\n            <i className=\"bi bi-box-arrow-right me-2\" aria-hidden></i>\r\n            Đăng xuất\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      {summaryCards.length > 0 && (\r\n        <section className=\"admin-dashboard__summary\">\r\n          {summaryCards.map((card) => (\r\n            <article\r\n              key={card.title}\r\n              className={`admin-summary-card admin-summary-card--${card.tone} ${\r\n                summaryLoading ? \"is-loading\" : \"\"\r\n              }`}\r\n            >\r\n              <div className=\"admin-summary-card__icon\" aria-hidden>\r\n                <i className={`bi ${card.icon}`}></i>\r\n              </div>\r\n              <div className=\"admin-summary-card__body\">\r\n                <p className=\"admin-summary-card__title\">{card.title}</p>\r\n                <p className=\"admin-summary-card__value\">{card.value}</p>\r\n                <p className=\"admin-summary-card__caption\">{card.caption}</p>\r\n              </div>\r\n            </article>\r\n          ))}\r\n        </section>\r\n      )}\r\n\r\n      <nav className=\"admin-dashboard__tabs\">\r\n        <button\r\n          className={`admin-dashboard__tab ${\r\n            selectedTab === \"users\" ? \"is-active\" : \"\"\r\n          }`}\r\n          onClick={() => {\r\n            setSelectedTab(\"users\");\r\n            setPage(1);\r\n            setFilters({ search: \"\", status: \"all\" });\r\n          }}\r\n        >\r\n          Người dùng\r\n        </button>\r\n        <button\r\n          className={`admin-dashboard__tab ${\r\n            selectedTab === \"transactions\" ? \"is-active\" : \"\"\r\n          }`}\r\n          onClick={() => {\r\n            setSelectedTab(\"transactions\");\r\n            setPage(1);\r\n            setFilters({ search: \"\", status: \"all\" });\r\n          }}\r\n        >\r\n          Giao dịch\r\n        </button>\r\n        <button\r\n          className={`admin-dashboard__tab ${\r\n            selectedTab === \"logs\" ? \"is-active\" : \"\"\r\n          }`}\r\n          onClick={() => {\r\n            setSelectedTab(\"logs\");\r\n            setPage(1);\r\n            setFilters({ search: \"\", status: \"all\" });\r\n          }}\r\n        >\r\n          Nhật ký bảo mật\r\n        </button>\r\n      </nav>\r\n\r\n      <section className=\"admin-dashboard__filters\">\r\n        <div className=\"form-floating\">\r\n          <input\r\n            id=\"adminSearch\"\r\n            className=\"form-control\"\r\n            placeholder=\"Tìm kiếm\"\r\n            value={filters.search}\r\n            onChange={handleSearch}\r\n          />\r\n          <label htmlFor=\"adminSearch\">Tìm kiếm</label>\r\n        </div>\r\n        <div className=\"form-floating\">\r\n          <select\r\n            id=\"adminStatus\"\r\n            className=\"form-select\"\r\n            value={filters.status}\r\n            onChange={handleStatusChange}\r\n            disabled={statusOptions.length === 1}\r\n          >\r\n            {statusOptions.map((option) => (\r\n              <option key={option.value} value={option.value}>\r\n                {option.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <label htmlFor=\"adminStatus\">Trạng thái</label>\r\n        </div>\r\n      </section>\r\n\r\n      {error && (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          <i className=\"bi bi-exclamation-triangle-fill me-2\" aria-hidden></i>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"admin-dashboard__table card shadow-sm\">\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table align-middle\">\r\n            <thead>\r\n              <tr>\r\n                {activeColumns.map((column) => (\r\n                  <th key={column.key}>{column.label}</th>\r\n                ))}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {activeData.length === 0 ? (\r\n                <tr>\r\n                  <td\r\n                    colSpan={activeColumns.length}\r\n                    className=\"text-center text-muted py-4\"\r\n                  >\r\n                    Không có dữ liệu.\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                activeData.map((row, index) => (\r\n                  <tr key={row.id || row.timestamp || index}>\r\n                    {activeColumns.map((column) => (\r\n                      <td key={column.key}>{formatCell(column, row)}</td>\r\n                    ))}\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"admin-dashboard__pagination\">\r\n          <span>\r\n            Trang {page} / {Math.max(1, Math.ceil(total / DEFAULT_PAGE_SIZE))}\r\n          </span>\r\n          <div className=\"btn-group\">\r\n            <button\r\n              className=\"btn btn-outline-primary\"\r\n              onClick={() => setPage((prev) => Math.max(1, prev - 1))}\r\n              disabled={page === 1}\r\n            >\r\n              <i className=\"bi bi-chevron-left\" aria-hidden></i>\r\n            </button>\r\n            <button\r\n              className=\"btn btn-outline-primary\"\r\n              onClick={() =>\r\n                setPage((prev) =>\r\n                  prev * DEFAULT_PAGE_SIZE >= total ? prev : prev + 1\r\n                )\r\n              }\r\n              disabled={page * DEFAULT_PAGE_SIZE >= total}\r\n            >\r\n              <i className=\"bi bi-chevron-right\" aria-hidden></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {loading && <LoaderOverlay message=\"Đang tải dữ liệu quản trị...\" />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}