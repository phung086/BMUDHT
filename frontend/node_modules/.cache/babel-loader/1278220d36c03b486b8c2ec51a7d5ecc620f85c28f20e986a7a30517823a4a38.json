{"ast":null,"code":"import _objectSpread from\"D:/BMUDHT/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useCallback,useEffect,useMemo,useState}from\"react\";import api from\"../services/api\";import LoaderOverlay from\"./LoaderOverlay\";import ConfirmModal from\"./ConfirmModal\";import Toast from\"./Toast\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DEFAULT_PAGE_SIZE=10;const columns={users:[{key:\"username\",label:\"Tài khoản\"},{key:\"email\",label:\"Email\"},{key:\"role\",label:\"Vai trò\"},{key:\"status\",label:\"Trạng thái\"},{key:\"balance\",label:\"Số dư\"},{key:\"actions\",label:\"Tác vụ\"}],transactions:[{key:\"id\",label:\"Mã giao dịch\"},{key:\"type\",label:\"Loại\"},{key:\"amount\",label:\"Số tiền\"},{key:\"status\",label:\"Trạng thái\"},{key:\"createdAt\",label:\"Thời gian\"},{key:\"fromUser\",label:\"Người gửi\"},{key:\"toUser\",label:\"Người nhận\"},{key:\"description\",label:\"Ghi chú\"}],logs:[{key:\"timestamp\",label:\"Thời gian\"},{key:\"username\",label:\"Tài khoản\"},{key:\"action\",label:\"Hành động\"},{key:\"ipAddress\",label:\"Địa chỉ IP\"},{key:\"details\",label:\"Chi tiết\"}]};const AdminDashboard=_ref=>{var _passwordModal$user,_activityModal$user,_activityModal$user2,_confirmConfig$user2;let{onLogout}=_ref;const[selectedTab,setSelectedTab]=useState(\"users\");const[users,setUsers]=useState([]);const[transactions,setTransactions]=useState([]);const[logs,setLogs]=useState([]);const[summary,setSummary]=useState(null);const[summaryLoading,setSummaryLoading]=useState(false);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[page,setPage]=useState(1);const[total,setTotal]=useState(0);const[filters,setFilters]=useState({search:\"\",status:\"all\"});const[tableActionLoading,setTableActionLoading]=useState(null);const[createModalOpen,setCreateModalOpen]=useState(false);const[createSubmitting,setCreateSubmitting]=useState(false);const[createForm,setCreateForm]=useState({username:\"\",email:\"\",password:\"\",role:\"user\",balance:\"0\"});const[passwordModal,setPasswordModal]=useState({show:false,user:null,password:\"\",submitting:false});const[confirmConfig,setConfirmConfig]=useState({show:false,user:null,loading:false});const[activityModal,setActivityModal]=useState({show:false,user:null,rows:[],page:1,total:0,loading:false});const[toast,setToast]=useState({show:false,type:\"info\",message:\"\"});const activeData=useMemo(()=>{switch(selectedTab){case\"transactions\":return transactions;case\"logs\":return logs;case\"users\":default:return users;}},[selectedTab,users,transactions,logs]);const activeColumns=columns[selectedTab];const showToast=useCallback(function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"success\";setToast({show:true,type,message});},[]);const closeToast=useCallback(()=>{setToast(prev=>_objectSpread(_objectSpread({},prev),{},{show:false}));},[]);const fetchData=useCallback(async()=>{setLoading(true);setError(null);const params={page,limit:DEFAULT_PAGE_SIZE};const trimmedSearch=filters.search.trim();if(trimmedSearch.length>0){params.search=trimmedSearch;}if(filters.status!==\"all\"){if(selectedTab===\"users\"&&[\"active\",\"locked\"].includes(filters.status)){params.status=filters.status;}if(selectedTab===\"transactions\"&&[\"pending\",\"completed\",\"failed\"].includes(filters.status)){params.status=filters.status;}}try{if(selectedTab===\"users\"){var _res$data,_res$data2;const res=await api.get(\"/api/admin/users\",{params});setUsers(((_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.users)||[]);setTotal(((_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.total)||0);}else if(selectedTab===\"transactions\"){var _res$data3,_res$data4;const res=await api.get(\"/api/admin/transactions\",{params});setTransactions(((_res$data3=res.data)===null||_res$data3===void 0?void 0:_res$data3.transactions)||[]);setTotal(((_res$data4=res.data)===null||_res$data4===void 0?void 0:_res$data4.total)||0);}else{var _res$data5,_res$data6;const res=await api.get(\"/api/admin/audit\",{params});setLogs(((_res$data5=res.data)===null||_res$data5===void 0?void 0:_res$data5.logs)||[]);setTotal(((_res$data6=res.data)===null||_res$data6===void 0?void 0:_res$data6.total)||0);}}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"Không thể tải dữ liệu quản trị. Vui lòng thử lại.\");}finally{setLoading(false);}},[filters.search,filters.status,page,selectedTab]);const loadSummary=useCallback(async()=>{setSummaryLoading(true);try{const res=await api.get(\"/api/admin/summary\");setSummary(res.data||null);}catch(err){console.error(\"Không thể tải tổng quan quản trị:\",err);}finally{setSummaryLoading(false);}},[]);useEffect(()=>{loadSummary();},[loadSummary]);useEffect(()=>{const timer=setTimeout(()=>{fetchData();},250);return()=>clearTimeout(timer);},[fetchData]);const handleSearch=event=>{const value=event.target.value;setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{search:value}));setPage(1);};const handleStatusChange=event=>{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{status:event.target.value}));setPage(1);};const statusOptions=useMemo(()=>{if(selectedTab===\"users\"){return[{value:\"all\",label:\"Tất cả trạng thái\"},{value:\"active\",label:\"Hoạt động\"},{value:\"locked\",label:\"Đã khóa\"}];}if(selectedTab===\"transactions\"){return[{value:\"all\",label:\"Tất cả trạng thái\"},{value:\"pending\",label:\"Đang xử lý\"},{value:\"completed\",label:\"Hoàn thành\"},{value:\"failed\",label:\"Thất bại\"}];}return[{value:\"all\",label:\"Tất cả\"}];},[selectedTab]);const handleRefresh=()=>{loadSummary();fetchData();};const resetCreateForm=useCallback(()=>{setCreateForm({username:\"\",email:\"\",password:\"\",role:\"user\",balance:\"0\"});},[]);const handleCreateUser=async event=>{event.preventDefault();const{username,email,password,role,balance}=createForm;if(!username||!email||!password){showToast(\"Vui lòng điền đầy đủ thông tin\",\"error\");return;}const parsedBalance=Number(balance||0);if(Number.isNaN(parsedBalance)||parsedBalance<0){showToast(\"Số dư ban đầu không hợp lệ\",\"error\");return;}setCreateSubmitting(true);try{await api.post(\"/api/admin/users\",{username:username.trim(),email:email.trim(),password,role,balance:parsedBalance});showToast(\"Đã tạo người dùng mới\");setCreateModalOpen(false);resetCreateForm();loadSummary();fetchData();}catch(err){var _err$response2,_err$response2$data;const message=((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||\"Không thể tạo người dùng. Vui lòng thử lại.\";showToast(message,\"error\");}finally{setCreateSubmitting(false);}};const handleToggleLock=useCallback(async user=>{const nextStatus=user.status===\"locked\"?\"active\":\"locked\";setTableActionLoading(\"lock-\".concat(user.id));try{await api.patch(\"/api/admin/users/\".concat(user.id,\"/status\"),{status:nextStatus});showToast(nextStatus===\"locked\"?\"\\u0110\\xE3 kh\\xF3a t\\xE0i kho\\u1EA3n \".concat(user.username):\"\\u0110\\xE3 m\\u1EDF kh\\xF3a t\\xE0i kho\\u1EA3n \".concat(user.username));loadSummary();fetchData();}catch(err){var _err$response3,_err$response3$data;const message=((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.error)||\"Không thể cập nhật trạng thái người dùng.\";showToast(message,\"error\");}finally{setTableActionLoading(null);}},[fetchData,loadSummary,showToast]);const openPasswordModal=useCallback(user=>{setPasswordModal({show:true,user,password:\"\",submitting:false});},[]);const handlePasswordSubmit=async event=>{event.preventDefault();const{user,password}=passwordModal;if(!user||!password){showToast(\"Vui lòng nhập mật khẩu mới\",\"error\");return;}setPasswordModal(prev=>_objectSpread(_objectSpread({},prev),{},{submitting:true}));try{await api.patch(\"/api/admin/users/\".concat(user.id,\"/password\"),{password});showToast(\"\\u0110\\xE3 \\u0111\\u1ED5i m\\u1EADt kh\\u1EA9u cho \".concat(user.username));setPasswordModal({show:false,user:null,password:\"\",submitting:false});}catch(err){var _err$response4,_err$response4$data;const message=((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.error)||\"Không thể đổi mật khẩu.\";showToast(message,\"error\");setPasswordModal(prev=>_objectSpread(_objectSpread({},prev),{},{submitting:false}));}};const openDeleteConfirm=useCallback(user=>{setConfirmConfig({show:true,user,loading:false});},[]);const handleConfirmDelete=async()=>{if(!confirmConfig.user)return;setConfirmConfig(prev=>_objectSpread(_objectSpread({},prev),{},{loading:true}));try{await api.delete(\"/api/admin/users/\".concat(confirmConfig.user.id));showToast(\"\\u0110\\xE3 x\\xF3a ng\\u01B0\\u1EDDi d\\xF9ng \".concat(confirmConfig.user.username));setConfirmConfig({show:false,user:null,loading:false});loadSummary();fetchData();}catch(err){var _err$response5,_err$response5$data;const message=((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.error)||\"Không thể xóa người dùng.\";showToast(message,\"error\");setConfirmConfig(prev=>_objectSpread(_objectSpread({},prev),{},{loading:false}));}};const loadUserTransactions=useCallback(async function(user){let targetPage=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;if(!user)return;setActivityModal(prev=>_objectSpread(_objectSpread({},prev),{},{show:true,loading:true,user}));try{var _res$data7,_res$data8,_res$data9,_res$data0;const res=await api.get(\"/api/admin/users/\".concat(user.id,\"/transactions\"),{params:{page:targetPage,limit:DEFAULT_PAGE_SIZE}});setActivityModal({show:true,user:((_res$data7=res.data)===null||_res$data7===void 0?void 0:_res$data7.user)||user,rows:((_res$data8=res.data)===null||_res$data8===void 0?void 0:_res$data8.transactions)||[],page:((_res$data9=res.data)===null||_res$data9===void 0?void 0:_res$data9.page)||targetPage,total:((_res$data0=res.data)===null||_res$data0===void 0?void 0:_res$data0.total)||0,loading:false});}catch(err){var _err$response6,_err$response6$data;const message=((_err$response6=err.response)===null||_err$response6===void 0?void 0:(_err$response6$data=_err$response6.data)===null||_err$response6$data===void 0?void 0:_err$response6$data.error)||\"Không thể tải lịch sử giao dịch\";showToast(message,\"error\");setActivityModal(prev=>_objectSpread(_objectSpread({},prev),{},{loading:false}));}},[showToast]);const handleShowTransactions=useCallback(user=>{loadUserTransactions(user,1);},[loadUserTransactions]);const handleActivityPageChange=useCallback(direction=>{if(!activityModal.user)return;const totalPages=Math.max(1,Math.ceil(activityModal.total/DEFAULT_PAGE_SIZE));const nextPage=Math.min(totalPages,Math.max(1,activityModal.page+direction));if(nextPage!==activityModal.page){loadUserTransactions(activityModal.user,nextPage);}},[activityModal.page,activityModal.total,activityModal.user,loadUserTransactions]);const renderCell=useCallback((column,row)=>{const{key}=column;const value=row[key];if(key===\"actions\"){var _confirmConfig$user;const isLocked=row.status===\"locked\";const lockBusy=tableActionLoading===\"lock-\".concat(row.id);const deleteBusy=confirmConfig.loading&&((_confirmConfig$user=confirmConfig.user)===null||_confirmConfig$user===void 0?void 0:_confirmConfig$user.id)===row.id;return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-table-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-secondary btn-sm\",onClick:()=>handleShowTransactions(row),children:\"L\\u1ECBch s\\u1EED\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-primary btn-sm\",onClick:()=>openPasswordModal(row),children:\"\\u0110\\u1EB7t l\\u1EA1i MK\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-warning btn-sm\",onClick:()=>handleToggleLock(row),disabled:lockBusy,children:lockBusy?\"Đang...\":isLocked?\"Mở khóa\":\"Khóa\"}),row.role!==\"admin\"&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-danger btn-sm\",onClick:()=>openDeleteConfirm(row),disabled:deleteBusy,children:deleteBusy?\"Đang...\":\"Xóa\"})]});}if(value===null||value===undefined||value===\"\")return\"-\";if(key===\"amount\"||key===\"balance\"){return Number(value||0).toLocaleString(\"vi-VN\",{style:\"currency\",currency:\"VND\",minimumFractionDigits:0});}if(key===\"createdAt\"||key===\"timestamp\"){return new Date(value).toLocaleString(\"vi-VN\",{hour:\"2-digit\",minute:\"2-digit\",day:\"2-digit\",month:\"2-digit\",year:\"numeric\"});}if(key===\"status\"){const userStates=[\"locked\",\"active\"];if(userStates.includes(value)){const isLocked=value===\"locked\";const label=isLocked?\"Đã khóa\":\"Hoạt động\";const tone=isLocked?\"danger\":\"success\";return/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-\".concat(tone,\"-subtle text-\").concat(tone),children:label});}const mapping={completed:{label:\"Hoàn thành\",tone:\"success\"},pending:{label:\"Đang xử lý\",tone:\"warning\"},failed:{label:\"Thất bại\",tone:\"danger\"}};const meta=mapping[value]||{label:value,tone:\"secondary\"};return/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-\".concat(meta.tone,\"-subtle text-\").concat(meta.tone),children:meta.label});}if(key===\"role\"){return value===\"admin\"?\"Quản trị viên\":\"Người dùng\";}if(key===\"type\"){const labels={transfer:\"Chuyển khoản\",deposit:\"Nạp tiền\",withdraw:\"Rút tiền\"};return labels[value]||value;}if(key===\"details\"||key===\"description\"){return/*#__PURE__*/_jsx(\"span\",{className:\"admin-dashboard__truncate\",title:value,children:value});}if(key===\"username\"&&(selectedTab===\"logs\"||row.action)){return value||\"Ẩn danh\";}return value;},[confirmConfig.loading,confirmConfig.user,handleShowTransactions,handleToggleLock,openDeleteConfirm,openPasswordModal,selectedTab,tableActionLoading]);const summaryCards=useMemo(()=>{if(!summary)return[];const formatNumber=val=>Number(val||0).toLocaleString(\"vi-VN\");const volume=Number(summary.totalVolume||0).toLocaleString(\"vi-VN\",{style:\"currency\",currency:\"VND\",minimumFractionDigits:0});return[{title:\"Tổng người dùng\",value:formatNumber(summary.totalUsers),caption:\"\".concat(formatNumber(summary.adminUsers),\" t\\xE0i kho\\u1EA3n qu\\u1EA3n tr\\u1ECB\"),icon:\"bi-people-fill\",tone:\"primary\"},{title:\"Tài khoản bị khóa\",value:formatNumber(summary.lockedUsers),caption:\"Theo dõi đăng nhập bất thường\",icon:\"bi-shield-lock-fill\",tone:\"danger\"},{title:\"Giao dịch hoàn tất\",value:formatNumber(summary.completedTransactions),caption:\"\".concat(formatNumber(summary.totalTransactions),\" giao d\\u1ECBch to\\xE0n h\\u1EC7 th\\u1ED1ng\"),icon:\"bi-arrow-left-right\",tone:\"success\"},{title:\"Doanh số lũy kế\",value:volume,caption:\"\".concat(formatNumber(summary.pendingTransactions),\" \\u0111ang x\\u1EED l\\xFD, \").concat(formatNumber(summary.failedTransactions),\" th\\u1EA5t b\\u1EA1i\"),icon:\"bi-cash-stack\",tone:\"info\"}];},[summary]);return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard-page\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"admin-dashboard__header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"admin-dashboard__title\",children:\"B\\u1EA3ng \\u0111i\\u1EC1u khi\\u1EC3n qu\\u1EA3n tr\\u1ECB\"}),/*#__PURE__*/_jsx(\"p\",{className:\"admin-dashboard__subtitle\",children:\"Theo d\\xF5i ho\\u1EA1t \\u0111\\u1ED9ng ng\\u01B0\\u1EDDi d\\xF9ng, giao d\\u1ECBch v\\xE0 nh\\u1EADt k\\xFD b\\u1EA3o m\\u1EADt trong th\\u1EDDi gian th\\u1EF1c.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard__actions\",children:[selectedTab===\"users\"&&/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:()=>setCreateModalOpen(true),type:\"button\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person-plus me-2\",\"aria-hidden\":true}),\"T\\u1EA1o ng\\u01B0\\u1EDDi d\\xF9ng\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-light\",onClick:handleRefresh,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-repeat me-2\",\"aria-hidden\":true}),\"L\\xE0m m\\u1EDBi\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-danger\",onClick:onLogout,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-box-arrow-right me-2\",\"aria-hidden\":true}),\"\\u0110\\u0103ng xu\\u1EA5t\"]})]})]}),summaryCards.length>0&&/*#__PURE__*/_jsx(\"section\",{className:\"admin-dashboard__summary\",children:summaryCards.map(card=>/*#__PURE__*/_jsxs(\"article\",{className:\"admin-summary-card admin-summary-card--\".concat(card.tone,\" \").concat(summaryLoading?\"is-loading\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-summary-card__icon\",\"aria-hidden\":true,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi \".concat(card.icon)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-summary-card__body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"admin-summary-card__title\",children:card.title}),/*#__PURE__*/_jsx(\"p\",{className:\"admin-summary-card__value\",children:card.value}),/*#__PURE__*/_jsx(\"p\",{className:\"admin-summary-card__caption\",children:card.caption})]})]},card.title))}),/*#__PURE__*/_jsxs(\"nav\",{className:\"admin-dashboard__tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"admin-dashboard__tab \".concat(selectedTab===\"users\"?\"is-active\":\"\"),onClick:()=>{setSelectedTab(\"users\");setPage(1);setFilters({search:\"\",status:\"all\"});},children:\"Ng\\u01B0\\u1EDDi d\\xF9ng\"}),/*#__PURE__*/_jsx(\"button\",{className:\"admin-dashboard__tab \".concat(selectedTab===\"transactions\"?\"is-active\":\"\"),onClick:()=>{setSelectedTab(\"transactions\");setPage(1);setFilters({search:\"\",status:\"all\"});},children:\"Giao d\\u1ECBch\"}),/*#__PURE__*/_jsx(\"button\",{className:\"admin-dashboard__tab \".concat(selectedTab===\"logs\"?\"is-active\":\"\"),onClick:()=>{setSelectedTab(\"logs\");setPage(1);setFilters({search:\"\",status:\"all\"});},children:\"Nh\\u1EADt k\\xFD b\\u1EA3o m\\u1EADt\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"admin-dashboard__filters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"adminSearch\",className:\"form-control\",placeholder:\"T\\xECm ki\\u1EBFm\",value:filters.search,onChange:handleSearch}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"adminSearch\",children:\"T\\xECm ki\\u1EBFm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"select\",{id:\"adminStatus\",className:\"form-select\",value:filters.status,onChange:handleStatusChange,disabled:statusOptions.length===1,children:statusOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"adminStatus\",children:\"Tr\\u1EA1ng th\\xE1i\"})]})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle-fill me-2\",\"aria-hidden\":true}),error]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard__table card shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table align-middle\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:activeColumns.map(column=>/*#__PURE__*/_jsx(\"th\",{children:column.label},column.key))})}),/*#__PURE__*/_jsx(\"tbody\",{children:activeData.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:activeColumns.length,className:\"text-center text-muted py-4\",children:\"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u.\"})}):activeData.map((row,index)=>/*#__PURE__*/_jsx(\"tr\",{children:activeColumns.map(column=>/*#__PURE__*/_jsx(\"td\",{children:renderCell(column,row)},column.key))},row.id||row.timestamp||index))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard__pagination\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Trang \",page,\" / \",Math.max(1,Math.ceil(total/DEFAULT_PAGE_SIZE))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",onClick:()=>setPage(prev=>Math.max(1,prev-1)),disabled:page===1,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-chevron-left\",\"aria-hidden\":true})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",onClick:()=>setPage(prev=>prev*DEFAULT_PAGE_SIZE>=total?prev:prev+1),disabled:page*DEFAULT_PAGE_SIZE>=total,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-chevron-right\",\"aria-hidden\":true})})]})]})]}),loading&&/*#__PURE__*/_jsx(LoaderOverlay,{message:\"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u qu\\u1EA3n tr\\u1ECB...\"}),createModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-backdrop\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"modal-card admin-modal\",onSubmit:handleCreateUser,children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Th\\xEAm ng\\u01B0\\u1EDDi d\\xF9ng m\\u1EDBi\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"createUsername\",className:\"form-control\",placeholder:\"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\",value:createForm.username,onChange:e=>setCreateForm(prev=>_objectSpread(_objectSpread({},prev),{},{username:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"createUsername\",children:\"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"createEmail\",type:\"email\",className:\"form-control\",placeholder:\"Email\",value:createForm.email,onChange:e=>setCreateForm(prev=>_objectSpread(_objectSpread({},prev),{},{email:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"createEmail\",children:\"Email\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"createPassword\",type:\"password\",className:\"form-control\",placeholder:\"M\\u1EADt kh\\u1EA9u t\\u1EA1m\",value:createForm.password,onChange:e=>setCreateForm(prev=>_objectSpread(_objectSpread({},prev),{},{password:e.target.value})),required:true,minLength:6}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"createPassword\",children:\"M\\u1EADt kh\\u1EA9u t\\u1EA1m\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsxs(\"select\",{id:\"createRole\",className:\"form-select\",value:createForm.role,onChange:e=>setCreateForm(prev=>_objectSpread(_objectSpread({},prev),{},{role:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"Ng\\u01B0\\u1EDDi d\\xF9ng\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Qu\\u1EA3n tr\\u1ECB vi\\xEAn\"})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"createRole\",children:\"Vai tr\\xF2\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"createBalance\",type:\"number\",min:\"0\",className:\"form-control\",placeholder:\"S\\u1ED1 d\\u01B0 ban \\u0111\\u1EA7u\",value:createForm.balance,onChange:e=>setCreateForm(prev=>_objectSpread(_objectSpread({},prev),{},{balance:e.target.value}))}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"createBalance\",children:\"S\\u1ED1 d\\u01B0 ban \\u0111\\u1EA7u (VND)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-modal__actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>{setCreateModalOpen(false);resetCreateForm();},disabled:createSubmitting,children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:createSubmitting,children:createSubmitting?\"Đang tạo...\":\"Tạo người dùng\"})]})]})}),passwordModal.show&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-backdrop\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"modal-card admin-modal\",onSubmit:handlePasswordSubmit,children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\u0110\\u1EB7t l\\u1EA1i m\\u1EADt kh\\u1EA9u\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[\"T\\xE0i kho\\u1EA3n: \",/*#__PURE__*/_jsx(\"strong\",{children:(_passwordModal$user=passwordModal.user)===null||_passwordModal$user===void 0?void 0:_passwordModal$user.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"resetPassword\",type:\"password\",className:\"form-control\",placeholder:\"M\\u1EADt kh\\u1EA9u m\\u1EDBi\",value:passwordModal.password,onChange:e=>setPasswordModal(prev=>_objectSpread(_objectSpread({},prev),{},{password:e.target.value})),minLength:6,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"resetPassword\",children:\"M\\u1EADt kh\\u1EA9u m\\u1EDBi\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-modal__actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>setPasswordModal({show:false,user:null,password:\"\",submitting:false}),disabled:passwordModal.submitting,children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:passwordModal.submitting,children:passwordModal.submitting?\"Đang cập nhật...\":\"Cập nhật\"})]})]})}),activityModal.show&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-backdrop\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-card admin-modal admin-modal--wide\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-modal__header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"L\\u1ECBch s\\u1EED giao d\\u1ECBch\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-0\",children:[(_activityModal$user=activityModal.user)===null||_activityModal$user===void 0?void 0:_activityModal$user.username,\" \\xB7 \",(_activityModal$user2=activityModal.user)===null||_activityModal$user2===void 0?void 0:_activityModal$user2.email]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-light\",onClick:()=>setActivityModal({show:false,user:null,rows:[],page:1,total:0,loading:false}),children:\"\\u0110\\xF3ng\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive admin-activity-table\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table align-middle\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"M\\xE3\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Lo\\u1EA1i\"}),/*#__PURE__*/_jsx(\"th\",{children:\"S\\u1ED1 ti\\u1EC1n\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Th\\u1EDDi gian\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\u1EEB\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0110\\u1EBFn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ghi ch\\xFA\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:activityModal.rows.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:8,className:\"text-center text-muted py-4\",children:\"Kh\\xF4ng c\\xF3 giao d\\u1ECBch.\"})}):activityModal.rows.map(tx=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:tx.id}),/*#__PURE__*/_jsx(\"td\",{children:renderCell({key:\"type\"},tx)}),/*#__PURE__*/_jsx(\"td\",{children:renderCell({key:\"amount\"},tx)}),/*#__PURE__*/_jsx(\"td\",{children:renderCell({key:\"status\"},tx)}),/*#__PURE__*/_jsx(\"td\",{children:renderCell({key:\"createdAt\"},tx)}),/*#__PURE__*/_jsx(\"td\",{children:tx.fromUser||\"-\"}),/*#__PURE__*/_jsx(\"td\",{children:tx.toUser||\"-\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"admin-dashboard__truncate\",title:tx.description,children:tx.description||\"-\"})})]},tx.id))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard__pagination\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Trang \",activityModal.page,\" /\",\" \",Math.max(1,Math.ceil(activityModal.total/DEFAULT_PAGE_SIZE))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:()=>handleActivityPageChange(-1),disabled:activityModal.page===1||activityModal.loading,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-chevron-left\",\"aria-hidden\":true})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:()=>handleActivityPageChange(1),disabled:activityModal.loading||activityModal.page*DEFAULT_PAGE_SIZE>=activityModal.total,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-chevron-right\",\"aria-hidden\":true})})]})]}),activityModal.loading&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-3 admin-activity-loading\",children:\"\\u0110ang t\\u1EA3i...\"})]})}),/*#__PURE__*/_jsx(ConfirmModal,{show:confirmConfig.show,title:\"X\\xE1c nh\\u1EADn x\\xF3a ng\\u01B0\\u1EDDi d\\xF9ng\",body:/*#__PURE__*/_jsxs(_Fragment,{children:[\"B\\u1EA1n c\\xF3 ch\\u1EAFc mu\\u1ED1n x\\xF3a t\\xE0i kho\\u1EA3n\",\" \",/*#__PURE__*/_jsx(\"strong\",{children:(_confirmConfig$user2=confirmConfig.user)===null||_confirmConfig$user2===void 0?void 0:_confirmConfig$user2.username}),\"?\",/*#__PURE__*/_jsx(\"br\",{}),\" H\\xE0nh \\u0111\\u1ED9ng n\\xE0y kh\\xF4ng th\\u1EC3 ho\\xE0n t\\xE1c.\"]}),confirming:confirmConfig.loading,onCancel:()=>setConfirmConfig({show:false,user:null,loading:false}),onConfirm:handleConfirmDelete}),/*#__PURE__*/_jsx(Toast,{show:toast.show,type:toast.type,message:toast.message,onClose:closeToast})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","api","LoaderOverlay","ConfirmModal","Toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DEFAULT_PAGE_SIZE","columns","users","key","label","transactions","logs","AdminDashboard","_ref","_passwordModal$user","_activityModal$user","_activityModal$user2","_confirmConfig$user2","onLogout","selectedTab","setSelectedTab","setUsers","setTransactions","setLogs","summary","setSummary","summaryLoading","setSummaryLoading","loading","setLoading","error","setError","page","setPage","total","setTotal","filters","setFilters","search","status","tableActionLoading","setTableActionLoading","createModalOpen","setCreateModalOpen","createSubmitting","setCreateSubmitting","createForm","setCreateForm","username","email","password","role","balance","passwordModal","setPasswordModal","show","user","submitting","confirmConfig","setConfirmConfig","activityModal","setActivityModal","rows","toast","setToast","type","message","activeData","activeColumns","showToast","arguments","length","undefined","closeToast","prev","_objectSpread","fetchData","params","limit","trimmedSearch","trim","includes","_res$data","_res$data2","res","get","data","_res$data3","_res$data4","_res$data5","_res$data6","err","_err$response","_err$response$data","response","loadSummary","console","timer","setTimeout","clearTimeout","handleSearch","event","value","target","handleStatusChange","statusOptions","handleRefresh","resetCreateForm","handleCreateUser","preventDefault","parsedBalance","Number","isNaN","post","_err$response2","_err$response2$data","handleToggleLock","nextStatus","concat","id","patch","_err$response3","_err$response3$data","openPasswordModal","handlePasswordSubmit","_err$response4","_err$response4$data","openDeleteConfirm","handleConfirmDelete","delete","_err$response5","_err$response5$data","loadUserTransactions","targetPage","_res$data7","_res$data8","_res$data9","_res$data0","_err$response6","_err$response6$data","handleShowTransactions","handleActivityPageChange","direction","totalPages","Math","max","ceil","nextPage","min","renderCell","column","row","_confirmConfig$user","isLocked","lockBusy","deleteBusy","className","children","onClick","disabled","toLocaleString","style","currency","minimumFractionDigits","Date","hour","minute","day","month","year","userStates","tone","mapping","completed","pending","failed","meta","labels","transfer","deposit","withdraw","title","action","summaryCards","formatNumber","val","volume","totalVolume","totalUsers","caption","adminUsers","icon","lockedUsers","completedTransactions","totalTransactions","pendingTransactions","failedTransactions","map","card","placeholder","onChange","htmlFor","option","colSpan","index","timestamp","onSubmit","e","required","minLength","tx","fromUser","toUser","description","body","confirming","onCancel","onConfirm","onClose"],"sources":["D:/BMUDHT/frontend/src/components/AdminDashboard.js"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport api from \"../services/api\";\r\nimport LoaderOverlay from \"./LoaderOverlay\";\r\nimport ConfirmModal from \"./ConfirmModal\";\r\nimport Toast from \"./Toast\";\r\n\r\nconst DEFAULT_PAGE_SIZE = 10;\r\n\r\nconst columns = {\r\n  users: [\r\n    { key: \"username\", label: \"Tài khoản\" },\r\n    { key: \"email\", label: \"Email\" },\r\n    { key: \"role\", label: \"Vai trò\" },\r\n    { key: \"status\", label: \"Trạng thái\" },\r\n    { key: \"balance\", label: \"Số dư\" },\r\n    { key: \"actions\", label: \"Tác vụ\" },\r\n  ],\r\n  transactions: [\r\n    { key: \"id\", label: \"Mã giao dịch\" },\r\n    { key: \"type\", label: \"Loại\" },\r\n    { key: \"amount\", label: \"Số tiền\" },\r\n    { key: \"status\", label: \"Trạng thái\" },\r\n    { key: \"createdAt\", label: \"Thời gian\" },\r\n    { key: \"fromUser\", label: \"Người gửi\" },\r\n    { key: \"toUser\", label: \"Người nhận\" },\r\n    { key: \"description\", label: \"Ghi chú\" },\r\n  ],\r\n  logs: [\r\n    { key: \"timestamp\", label: \"Thời gian\" },\r\n    { key: \"username\", label: \"Tài khoản\" },\r\n    { key: \"action\", label: \"Hành động\" },\r\n    { key: \"ipAddress\", label: \"Địa chỉ IP\" },\r\n    { key: \"details\", label: \"Chi tiết\" },\r\n  ],\r\n};\r\n\r\nconst AdminDashboard = ({ onLogout }) => {\r\n  const [selectedTab, setSelectedTab] = useState(\"users\");\r\n  const [users, setUsers] = useState([]);\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [logs, setLogs] = useState([]);\r\n  const [summary, setSummary] = useState(null);\r\n  const [summaryLoading, setSummaryLoading] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [page, setPage] = useState(1);\r\n  const [total, setTotal] = useState(0);\r\n  const [filters, setFilters] = useState({ search: \"\", status: \"all\" });\r\n  const [tableActionLoading, setTableActionLoading] = useState(null);\r\n\r\n  const [createModalOpen, setCreateModalOpen] = useState(false);\r\n  const [createSubmitting, setCreateSubmitting] = useState(false);\r\n  const [createForm, setCreateForm] = useState({\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    role: \"user\",\r\n    balance: \"0\",\r\n  });\r\n\r\n  const [passwordModal, setPasswordModal] = useState({\r\n    show: false,\r\n    user: null,\r\n    password: \"\",\r\n    submitting: false,\r\n  });\r\n\r\n  const [confirmConfig, setConfirmConfig] = useState({\r\n    show: false,\r\n    user: null,\r\n    loading: false,\r\n  });\r\n\r\n  const [activityModal, setActivityModal] = useState({\r\n    show: false,\r\n    user: null,\r\n    rows: [],\r\n    page: 1,\r\n    total: 0,\r\n    loading: false,\r\n  });\r\n\r\n  const [toast, setToast] = useState({\r\n    show: false,\r\n    type: \"info\",\r\n    message: \"\",\r\n  });\r\n\r\n  const activeData = useMemo(() => {\r\n    switch (selectedTab) {\r\n      case \"transactions\":\r\n        return transactions;\r\n      case \"logs\":\r\n        return logs;\r\n      case \"users\":\r\n      default:\r\n        return users;\r\n    }\r\n  }, [selectedTab, users, transactions, logs]);\r\n\r\n  const activeColumns = columns[selectedTab];\r\n\r\n  const showToast = useCallback((message, type = \"success\") => {\r\n    setToast({ show: true, type, message });\r\n  }, []);\r\n\r\n  const closeToast = useCallback(() => {\r\n    setToast((prev) => ({ ...prev, show: false }));\r\n  }, []);\r\n\r\n  const fetchData = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    const params = {\r\n      page,\r\n      limit: DEFAULT_PAGE_SIZE,\r\n    };\r\n\r\n    const trimmedSearch = filters.search.trim();\r\n    if (trimmedSearch.length > 0) {\r\n      params.search = trimmedSearch;\r\n    }\r\n\r\n    if (filters.status !== \"all\") {\r\n      if (\r\n        selectedTab === \"users\" &&\r\n        [\"active\", \"locked\"].includes(filters.status)\r\n      ) {\r\n        params.status = filters.status;\r\n      }\r\n      if (\r\n        selectedTab === \"transactions\" &&\r\n        [\"pending\", \"completed\", \"failed\"].includes(filters.status)\r\n      ) {\r\n        params.status = filters.status;\r\n      }\r\n    }\r\n\r\n    try {\r\n      if (selectedTab === \"users\") {\r\n        const res = await api.get(\"/api/admin/users\", { params });\r\n        setUsers(res.data?.users || []);\r\n        setTotal(res.data?.total || 0);\r\n      } else if (selectedTab === \"transactions\") {\r\n        const res = await api.get(\"/api/admin/transactions\", { params });\r\n        setTransactions(res.data?.transactions || []);\r\n        setTotal(res.data?.total || 0);\r\n      } else {\r\n        const res = await api.get(\"/api/admin/audit\", { params });\r\n        setLogs(res.data?.logs || []);\r\n        setTotal(res.data?.total || 0);\r\n      }\r\n    } catch (err) {\r\n      setError(\r\n        err.response?.data?.error ||\r\n          \"Không thể tải dữ liệu quản trị. Vui lòng thử lại.\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters.search, filters.status, page, selectedTab]);\r\n\r\n  const loadSummary = useCallback(async () => {\r\n    setSummaryLoading(true);\r\n    try {\r\n      const res = await api.get(\"/api/admin/summary\");\r\n      setSummary(res.data || null);\r\n    } catch (err) {\r\n      console.error(\"Không thể tải tổng quan quản trị:\", err);\r\n    } finally {\r\n      setSummaryLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadSummary();\r\n  }, [loadSummary]);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      fetchData();\r\n    }, 250);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [fetchData]);\r\n\r\n  const handleSearch = (event) => {\r\n    const value = event.target.value;\r\n    setFilters((prev) => ({ ...prev, search: value }));\r\n    setPage(1);\r\n  };\r\n\r\n  const handleStatusChange = (event) => {\r\n    setFilters((prev) => ({ ...prev, status: event.target.value }));\r\n    setPage(1);\r\n  };\r\n\r\n  const statusOptions = useMemo(() => {\r\n    if (selectedTab === \"users\") {\r\n      return [\r\n        { value: \"all\", label: \"Tất cả trạng thái\" },\r\n        { value: \"active\", label: \"Hoạt động\" },\r\n        { value: \"locked\", label: \"Đã khóa\" },\r\n      ];\r\n    }\r\n    if (selectedTab === \"transactions\") {\r\n      return [\r\n        { value: \"all\", label: \"Tất cả trạng thái\" },\r\n        { value: \"pending\", label: \"Đang xử lý\" },\r\n        { value: \"completed\", label: \"Hoàn thành\" },\r\n        { value: \"failed\", label: \"Thất bại\" },\r\n      ];\r\n    }\r\n    return [{ value: \"all\", label: \"Tất cả\" }];\r\n  }, [selectedTab]);\r\n\r\n  const handleRefresh = () => {\r\n    loadSummary();\r\n    fetchData();\r\n  };\r\n\r\n  const resetCreateForm = useCallback(() => {\r\n    setCreateForm({\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      role: \"user\",\r\n      balance: \"0\",\r\n    });\r\n  }, []);\r\n\r\n  const handleCreateUser = async (event) => {\r\n    event.preventDefault();\r\n    const { username, email, password, role, balance } = createForm;\r\n    if (!username || !email || !password) {\r\n      showToast(\"Vui lòng điền đầy đủ thông tin\", \"error\");\r\n      return;\r\n    }\r\n\r\n    const parsedBalance = Number(balance || 0);\r\n    if (Number.isNaN(parsedBalance) || parsedBalance < 0) {\r\n      showToast(\"Số dư ban đầu không hợp lệ\", \"error\");\r\n      return;\r\n    }\r\n\r\n    setCreateSubmitting(true);\r\n    try {\r\n      await api.post(\"/api/admin/users\", {\r\n        username: username.trim(),\r\n        email: email.trim(),\r\n        password,\r\n        role,\r\n        balance: parsedBalance,\r\n      });\r\n      showToast(\"Đã tạo người dùng mới\");\r\n      setCreateModalOpen(false);\r\n      resetCreateForm();\r\n      loadSummary();\r\n      fetchData();\r\n    } catch (err) {\r\n      const message =\r\n        err.response?.data?.error ||\r\n        \"Không thể tạo người dùng. Vui lòng thử lại.\";\r\n      showToast(message, \"error\");\r\n    } finally {\r\n      setCreateSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleLock = useCallback(\r\n    async (user) => {\r\n      const nextStatus = user.status === \"locked\" ? \"active\" : \"locked\";\r\n      setTableActionLoading(`lock-${user.id}`);\r\n      try {\r\n        await api.patch(`/api/admin/users/${user.id}/status`, {\r\n          status: nextStatus,\r\n        });\r\n        showToast(\r\n          nextStatus === \"locked\"\r\n            ? `Đã khóa tài khoản ${user.username}`\r\n            : `Đã mở khóa tài khoản ${user.username}`\r\n        );\r\n        loadSummary();\r\n        fetchData();\r\n      } catch (err) {\r\n        const message =\r\n          err.response?.data?.error ||\r\n          \"Không thể cập nhật trạng thái người dùng.\";\r\n        showToast(message, \"error\");\r\n      } finally {\r\n        setTableActionLoading(null);\r\n      }\r\n    },\r\n    [fetchData, loadSummary, showToast]\r\n  );\r\n\r\n  const openPasswordModal = useCallback((user) => {\r\n    setPasswordModal({ show: true, user, password: \"\", submitting: false });\r\n  }, []);\r\n\r\n  const handlePasswordSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const { user, password } = passwordModal;\r\n    if (!user || !password) {\r\n      showToast(\"Vui lòng nhập mật khẩu mới\", \"error\");\r\n      return;\r\n    }\r\n\r\n    setPasswordModal((prev) => ({ ...prev, submitting: true }));\r\n    try {\r\n      await api.patch(`/api/admin/users/${user.id}/password`, { password });\r\n      showToast(`Đã đổi mật khẩu cho ${user.username}`);\r\n      setPasswordModal({\r\n        show: false,\r\n        user: null,\r\n        password: \"\",\r\n        submitting: false,\r\n      });\r\n    } catch (err) {\r\n      const message = err.response?.data?.error || \"Không thể đổi mật khẩu.\";\r\n      showToast(message, \"error\");\r\n      setPasswordModal((prev) => ({ ...prev, submitting: false }));\r\n    }\r\n  };\r\n\r\n  const openDeleteConfirm = useCallback((user) => {\r\n    setConfirmConfig({ show: true, user, loading: false });\r\n  }, []);\r\n\r\n  const handleConfirmDelete = async () => {\r\n    if (!confirmConfig.user) return;\r\n    setConfirmConfig((prev) => ({ ...prev, loading: true }));\r\n    try {\r\n      await api.delete(`/api/admin/users/${confirmConfig.user.id}`);\r\n      showToast(`Đã xóa người dùng ${confirmConfig.user.username}`);\r\n      setConfirmConfig({ show: false, user: null, loading: false });\r\n      loadSummary();\r\n      fetchData();\r\n    } catch (err) {\r\n      const message = err.response?.data?.error || \"Không thể xóa người dùng.\";\r\n      showToast(message, \"error\");\r\n      setConfirmConfig((prev) => ({ ...prev, loading: false }));\r\n    }\r\n  };\r\n\r\n  const loadUserTransactions = useCallback(\r\n    async (user, targetPage = 1) => {\r\n      if (!user) return;\r\n      setActivityModal((prev) => ({\r\n        ...prev,\r\n        show: true,\r\n        loading: true,\r\n        user,\r\n      }));\r\n      try {\r\n        const res = await api.get(`/api/admin/users/${user.id}/transactions`, {\r\n          params: { page: targetPage, limit: DEFAULT_PAGE_SIZE },\r\n        });\r\n        setActivityModal({\r\n          show: true,\r\n          user: res.data?.user || user,\r\n          rows: res.data?.transactions || [],\r\n          page: res.data?.page || targetPage,\r\n          total: res.data?.total || 0,\r\n          loading: false,\r\n        });\r\n      } catch (err) {\r\n        const message =\r\n          err.response?.data?.error || \"Không thể tải lịch sử giao dịch\";\r\n        showToast(message, \"error\");\r\n        setActivityModal((prev) => ({ ...prev, loading: false }));\r\n      }\r\n    },\r\n    [showToast]\r\n  );\r\n\r\n  const handleShowTransactions = useCallback(\r\n    (user) => {\r\n      loadUserTransactions(user, 1);\r\n    },\r\n    [loadUserTransactions]\r\n  );\r\n\r\n  const handleActivityPageChange = useCallback(\r\n    (direction) => {\r\n      if (!activityModal.user) return;\r\n      const totalPages = Math.max(\r\n        1,\r\n        Math.ceil(activityModal.total / DEFAULT_PAGE_SIZE)\r\n      );\r\n      const nextPage = Math.min(\r\n        totalPages,\r\n        Math.max(1, activityModal.page + direction)\r\n      );\r\n      if (nextPage !== activityModal.page) {\r\n        loadUserTransactions(activityModal.user, nextPage);\r\n      }\r\n    },\r\n    [\r\n      activityModal.page,\r\n      activityModal.total,\r\n      activityModal.user,\r\n      loadUserTransactions,\r\n    ]\r\n  );\r\n\r\n  const renderCell = useCallback(\r\n    (column, row) => {\r\n      const { key } = column;\r\n      const value = row[key];\r\n\r\n      if (key === \"actions\") {\r\n        const isLocked = row.status === \"locked\";\r\n        const lockBusy = tableActionLoading === `lock-${row.id}`;\r\n        const deleteBusy =\r\n          confirmConfig.loading && confirmConfig.user?.id === row.id;\r\n\r\n        return (\r\n          <div className=\"admin-table-actions\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-secondary btn-sm\"\r\n              onClick={() => handleShowTransactions(row)}\r\n            >\r\n              Lịch sử\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-primary btn-sm\"\r\n              onClick={() => openPasswordModal(row)}\r\n            >\r\n              Đặt lại MK\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-warning btn-sm\"\r\n              onClick={() => handleToggleLock(row)}\r\n              disabled={lockBusy}\r\n            >\r\n              {lockBusy ? \"Đang...\" : isLocked ? \"Mở khóa\" : \"Khóa\"}\r\n            </button>\r\n            {row.role !== \"admin\" && (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-outline-danger btn-sm\"\r\n                onClick={() => openDeleteConfirm(row)}\r\n                disabled={deleteBusy}\r\n              >\r\n                {deleteBusy ? \"Đang...\" : \"Xóa\"}\r\n              </button>\r\n            )}\r\n          </div>\r\n        );\r\n      }\r\n\r\n      if (value === null || value === undefined || value === \"\") return \"-\";\r\n\r\n      if (key === \"amount\" || key === \"balance\") {\r\n        return Number(value || 0).toLocaleString(\"vi-VN\", {\r\n          style: \"currency\",\r\n          currency: \"VND\",\r\n          minimumFractionDigits: 0,\r\n        });\r\n      }\r\n\r\n      if (key === \"createdAt\" || key === \"timestamp\") {\r\n        return new Date(value).toLocaleString(\"vi-VN\", {\r\n          hour: \"2-digit\",\r\n          minute: \"2-digit\",\r\n          day: \"2-digit\",\r\n          month: \"2-digit\",\r\n          year: \"numeric\",\r\n        });\r\n      }\r\n\r\n      if (key === \"status\") {\r\n        const userStates = [\"locked\", \"active\"];\r\n        if (userStates.includes(value)) {\r\n          const isLocked = value === \"locked\";\r\n          const label = isLocked ? \"Đã khóa\" : \"Hoạt động\";\r\n          const tone = isLocked ? \"danger\" : \"success\";\r\n          return (\r\n            <span className={`badge bg-${tone}-subtle text-${tone}`}>\r\n              {label}\r\n            </span>\r\n          );\r\n        }\r\n\r\n        const mapping = {\r\n          completed: { label: \"Hoàn thành\", tone: \"success\" },\r\n          pending: { label: \"Đang xử lý\", tone: \"warning\" },\r\n          failed: { label: \"Thất bại\", tone: \"danger\" },\r\n        };\r\n        const meta = mapping[value] || { label: value, tone: \"secondary\" };\r\n        return (\r\n          <span className={`badge bg-${meta.tone}-subtle text-${meta.tone}`}>\r\n            {meta.label}\r\n          </span>\r\n        );\r\n      }\r\n\r\n      if (key === \"role\") {\r\n        return value === \"admin\" ? \"Quản trị viên\" : \"Người dùng\";\r\n      }\r\n\r\n      if (key === \"type\") {\r\n        const labels = {\r\n          transfer: \"Chuyển khoản\",\r\n          deposit: \"Nạp tiền\",\r\n          withdraw: \"Rút tiền\",\r\n        };\r\n        return labels[value] || value;\r\n      }\r\n\r\n      if (key === \"details\" || key === \"description\") {\r\n        return (\r\n          <span className=\"admin-dashboard__truncate\" title={value}>\r\n            {value}\r\n          </span>\r\n        );\r\n      }\r\n\r\n      if (key === \"username\" && (selectedTab === \"logs\" || row.action)) {\r\n        return value || \"Ẩn danh\";\r\n      }\r\n\r\n      return value;\r\n    },\r\n    [\r\n      confirmConfig.loading,\r\n      confirmConfig.user,\r\n      handleShowTransactions,\r\n      handleToggleLock,\r\n      openDeleteConfirm,\r\n      openPasswordModal,\r\n      selectedTab,\r\n      tableActionLoading,\r\n    ]\r\n  );\r\n\r\n  const summaryCards = useMemo(() => {\r\n    if (!summary) return [];\r\n    const formatNumber = (val) => Number(val || 0).toLocaleString(\"vi-VN\");\r\n    const volume = Number(summary.totalVolume || 0).toLocaleString(\"vi-VN\", {\r\n      style: \"currency\",\r\n      currency: \"VND\",\r\n      minimumFractionDigits: 0,\r\n    });\r\n\r\n    return [\r\n      {\r\n        title: \"Tổng người dùng\",\r\n        value: formatNumber(summary.totalUsers),\r\n        caption: `${formatNumber(summary.adminUsers)} tài khoản quản trị`,\r\n        icon: \"bi-people-fill\",\r\n        tone: \"primary\",\r\n      },\r\n      {\r\n        title: \"Tài khoản bị khóa\",\r\n        value: formatNumber(summary.lockedUsers),\r\n        caption: \"Theo dõi đăng nhập bất thường\",\r\n        icon: \"bi-shield-lock-fill\",\r\n        tone: \"danger\",\r\n      },\r\n      {\r\n        title: \"Giao dịch hoàn tất\",\r\n        value: formatNumber(summary.completedTransactions),\r\n        caption: `${formatNumber(\r\n          summary.totalTransactions\r\n        )} giao dịch toàn hệ thống`,\r\n        icon: \"bi-arrow-left-right\",\r\n        tone: \"success\",\r\n      },\r\n      {\r\n        title: \"Doanh số lũy kế\",\r\n        value: volume,\r\n        caption: `${formatNumber(\r\n          summary.pendingTransactions\r\n        )} đang xử lý, ${formatNumber(summary.failedTransactions)} thất bại`,\r\n        icon: \"bi-cash-stack\",\r\n        tone: \"info\",\r\n      },\r\n    ];\r\n  }, [summary]);\r\n\r\n  return (\r\n    <div className=\"admin-dashboard-page\">\r\n      <header className=\"admin-dashboard__header\">\r\n        <div>\r\n          <h1 className=\"admin-dashboard__title\">Bảng điều khiển quản trị</h1>\r\n          <p className=\"admin-dashboard__subtitle\">\r\n            Theo dõi hoạt động người dùng, giao dịch và nhật ký bảo mật trong\r\n            thời gian thực.\r\n          </p>\r\n        </div>\r\n        <div className=\"admin-dashboard__actions\">\r\n          {selectedTab === \"users\" && (\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              onClick={() => setCreateModalOpen(true)}\r\n              type=\"button\"\r\n            >\r\n              <i className=\"bi bi-person-plus me-2\" aria-hidden></i>\r\n              Tạo người dùng\r\n            </button>\r\n          )}\r\n          <button className=\"btn btn-light\" onClick={handleRefresh}>\r\n            <i className=\"bi bi-arrow-repeat me-2\" aria-hidden></i>\r\n            Làm mới\r\n          </button>\r\n          <button className=\"btn btn-outline-danger\" onClick={onLogout}>\r\n            <i className=\"bi bi-box-arrow-right me-2\" aria-hidden></i>\r\n            Đăng xuất\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      {summaryCards.length > 0 && (\r\n        <section className=\"admin-dashboard__summary\">\r\n          {summaryCards.map((card) => (\r\n            <article\r\n              key={card.title}\r\n              className={`admin-summary-card admin-summary-card--${card.tone} ${\r\n                summaryLoading ? \"is-loading\" : \"\"\r\n              }`}\r\n            >\r\n              <div className=\"admin-summary-card__icon\" aria-hidden>\r\n                <i className={`bi ${card.icon}`}></i>\r\n              </div>\r\n              <div className=\"admin-summary-card__body\">\r\n                <p className=\"admin-summary-card__title\">{card.title}</p>\r\n                <p className=\"admin-summary-card__value\">{card.value}</p>\r\n                <p className=\"admin-summary-card__caption\">{card.caption}</p>\r\n              </div>\r\n            </article>\r\n          ))}\r\n        </section>\r\n      )}\r\n\r\n      <nav className=\"admin-dashboard__tabs\">\r\n        <button\r\n          className={`admin-dashboard__tab ${\r\n            selectedTab === \"users\" ? \"is-active\" : \"\"\r\n          }`}\r\n          onClick={() => {\r\n            setSelectedTab(\"users\");\r\n            setPage(1);\r\n            setFilters({ search: \"\", status: \"all\" });\r\n          }}\r\n        >\r\n          Người dùng\r\n        </button>\r\n        <button\r\n          className={`admin-dashboard__tab ${\r\n            selectedTab === \"transactions\" ? \"is-active\" : \"\"\r\n          }`}\r\n          onClick={() => {\r\n            setSelectedTab(\"transactions\");\r\n            setPage(1);\r\n            setFilters({ search: \"\", status: \"all\" });\r\n          }}\r\n        >\r\n          Giao dịch\r\n        </button>\r\n        <button\r\n          className={`admin-dashboard__tab ${\r\n            selectedTab === \"logs\" ? \"is-active\" : \"\"\r\n          }`}\r\n          onClick={() => {\r\n            setSelectedTab(\"logs\");\r\n            setPage(1);\r\n            setFilters({ search: \"\", status: \"all\" });\r\n          }}\r\n        >\r\n          Nhật ký bảo mật\r\n        </button>\r\n      </nav>\r\n\r\n      <section className=\"admin-dashboard__filters\">\r\n        <div className=\"form-floating\">\r\n          <input\r\n            id=\"adminSearch\"\r\n            className=\"form-control\"\r\n            placeholder=\"Tìm kiếm\"\r\n            value={filters.search}\r\n            onChange={handleSearch}\r\n          />\r\n          <label htmlFor=\"adminSearch\">Tìm kiếm</label>\r\n        </div>\r\n        <div className=\"form-floating\">\r\n          <select\r\n            id=\"adminStatus\"\r\n            className=\"form-select\"\r\n            value={filters.status}\r\n            onChange={handleStatusChange}\r\n            disabled={statusOptions.length === 1}\r\n          >\r\n            {statusOptions.map((option) => (\r\n              <option key={option.value} value={option.value}>\r\n                {option.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <label htmlFor=\"adminStatus\">Trạng thái</label>\r\n        </div>\r\n      </section>\r\n\r\n      {error && (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          <i className=\"bi bi-exclamation-triangle-fill me-2\" aria-hidden></i>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"admin-dashboard__table card shadow-sm\">\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table align-middle\">\r\n            <thead>\r\n              <tr>\r\n                {activeColumns.map((column) => (\r\n                  <th key={column.key}>{column.label}</th>\r\n                ))}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {activeData.length === 0 ? (\r\n                <tr>\r\n                  <td\r\n                    colSpan={activeColumns.length}\r\n                    className=\"text-center text-muted py-4\"\r\n                  >\r\n                    Không có dữ liệu.\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                activeData.map((row, index) => (\r\n                  <tr key={row.id || row.timestamp || index}>\r\n                    {activeColumns.map((column) => (\r\n                      <td key={column.key}>{renderCell(column, row)}</td>\r\n                    ))}\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"admin-dashboard__pagination\">\r\n          <span>\r\n            Trang {page} / {Math.max(1, Math.ceil(total / DEFAULT_PAGE_SIZE))}\r\n          </span>\r\n          <div className=\"btn-group\">\r\n            <button\r\n              className=\"btn btn-outline-primary\"\r\n              onClick={() => setPage((prev) => Math.max(1, prev - 1))}\r\n              disabled={page === 1}\r\n            >\r\n              <i className=\"bi bi-chevron-left\" aria-hidden></i>\r\n            </button>\r\n            <button\r\n              className=\"btn btn-outline-primary\"\r\n              onClick={() =>\r\n                setPage((prev) =>\r\n                  prev * DEFAULT_PAGE_SIZE >= total ? prev : prev + 1\r\n                )\r\n              }\r\n              disabled={page * DEFAULT_PAGE_SIZE >= total}\r\n            >\r\n              <i className=\"bi bi-chevron-right\" aria-hidden></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {loading && <LoaderOverlay message=\"Đang tải dữ liệu quản trị...\" />}\r\n\r\n      {createModalOpen && (\r\n        <div className=\"modal-backdrop\">\r\n          <form className=\"modal-card admin-modal\" onSubmit={handleCreateUser}>\r\n            <h5>Thêm người dùng mới</h5>\r\n            <div className=\"admin-form-grid\">\r\n              <div className=\"form-floating\">\r\n                <input\r\n                  id=\"createUsername\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Tên đăng nhập\"\r\n                  value={createForm.username}\r\n                  onChange={(e) =>\r\n                    setCreateForm((prev) => ({\r\n                      ...prev,\r\n                      username: e.target.value,\r\n                    }))\r\n                  }\r\n                  required\r\n                />\r\n                <label htmlFor=\"createUsername\">Tên đăng nhập</label>\r\n              </div>\r\n              <div className=\"form-floating\">\r\n                <input\r\n                  id=\"createEmail\"\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Email\"\r\n                  value={createForm.email}\r\n                  onChange={(e) =>\r\n                    setCreateForm((prev) => ({\r\n                      ...prev,\r\n                      email: e.target.value,\r\n                    }))\r\n                  }\r\n                  required\r\n                />\r\n                <label htmlFor=\"createEmail\">Email</label>\r\n              </div>\r\n            </div>\r\n            <div className=\"admin-form-grid\">\r\n              <div className=\"form-floating\">\r\n                <input\r\n                  id=\"createPassword\"\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Mật khẩu tạm\"\r\n                  value={createForm.password}\r\n                  onChange={(e) =>\r\n                    setCreateForm((prev) => ({\r\n                      ...prev,\r\n                      password: e.target.value,\r\n                    }))\r\n                  }\r\n                  required\r\n                  minLength={6}\r\n                />\r\n                <label htmlFor=\"createPassword\">Mật khẩu tạm</label>\r\n              </div>\r\n              <div className=\"form-floating\">\r\n                <select\r\n                  id=\"createRole\"\r\n                  className=\"form-select\"\r\n                  value={createForm.role}\r\n                  onChange={(e) =>\r\n                    setCreateForm((prev) => ({ ...prev, role: e.target.value }))\r\n                  }\r\n                >\r\n                  <option value=\"user\">Người dùng</option>\r\n                  <option value=\"admin\">Quản trị viên</option>\r\n                </select>\r\n                <label htmlFor=\"createRole\">Vai trò</label>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-floating\">\r\n              <input\r\n                id=\"createBalance\"\r\n                type=\"number\"\r\n                min=\"0\"\r\n                className=\"form-control\"\r\n                placeholder=\"Số dư ban đầu\"\r\n                value={createForm.balance}\r\n                onChange={(e) =>\r\n                  setCreateForm((prev) => ({\r\n                    ...prev,\r\n                    balance: e.target.value,\r\n                  }))\r\n                }\r\n              />\r\n              <label htmlFor=\"createBalance\">Số dư ban đầu (VND)</label>\r\n            </div>\r\n            <div className=\"admin-modal__actions\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary\"\r\n                onClick={() => {\r\n                  setCreateModalOpen(false);\r\n                  resetCreateForm();\r\n                }}\r\n                disabled={createSubmitting}\r\n              >\r\n                Hủy\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-primary\"\r\n                disabled={createSubmitting}\r\n              >\r\n                {createSubmitting ? \"Đang tạo...\" : \"Tạo người dùng\"}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {passwordModal.show && (\r\n        <div className=\"modal-backdrop\">\r\n          <form\r\n            className=\"modal-card admin-modal\"\r\n            onSubmit={handlePasswordSubmit}\r\n          >\r\n            <h5>Đặt lại mật khẩu</h5>\r\n            <p className=\"text-muted\">\r\n              Tài khoản: <strong>{passwordModal.user?.username}</strong>\r\n            </p>\r\n            <div className=\"form-floating\">\r\n              <input\r\n                id=\"resetPassword\"\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Mật khẩu mới\"\r\n                value={passwordModal.password}\r\n                onChange={(e) =>\r\n                  setPasswordModal((prev) => ({\r\n                    ...prev,\r\n                    password: e.target.value,\r\n                  }))\r\n                }\r\n                minLength={6}\r\n                required\r\n              />\r\n              <label htmlFor=\"resetPassword\">Mật khẩu mới</label>\r\n            </div>\r\n            <div className=\"admin-modal__actions\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary\"\r\n                onClick={() =>\r\n                  setPasswordModal({\r\n                    show: false,\r\n                    user: null,\r\n                    password: \"\",\r\n                    submitting: false,\r\n                  })\r\n                }\r\n                disabled={passwordModal.submitting}\r\n              >\r\n                Hủy\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-primary\"\r\n                disabled={passwordModal.submitting}\r\n              >\r\n                {passwordModal.submitting ? \"Đang cập nhật...\" : \"Cập nhật\"}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {activityModal.show && (\r\n        <div className=\"modal-backdrop\">\r\n          <div className=\"modal-card admin-modal admin-modal--wide\">\r\n            <div className=\"admin-modal__header\">\r\n              <div>\r\n                <h5>Lịch sử giao dịch</h5>\r\n                <p className=\"text-muted mb-0\">\r\n                  {activityModal.user?.username} · {activityModal.user?.email}\r\n                </p>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-light\"\r\n                onClick={() =>\r\n                  setActivityModal({\r\n                    show: false,\r\n                    user: null,\r\n                    rows: [],\r\n                    page: 1,\r\n                    total: 0,\r\n                    loading: false,\r\n                  })\r\n                }\r\n              >\r\n                Đóng\r\n              </button>\r\n            </div>\r\n            <div className=\"table-responsive admin-activity-table\">\r\n              <table className=\"table align-middle\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Mã</th>\r\n                    <th>Loại</th>\r\n                    <th>Số tiền</th>\r\n                    <th>Trạng thái</th>\r\n                    <th>Thời gian</th>\r\n                    <th>Từ</th>\r\n                    <th>Đến</th>\r\n                    <th>Ghi chú</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {activityModal.rows.length === 0 ? (\r\n                    <tr>\r\n                      <td colSpan={8} className=\"text-center text-muted py-4\">\r\n                        Không có giao dịch.\r\n                      </td>\r\n                    </tr>\r\n                  ) : (\r\n                    activityModal.rows.map((tx) => (\r\n                      <tr key={tx.id}>\r\n                        <td>{tx.id}</td>\r\n                        <td>{renderCell({ key: \"type\" }, tx)}</td>\r\n                        <td>{renderCell({ key: \"amount\" }, tx)}</td>\r\n                        <td>{renderCell({ key: \"status\" }, tx)}</td>\r\n                        <td>{renderCell({ key: \"createdAt\" }, tx)}</td>\r\n                        <td>{tx.fromUser || \"-\"}</td>\r\n                        <td>{tx.toUser || \"-\"}</td>\r\n                        <td>\r\n                          <span\r\n                            className=\"admin-dashboard__truncate\"\r\n                            title={tx.description}\r\n                          >\r\n                            {tx.description || \"-\"}\r\n                          </span>\r\n                        </td>\r\n                      </tr>\r\n                    ))\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div className=\"admin-dashboard__pagination\">\r\n              <span>\r\n                Trang {activityModal.page} /{\" \"}\r\n                {Math.max(\r\n                  1,\r\n                  Math.ceil(activityModal.total / DEFAULT_PAGE_SIZE)\r\n                )}\r\n              </span>\r\n              <div className=\"btn-group\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-outline-primary\"\r\n                  onClick={() => handleActivityPageChange(-1)}\r\n                  disabled={activityModal.page === 1 || activityModal.loading}\r\n                >\r\n                  <i className=\"bi bi-chevron-left\" aria-hidden></i>\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-outline-primary\"\r\n                  onClick={() => handleActivityPageChange(1)}\r\n                  disabled={\r\n                    activityModal.loading ||\r\n                    activityModal.page * DEFAULT_PAGE_SIZE >=\r\n                      activityModal.total\r\n                  }\r\n                >\r\n                  <i className=\"bi bi-chevron-right\" aria-hidden></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            {activityModal.loading && (\r\n              <div className=\"text-center py-3 admin-activity-loading\">\r\n                Đang tải...\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <ConfirmModal\r\n        show={confirmConfig.show}\r\n        title=\"Xác nhận xóa người dùng\"\r\n        body={\r\n          <>\r\n            Bạn có chắc muốn xóa tài khoản{\" \"}\r\n            <strong>{confirmConfig.user?.username}</strong>?\r\n            <br /> Hành động này không thể hoàn tác.\r\n          </>\r\n        }\r\n        confirming={confirmConfig.loading}\r\n        onCancel={() =>\r\n          setConfirmConfig({ show: false, user: null, loading: false })\r\n        }\r\n        onConfirm={handleConfirmDelete}\r\n      />\r\n\r\n      <Toast\r\n        show={toast.show}\r\n        type={toast.type}\r\n        message={toast.message}\r\n        onClose={closeToast}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}