{"ast":null,"code":"import React,{useCallback,useContext,useEffect,useMemo,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import NotificationContext from\"../context/NotificationContext\";import TransactionDetailsModal from\"./TransactionDetailsModal\";import{usePreferences}from\"../context/PreferencesContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const dictionary={vi:{title:\"Thông báo\",unreadSummary:count=>count>0?\"\".concat(count,\" th\\xF4ng b\\xE1o c\\u1EA7n xem\"):\"Bạn đã đọc tất cả thông báo\",markAll:\"Đánh dấu đã đọc\",backToDashboard:\"Quay lại bảng điều khiển\",emptyState:\"Chưa có thông báo giao dịch.\",status:{completed:\"Hoàn thành\",pending:\"Đang xử lý\",failed:\"Thất bại\"},sender:\"Tài khoản chuyển\",receiver:\"Tài khoản nhận\",transactionId:\"Mã giao dịch\",unknown:\"Không xác định\",note:\"Ghi chú\",amountPrefixPositive:\"+\",amountPrefixNegative:\"-\",clockLabel:\"Thời gian\",dayLabel:date=>date.toLocaleDateString(\"vi-VN\",{day:\"2-digit\",month:\"2-digit\",year:\"numeric\"})},en:{title:\"Notifications\",unreadSummary:count=>count>0?\"\".concat(count,\" notification\").concat(count>1?\"s\":\"\",\" pending\"):\"You're all caught up\",markAll:\"Mark all as read\",backToDashboard:\"Back to dashboard\",emptyState:\"No transaction notifications yet.\",status:{completed:\"Completed\",pending:\"Processing\",failed:\"Failed\"},sender:\"Sender\",receiver:\"Recipient\",transactionId:\"Transaction ID\",unknown:\"Unknown\",note:\"Note\",amountPrefixPositive:\"+\",amountPrefixNegative:\"-\",clockLabel:\"Time\",dayLabel:date=>date.toLocaleDateString(\"en-US\",{day:\"2-digit\",month:\"2-digit\",year:\"numeric\"})}};const statusBadgeClass=status=>{if(status===\"completed\")return\"bg-success-subtle text-success\";if(status===\"pending\")return\"bg-warning-subtle text-warning\";return\"bg-danger-subtle text-danger\";};const typeIcon=type=>{if(type===\"deposit\")return\"bi-arrow-down-circle\";if(type===\"transfer\")return\"bi-arrow-up-circle\";return\"bi-exclamation-circle\";};const maskAccount=value=>{if(!value)return\"\";if(value.length<=4)return value;return\"****\"+value.slice(-4);};const NotificationsPage=()=>{const navigate=useNavigate();const{notifications,unreadCount,markAllAsRead,markAsRead,refresh,readMap}=useContext(NotificationContext);const{language}=usePreferences();const locale=language===\"vi\"?\"vi-VN\":\"en-US\";const text=dictionary[language]||dictionary.vi;const[selectedTx,setSelectedTx]=useState(null);const[showModal,setShowModal]=useState(false);const token=localStorage.getItem(\"token\");useEffect(()=>{if(!token){navigate(\"/login\");}},[token,navigate]);useEffect(()=>{refresh();},[refresh]);const grouped=useMemo(()=>{return notifications.reduce((acc,item)=>{const date=new Date(item.createdAt);const dayDate=new Date(date.getFullYear(),date.getMonth(),date.getDate());const key=dayDate.toISOString();acc[key]=acc[key]||[];acc[key].push(item);return acc;},{});},[notifications]);const sortedDays=useMemo(()=>{return Object.keys(grouped).sort((a,b)=>new Date(b)-new Date(a));},[grouped]);const formatCurrency=useCallback(amount=>Number(amount||0).toLocaleString(locale,{style:\"currency\",currency:\"VND\"}),[locale]);const formatTime=useCallback(iso=>new Date(iso).toLocaleTimeString(locale,{hour:\"2-digit\",minute:\"2-digit\"}),[locale]);const handleMarkAll=useCallback(()=>{markAllAsRead();},[markAllAsRead]);const handleCardClick=useCallback(item=>{markAsRead(item.id);if(item.raw){setSelectedTx(item.raw);setShowModal(true);}},[markAsRead]);return/*#__PURE__*/_jsxs(\"div\",{className:\"notifications-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-wrap justify-content-between align-items-center mb-4 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-1\",children:text.title}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:text.unreadSummary(unreadCount)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[unreadCount>0&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",onClick:handleMarkAll,children:text.markAll}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-light\",onClick:()=>navigate(\"/dashboard\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-speedometer2 me-2\",\"aria-hidden\":true}),text.backToDashboard]})]})]}),sortedDays.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-muted py-5\",children:text.emptyState}):sortedDays.map(day=>/*#__PURE__*/_jsxs(\"section\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-semibold text-uppercase small text-muted mb-2\",children:text.dayLabel(new Date(day))}),/*#__PURE__*/_jsx(\"div\",{className:\"row g-3\",children:grouped[day].map(item=>{const isUnread=!readMap[item.id];const amount=formatCurrency(Math.abs(item.amount));const prefix=item.amount>=0?text.amountPrefixPositive:text.amountPrefixNegative;const tx=item.raw||{};return/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card notification-card \".concat(isUnread?\"notification-card--unread\":\"\"),role:\"button\",onClick:()=>handleCardClick(item),children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notification-card__header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"notification-card__icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi \".concat(typeIcon(tx.type)),\"aria-hidden\":true})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-grow-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-start gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title mb-1\",children:item.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-subtitle text-muted mb-0\",children:item.description})]}),/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(statusBadgeClass(item.status)),children:text.status[item.status]||text.status.failed})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"notification-card__money mt-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"notification-amount \".concat(item.amount>=0?\"text-success\":\"text-danger\"),children:[prefix,amount]}),/*#__PURE__*/_jsxs(\"span\",{className:\"notification-time\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-clock-history me-1\",\"aria-hidden\":true}),formatTime(item.createdAt)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"notification-card__meta mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:text.sender}),/*#__PURE__*/_jsx(\"div\",{children:maskAccount(tx.fromUsername)||text.unknown})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:text.receiver}),/*#__PURE__*/_jsx(\"div\",{children:maskAccount(tx.toUsername)||text.unknown})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:text.transactionId}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-semibold\",children:[\"#\",tx.id||item.id]})]})]}),tx.description&&/*#__PURE__*/_jsxs(\"div\",{className:\"notification-card__note mt-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:text.note}),/*#__PURE__*/_jsx(\"span\",{children:tx.description})]})]})})},item.id);})})]},day)),/*#__PURE__*/_jsx(TransactionDetailsModal,{tx:selectedTx,show:showModal,onClose:()=>setShowModal(false)})]});};export default NotificationsPage;","map":{"version":3,"names":["React","useCallback","useContext","useEffect","useMemo","useState","useNavigate","NotificationContext","TransactionDetailsModal","usePreferences","jsx","_jsx","jsxs","_jsxs","dictionary","vi","title","unreadSummary","count","concat","markAll","backToDashboard","emptyState","status","completed","pending","failed","sender","receiver","transactionId","unknown","note","amountPrefixPositive","amountPrefixNegative","clockLabel","dayLabel","date","toLocaleDateString","day","month","year","en","statusBadgeClass","typeIcon","type","maskAccount","value","length","slice","NotificationsPage","navigate","notifications","unreadCount","markAllAsRead","markAsRead","refresh","readMap","language","locale","text","selectedTx","setSelectedTx","showModal","setShowModal","token","localStorage","getItem","grouped","reduce","acc","item","Date","createdAt","dayDate","getFullYear","getMonth","getDate","key","toISOString","push","sortedDays","Object","keys","sort","a","b","formatCurrency","amount","Number","toLocaleString","style","currency","formatTime","iso","toLocaleTimeString","hour","minute","handleMarkAll","handleCardClick","id","raw","className","children","onClick","map","isUnread","Math","abs","prefix","tx","role","description","fromUsername","toUsername","show","onClose"],"sources":["D:/BMUDHT/frontend/src/components/NotificationsPage.js"],"sourcesContent":["import React, {\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n} from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport NotificationContext from \"../context/NotificationContext\";\r\nimport TransactionDetailsModal from \"./TransactionDetailsModal\";\r\nimport { usePreferences } from \"../context/PreferencesContext\";\r\n\r\nconst dictionary = {\r\n  vi: {\r\n    title: \"Thông báo\",\r\n    unreadSummary: (count) =>\r\n      count > 0 ? `${count} thông báo cần xem` : \"Bạn đã đọc tất cả thông báo\",\r\n    markAll: \"Đánh dấu đã đọc\",\r\n    backToDashboard: \"Quay lại bảng điều khiển\",\r\n    emptyState: \"Chưa có thông báo giao dịch.\",\r\n    status: {\r\n      completed: \"Hoàn thành\",\r\n      pending: \"Đang xử lý\",\r\n      failed: \"Thất bại\",\r\n    },\r\n    sender: \"Tài khoản chuyển\",\r\n    receiver: \"Tài khoản nhận\",\r\n    transactionId: \"Mã giao dịch\",\r\n    unknown: \"Không xác định\",\r\n    note: \"Ghi chú\",\r\n    amountPrefixPositive: \"+\",\r\n    amountPrefixNegative: \"-\",\r\n    clockLabel: \"Thời gian\",\r\n    dayLabel: (date) =>\r\n      date.toLocaleDateString(\"vi-VN\", {\r\n        day: \"2-digit\",\r\n        month: \"2-digit\",\r\n        year: \"numeric\",\r\n      }),\r\n  },\r\n  en: {\r\n    title: \"Notifications\",\r\n    unreadSummary: (count) =>\r\n      count > 0\r\n        ? `${count} notification${count > 1 ? \"s\" : \"\"} pending`\r\n        : \"You're all caught up\",\r\n    markAll: \"Mark all as read\",\r\n    backToDashboard: \"Back to dashboard\",\r\n    emptyState: \"No transaction notifications yet.\",\r\n    status: {\r\n      completed: \"Completed\",\r\n      pending: \"Processing\",\r\n      failed: \"Failed\",\r\n    },\r\n    sender: \"Sender\",\r\n    receiver: \"Recipient\",\r\n    transactionId: \"Transaction ID\",\r\n    unknown: \"Unknown\",\r\n    note: \"Note\",\r\n    amountPrefixPositive: \"+\",\r\n    amountPrefixNegative: \"-\",\r\n    clockLabel: \"Time\",\r\n    dayLabel: (date) =>\r\n      date.toLocaleDateString(\"en-US\", {\r\n        day: \"2-digit\",\r\n        month: \"2-digit\",\r\n        year: \"numeric\",\r\n      }),\r\n  },\r\n};\r\n\r\nconst statusBadgeClass = (status) => {\r\n  if (status === \"completed\") return \"bg-success-subtle text-success\";\r\n  if (status === \"pending\") return \"bg-warning-subtle text-warning\";\r\n  return \"bg-danger-subtle text-danger\";\r\n};\r\n\r\nconst typeIcon = (type) => {\r\n  if (type === \"deposit\") return \"bi-arrow-down-circle\";\r\n  if (type === \"transfer\") return \"bi-arrow-up-circle\";\r\n  return \"bi-exclamation-circle\";\r\n};\r\n\r\nconst maskAccount = (value) => {\r\n  if (!value) return \"\";\r\n  if (value.length <= 4) return value;\r\n  return \"****\" + value.slice(-4);\r\n};\r\n\r\nconst NotificationsPage = () => {\r\n  const navigate = useNavigate();\r\n  const {\r\n    notifications,\r\n    unreadCount,\r\n    markAllAsRead,\r\n    markAsRead,\r\n    refresh,\r\n    readMap,\r\n  } = useContext(NotificationContext);\r\n  const { language } = usePreferences();\r\n  const locale = language === \"vi\" ? \"vi-VN\" : \"en-US\";\r\n  const text = dictionary[language] || dictionary.vi;\r\n\r\n  const [selectedTx, setSelectedTx] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  useEffect(() => {\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n    }\r\n  }, [token, navigate]);\r\n\r\n  useEffect(() => {\r\n    refresh();\r\n  }, [refresh]);\r\n\r\n  const grouped = useMemo(() => {\r\n    return notifications.reduce((acc, item) => {\r\n      const date = new Date(item.createdAt);\r\n      const dayDate = new Date(\r\n        date.getFullYear(),\r\n        date.getMonth(),\r\n        date.getDate()\r\n      );\r\n      const key = dayDate.toISOString();\r\n      acc[key] = acc[key] || [];\r\n      acc[key].push(item);\r\n      return acc;\r\n    }, {});\r\n  }, [notifications]);\r\n\r\n  const sortedDays = useMemo(() => {\r\n    return Object.keys(grouped).sort((a, b) => new Date(b) - new Date(a));\r\n  }, [grouped]);\r\n\r\n  const formatCurrency = useCallback(\r\n    (amount) =>\r\n      Number(amount || 0).toLocaleString(locale, {\r\n        style: \"currency\",\r\n        currency: \"VND\",\r\n      }),\r\n    [locale]\r\n  );\r\n\r\n  const formatTime = useCallback(\r\n    (iso) =>\r\n      new Date(iso).toLocaleTimeString(locale, {\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n      }),\r\n    [locale]\r\n  );\r\n\r\n  const handleMarkAll = useCallback(() => {\r\n    markAllAsRead();\r\n  }, [markAllAsRead]);\r\n\r\n  const handleCardClick = useCallback(\r\n    (item) => {\r\n      markAsRead(item.id);\r\n      if (item.raw) {\r\n        setSelectedTx(item.raw);\r\n        setShowModal(true);\r\n      }\r\n    },\r\n    [markAsRead]\r\n  );\r\n\r\n  return (\r\n    <div className=\"notifications-page\">\r\n      <div className=\"d-flex flex-wrap justify-content-between align-items-center mb-4 gap-3\">\r\n        <div>\r\n          <h2 className=\"mb-1\">{text.title}</h2>\r\n          <small className=\"text-muted\">\r\n            {text.unreadSummary(unreadCount)}\r\n          </small>\r\n        </div>\r\n        <div className=\"d-flex gap-2\">\r\n          {unreadCount > 0 && (\r\n            <button className=\"btn btn-outline-primary\" onClick={handleMarkAll}>\r\n              {text.markAll}\r\n            </button>\r\n          )}\r\n          <button\r\n            className=\"btn btn-light\"\r\n            onClick={() => navigate(\"/dashboard\")}\r\n          >\r\n            <i className=\"bi bi-speedometer2 me-2\" aria-hidden></i>\r\n            {text.backToDashboard}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      {sortedDays.length === 0 ? (\r\n        <div className=\"text-center text-muted py-5\">{text.emptyState}</div>\r\n      ) : (\r\n        sortedDays.map((day) => (\r\n          <section key={day} className=\"mb-4\">\r\n            <p className=\"fw-semibold text-uppercase small text-muted mb-2\">\r\n              {text.dayLabel(new Date(day))}\r\n            </p>\r\n            <div className=\"row g-3\">\r\n              {grouped[day].map((item) => {\r\n                const isUnread = !readMap[item.id];\r\n                const amount = formatCurrency(Math.abs(item.amount));\r\n                const prefix =\r\n                  item.amount >= 0\r\n                    ? text.amountPrefixPositive\r\n                    : text.amountPrefixNegative;\r\n                const tx = item.raw || {};\r\n                return (\r\n                  <div className=\"col-xl-6\" key={item.id}>\r\n                    <div\r\n                      className={`card notification-card ${\r\n                        isUnread ? \"notification-card--unread\" : \"\"\r\n                      }`}\r\n                      role=\"button\"\r\n                      onClick={() => handleCardClick(item)}\r\n                    >\r\n                      <div className=\"card-body\">\r\n                        <div className=\"notification-card__header\">\r\n                          <span className=\"notification-card__icon\">\r\n                            <i\r\n                              className={`bi ${typeIcon(tx.type)}`}\r\n                              aria-hidden\r\n                            ></i>\r\n                          </span>\r\n                          <div className=\"flex-grow-1\">\r\n                            <div className=\"d-flex justify-content-between align-items-start gap-2\">\r\n                              <div>\r\n                                <h5 className=\"card-title mb-1\">\r\n                                  {item.title}\r\n                                </h5>\r\n                                <p className=\"card-subtitle text-muted mb-0\">\r\n                                  {item.description}\r\n                                </p>\r\n                              </div>\r\n                              <span\r\n                                className={`badge ${statusBadgeClass(\r\n                                  item.status\r\n                                )}`}\r\n                              >\r\n                                {text.status[item.status] || text.status.failed}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"notification-card__money mt-3\">\r\n                          <span\r\n                            className={`notification-amount ${\r\n                              item.amount >= 0 ? \"text-success\" : \"text-danger\"\r\n                            }`}\r\n                          >\r\n                            {prefix}\r\n                            {amount}\r\n                          </span>\r\n                          <span className=\"notification-time\">\r\n                            <i\r\n                              className=\"bi bi-clock-history me-1\"\r\n                              aria-hidden\r\n                            ></i>\r\n                            {formatTime(item.createdAt)}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"notification-card__meta mt-3\">\r\n                          <div>\r\n                            <small className=\"text-muted\">{text.sender}</small>\r\n                            <div>\r\n                              {maskAccount(tx.fromUsername) || text.unknown}\r\n                            </div>\r\n                          </div>\r\n                          <div>\r\n                            <small className=\"text-muted\">\r\n                              {text.receiver}\r\n                            </small>\r\n                            <div>\r\n                              {maskAccount(tx.toUsername) || text.unknown}\r\n                            </div>\r\n                          </div>\r\n                          <div>\r\n                            <small className=\"text-muted\">\r\n                              {text.transactionId}\r\n                            </small>\r\n                            <div className=\"fw-semibold\">\r\n                              #{tx.id || item.id}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        {tx.description && (\r\n                          <div className=\"notification-card__note mt-3\">\r\n                            <small className=\"text-muted d-block\">\r\n                              {text.note}\r\n                            </small>\r\n                            <span>{tx.description}</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </section>\r\n        ))\r\n      )}\r\n\r\n      <TransactionDetailsModal\r\n        tx={selectedTx}\r\n        show={showModal}\r\n        onClose={() => setShowModal(false)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}