{"ast":null,"code":"var _jsxFileName = \"D:\\\\BMUDHT\\\\frontend\\\\src\\\\components\\\\MerchantCheckout.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport api from \"../services/api\";\nimport LoaderOverlay from \"./LoaderOverlay\";\nimport Toast from \"./Toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatCurrency = value => Number(value || 0).toLocaleString(\"vi-VN\", {\n  style: \"currency\",\n  currency: \"VND\",\n  minimumFractionDigits: 0\n});\nconst formatDateTime = value => value ? new Date(value).toLocaleString(\"vi-VN\", {\n  hour: \"2-digit\",\n  minute: \"2-digit\",\n  day: \"2-digit\",\n  month: \"2-digit\",\n  year: \"numeric\"\n}) : \"-\";\nconst transactionStatusMeta = {\n  success: {\n    label: \"Thành công\",\n    tone: \"danger\"\n  },\n  pending: {\n    label: \"Đang xử lý\",\n    tone: \"warning\"\n  },\n  failed: {\n    label: \"Bị chặn\",\n    tone: \"secondary\"\n  }\n};\nconst MerchantCheckout = () => {\n  _s();\n  const [timeline, setTimeline] = useState({\n    otpSessions: [],\n    fraudTransactions: []\n  });\n  const [loading, setLoading] = useState(true);\n  const [toast, setToast] = useState({\n    show: false,\n    type: \"info\",\n    message: \"\"\n  });\n  const showToast = useCallback((message, type = \"info\") => {\n    setToast({\n      show: true,\n      type,\n      message\n    });\n  }, []);\n  const closeToast = useCallback(() => {\n    setToast(prev => ({\n      ...prev,\n      show: false\n    }));\n  }, []);\n  const loadData = useCallback(async () => {\n    setLoading(true);\n    try {\n      var _response$data, _response$data2;\n      const response = await api.get(\"/api/fraud/timeline\");\n      setTimeline({\n        otpSessions: ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.otpSessions) || [],\n        fraudTransactions: ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.fraudTransactions) || []\n      });\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Merchant timeline load error:\", err);\n      showToast(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Không thể tải dữ liệu thanh toán\", \"error\");\n    } finally {\n      setLoading(false);\n    }\n  }, [showToast]);\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n  const recentTransactions = useMemo(() => {\n    return [...timeline.fraudTransactions].sort((a, b) => new Date(b.executedAt).getTime() - new Date(a.executedAt).getTime()).slice(0, 6).map(txn => {\n      const meta = transactionStatusMeta[txn.status] || {\n        label: txn.status,\n        tone: \"secondary\"\n      };\n      return {\n        id: txn.id,\n        amount: formatCurrency(txn.amount),\n        executedAt: formatDateTime(txn.executedAt),\n        statusLabel: meta.label,\n        statusTone: meta.tone\n      };\n    });\n  }, [timeline.fraudTransactions]);\n  const activeAlerts = useMemo(() => {\n    return timeline.otpSessions.filter(session => session.status === \"pending\" || session.status === \"shared\").map(session => ({\n      id: session.id,\n      status: session.status,\n      merchant: session.merchant,\n      amount: formatCurrency(session.amountTarget || 0),\n      createdAt: formatDateTime(session.createdAt)\n    }));\n  }, [timeline.otpSessions]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    role: \"main\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"page-header page-header--split\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"page-title\",\n          children: \"C\\u1ED5ng thanh to\\xE1n th\\u01B0\\u01A1ng m\\u1EA1i \\u0111i\\u1EC7n t\\u1EED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"page-subtitle\",\n          children: \"\\u0110\\xE2y l\\xE0 g\\xF3c nh\\xECn c\\u1EE7a nh\\xE0 b\\xE1n h\\xE0ng/nh\\xE0 cung c\\u1EA5p d\\u1ECBch v\\u1EE5 thanh to\\xE1n. Theo d\\xF5i c\\xE1c giao d\\u1ECBch g\\u1EA7n \\u0111\\xE2y v\\xE0 ph\\xE1t hi\\u1EC7n t\\xEDn hi\\u1EC7u b\\u1EA5t th\\u01B0\\u1EDDng.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-outline-primary\",\n        onClick: loadData,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-arrow-repeat me-1\",\n          \"aria-hidden\": true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), \"L\\xE0m m\\u1EDBi d\\u1EEF li\\u1EC7u\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row g-4 align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"h5 mb-2\",\n              children: \"Combo \\\"Merchant Premium\\\"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted mb-3\",\n              children: \"G\\xF3i d\\u1ECBch v\\u1EE5 x\\u1EED l\\xFD thanh to\\xE1n t\\u1ED1c \\u0111\\u1ED9 cao, h\\u1ED7 tr\\u1EE3 tr\\u1EA3 g\\xF3p 0% v\\xE0 qu\\u1EA3n l\\xFD r\\u1EE7i ro th\\u1EDDi gian th\\u1EF1c. \\u0110\\xE2y l\\xE0 trang m\\xE0 k\\u1EBB gian \\u0111ang nh\\u1EAFm t\\u1EDBi \\u0111\\u1EC3 d\\u1EF1ng k\\u1ECBch b\\u1EA3n thanh to\\xE1n gi\\u1EA3 m\\u1EA1o.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-unstyled small text-muted mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-check-circle me-2 text-success\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this), \"T\\xEDch h\\u1EE3p 3-D Secure & OTP qua SMS\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-check-circle me-2 text-success\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 19\n                }, this), \"B\\u1EA3ng \\u0111i\\u1EC1u khi\\u1EC3n c\\u1EA3nh b\\xE1o gian l\\u1EADn t\\u1EE9c th\\u1EDDi\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-check-circle me-2 text-success\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 19\n                }, this), \"B\\xE1o c\\xE1o doanh thu v\\xE0 ph\\xED theo th\\u1EDDi gian th\\u1EF1c\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card border-primary h-100\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"h6 text-primary\",\n                  children: \"\\u0110\\u01A1n h\\xE0ng m\\xF4 ph\\u1ECFng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n                  className: \"row small mb-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                    className: \"col-sm-5\",\n                    children: \"S\\u1EA3n ph\\u1EA9m\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                    className: \"col-sm-7\",\n                    children: \"G\\xF3i API cao c\\u1EA5p 12 th\\xE1ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                    className: \"col-sm-5\",\n                    children: \"Gi\\xE1 tr\\u1ECB\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                    className: \"col-sm-7\",\n                    children: formatCurrency(5000000)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                    className: \"col-sm-5\",\n                    children: \"Ph\\xED x\\u1EED l\\xFD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                    className: \"col-sm-7\",\n                    children: formatCurrency(50000)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                    className: \"col-sm-5\",\n                    children: \"Tr\\u1EA1ng th\\xE1i\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                    className: \"col-sm-7\",\n                    children: activeAlerts.length > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-warning-subtle text-warning\",\n                      children: \"\\u0110ang nghi v\\u1EA5n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 25\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-success-subtle text-success\",\n                      children: \"An to\\xE0n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-primary\",\n                    onClick: loadData,\n                    children: \"L\\xE0m m\\u1EDBi \\u0111\\u1ED1i so\\xE1t\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between align-items-center mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"h5 mb-0\",\n            children: \"Giao d\\u1ECBch g\\u1EA7n nh\\u1EA5t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge bg-secondary-subtle text-secondary\",\n            children: [recentTransactions.length, \" giao d\\u1ECBch hi\\u1EC3n th\\u1ECB\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), recentTransactions.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted mb-0\",\n          children: \"Ch\\u01B0a c\\xF3 giao d\\u1ECBch. Khi k\\u1EBB gian ho\\xE0n t\\u1EA5t thanh to\\xE1n gi\\u1EA3, d\\u1EEF li\\u1EC7u s\\u1EBD hi\\u1EC3n th\\u1ECB t\\u1EA1i \\u0111\\xE2y.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table align-middle mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"M\\xE3 giao d\\u1ECBch\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Gi\\xE1 tr\\u1ECB\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Th\\u1EDDi gian\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Tr\\u1EA1ng th\\xE1i\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: recentTransactions.map(txn => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\"#\", txn.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: txn.amount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: txn.executedAt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `badge bg-${txn.statusTone}-subtle text-${txn.statusTone}`,\n                    children: txn.statusLabel\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 23\n                }, this)]\n              }, txn.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"h5 mb-3\",\n          children: \"C\\u1EA3nh b\\xE1o r\\u1EE7i ro \\u0111ang m\\u1EDF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), activeAlerts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted mb-0\",\n          children: \"Ch\\u01B0a ph\\xE1t hi\\u1EC7n t\\xEDn hi\\u1EC7u nghi v\\u1EA5n. Khi k\\u1EBB gian g\\u1EEDi y\\xEAu c\\u1EA7u OTP, c\\xE1c c\\u1EA3nh b\\xE1o s\\u1EBD xu\\u1EA5t hi\\u1EC7n t\\u1EA1i \\u0111\\xE2y.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"timeline\",\n          children: activeAlerts.map(alert => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"timeline__item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"timeline__badge bg-warning-subtle text-warning\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-shield-exclamation\",\n                \"aria-hidden\": true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"timeline__content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"timeline__title\",\n                children: [\"OTP #\", alert.id, \" ch\\u01B0a ho\\xE0n t\\u1EA5t\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"timeline__meta text-muted mb-1\",\n                children: alert.createdAt\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"timeline__description mb-0\",\n                children: [\"M\\u1EE5c ti\\xEAu \", alert.amount, \" t\\u1EA1i \", alert.merchant, \" \\xB7 Tr\\u1EA1ng th\\xE1i: \", alert.status]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 19\n            }, this)]\n          }, alert.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(LoaderOverlay, {\n      message: \"\\u0110ang \\u0111\\u1ED3ng b\\u1ED9 d\\u1EEF li\\u1EC7u th\\u01B0\\u01A1ng m\\u1EA1i...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Toast, {\n      show: toast.show,\n      type: toast.type,\n      message: toast.message,\n      onClose: closeToast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n_s(MerchantCheckout, \"c/Cy3cog/b9GxLxMZfQcWXHQUog=\");\n_c = MerchantCheckout;\nexport default MerchantCheckout;\nvar _c;\n$RefreshReg$(_c, \"MerchantCheckout\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","api","LoaderOverlay","Toast","jsxDEV","_jsxDEV","formatCurrency","value","Number","toLocaleString","style","currency","minimumFractionDigits","formatDateTime","Date","hour","minute","day","month","year","transactionStatusMeta","success","label","tone","pending","failed","MerchantCheckout","_s","timeline","setTimeline","otpSessions","fraudTransactions","loading","setLoading","toast","setToast","show","type","message","showToast","closeToast","prev","loadData","_response$data","_response$data2","response","get","data","err","_err$response","_err$response$data","console","error","recentTransactions","sort","a","b","executedAt","getTime","slice","map","txn","meta","status","id","amount","statusLabel","statusTone","activeAlerts","filter","session","merchant","amountTarget","createdAt","className","role","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","alert","onClose","_c","$RefreshReg$"],"sources":["D:/BMUDHT/frontend/src/components/MerchantCheckout.js"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport api from \"../services/api\";\r\nimport LoaderOverlay from \"./LoaderOverlay\";\r\nimport Toast from \"./Toast\";\r\n\r\nconst formatCurrency = (value) =>\r\n  Number(value || 0).toLocaleString(\"vi-VN\", {\r\n    style: \"currency\",\r\n    currency: \"VND\",\r\n    minimumFractionDigits: 0,\r\n  });\r\n\r\nconst formatDateTime = (value) =>\r\n  value\r\n    ? new Date(value).toLocaleString(\"vi-VN\", {\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n        day: \"2-digit\",\r\n        month: \"2-digit\",\r\n        year: \"numeric\",\r\n      })\r\n    : \"-\";\r\n\r\nconst transactionStatusMeta = {\r\n  success: { label: \"Thành công\", tone: \"danger\" },\r\n  pending: { label: \"Đang xử lý\", tone: \"warning\" },\r\n  failed: { label: \"Bị chặn\", tone: \"secondary\" },\r\n};\r\n\r\nconst MerchantCheckout = () => {\r\n  const [timeline, setTimeline] = useState({\r\n    otpSessions: [],\r\n    fraudTransactions: [],\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [toast, setToast] = useState({ show: false, type: \"info\", message: \"\" });\r\n\r\n  const showToast = useCallback((message, type = \"info\") => {\r\n    setToast({ show: true, type, message });\r\n  }, []);\r\n\r\n  const closeToast = useCallback(() => {\r\n    setToast((prev) => ({ ...prev, show: false }));\r\n  }, []);\r\n\r\n  const loadData = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get(\"/api/fraud/timeline\");\r\n      setTimeline({\r\n        otpSessions: response.data?.otpSessions || [],\r\n        fraudTransactions: response.data?.fraudTransactions || [],\r\n      });\r\n    } catch (err) {\r\n      console.error(\"Merchant timeline load error:\", err);\r\n      showToast(\r\n        err.response?.data?.error || \"Không thể tải dữ liệu thanh toán\",\r\n        \"error\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [showToast]);\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, [loadData]);\r\n\r\n  const recentTransactions = useMemo(() => {\r\n    return [...timeline.fraudTransactions]\r\n      .sort(\r\n        (a, b) =>\r\n          new Date(b.executedAt).getTime() - new Date(a.executedAt).getTime()\r\n      )\r\n      .slice(0, 6)\r\n      .map((txn) => {\r\n        const meta = transactionStatusMeta[txn.status] || {\r\n          label: txn.status,\r\n          tone: \"secondary\",\r\n        };\r\n        return {\r\n          id: txn.id,\r\n          amount: formatCurrency(txn.amount),\r\n          executedAt: formatDateTime(txn.executedAt),\r\n          statusLabel: meta.label,\r\n          statusTone: meta.tone,\r\n        };\r\n      });\r\n  }, [timeline.fraudTransactions]);\r\n\r\n  const activeAlerts = useMemo(() => {\r\n    return timeline.otpSessions\r\n      .filter(\r\n        (session) => session.status === \"pending\" || session.status === \"shared\"\r\n      )\r\n      .map((session) => ({\r\n        id: session.id,\r\n        status: session.status,\r\n        merchant: session.merchant,\r\n        amount: formatCurrency(session.amountTarget || 0),\r\n        createdAt: formatDateTime(session.createdAt),\r\n      }));\r\n  }, [timeline.otpSessions]);\r\n\r\n  return (\r\n    <div className=\"page\" role=\"main\">\r\n      <header className=\"page-header page-header--split\">\r\n        <div>\r\n          <h1 className=\"page-title\">Cổng thanh toán thương mại điện tử</h1>\r\n          <p className=\"page-subtitle\">\r\n            Đây là góc nhìn của nhà bán hàng/nhà cung cấp dịch vụ thanh toán.\r\n            Theo dõi các giao dịch gần đây và phát hiện tín hiệu bất thường.\r\n          </p>\r\n        </div>\r\n        <button type=\"button\" className=\"btn btn-outline-primary\" onClick={loadData}>\r\n          <i className=\"bi bi-arrow-repeat me-1\" aria-hidden></i>\r\n          Làm mới dữ liệu\r\n        </button>\r\n      </header>\r\n\r\n      <section className=\"card shadow-sm mb-4\">\r\n        <div className=\"card-body\">\r\n          <div className=\"row g-4 align-items-center\">\r\n            <div className=\"col-md-6\">\r\n              <h2 className=\"h5 mb-2\">Combo \"Merchant Premium\"</h2>\r\n              <p className=\"text-muted mb-3\">\r\n                Gói dịch vụ xử lý thanh toán tốc độ cao, hỗ trợ trả góp 0% và\r\n                quản lý rủi ro thời gian thực. Đây là trang mà kẻ gian đang nhắm\r\n                tới để dựng kịch bản thanh toán giả mạo.\r\n              </p>\r\n              <ul className=\"list-unstyled small text-muted mb-0\">\r\n                <li>\r\n                  <i className=\"bi bi-check-circle me-2 text-success\"></i>\r\n                  Tích hợp 3-D Secure & OTP qua SMS\r\n                </li>\r\n                <li>\r\n                  <i className=\"bi bi-check-circle me-2 text-success\"></i>\r\n                  Bảng điều khiển cảnh báo gian lận tức thời\r\n                </li>\r\n                <li>\r\n                  <i className=\"bi bi-check-circle me-2 text-success\"></i>\r\n                  Báo cáo doanh thu và phí theo thời gian thực\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n              <div className=\"card border-primary h-100\">\r\n                <div className=\"card-body\">\r\n                  <h3 className=\"h6 text-primary\">Đơn hàng mô phỏng</h3>\r\n                  <dl className=\"row small mb-0\">\r\n                    <dt className=\"col-sm-5\">Sản phẩm</dt>\r\n                    <dd className=\"col-sm-7\">Gói API cao cấp 12 tháng</dd>\r\n                    <dt className=\"col-sm-5\">Giá trị</dt>\r\n                    <dd className=\"col-sm-7\">{formatCurrency(5000000)}</dd>\r\n                    <dt className=\"col-sm-5\">Phí xử lý</dt>\r\n                    <dd className=\"col-sm-7\">{formatCurrency(50000)}</dd>\r\n                    <dt className=\"col-sm-5\">Trạng thái</dt>\r\n                    <dd className=\"col-sm-7\">\r\n                      {activeAlerts.length > 0 ? (\r\n                        <span className=\"badge bg-warning-subtle text-warning\">\r\n                          Đang nghi vấn\r\n                        </span>\r\n                      ) : (\r\n                        <span className=\"badge bg-success-subtle text-success\">\r\n                          An toàn\r\n                        </span>\r\n                      )}\r\n                    </dd>\r\n                  </dl>\r\n                  <div className=\"mt-3\">\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={loadData}>\r\n                      Làm mới đối soát\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"card shadow-sm mb-4\">\r\n        <div className=\"card-body\">\r\n          <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n            <h2 className=\"h5 mb-0\">Giao dịch gần nhất</h2>\r\n            <span className=\"badge bg-secondary-subtle text-secondary\">\r\n              {recentTransactions.length} giao dịch hiển thị\r\n            </span>\r\n          </div>\r\n          {recentTransactions.length === 0 ? (\r\n            <p className=\"text-muted mb-0\">\r\n              Chưa có giao dịch. Khi kẻ gian hoàn tất thanh toán giả, dữ liệu sẽ hiển thị tại đây.\r\n            </p>\r\n          ) : (\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table align-middle mb-0\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Mã giao dịch</th>\r\n                    <th>Giá trị</th>\r\n                    <th>Thời gian</th>\r\n                    <th>Trạng thái</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {recentTransactions.map((txn) => (\r\n                    <tr key={txn.id}>\r\n                      <td>#{txn.id}</td>\r\n                      <td>{txn.amount}</td>\r\n                      <td>{txn.executedAt}</td>\r\n                      <td>\r\n                        <span\r\n                          className={`badge bg-${txn.statusTone}-subtle text-${txn.statusTone}`}\r\n                        >\r\n                          {txn.statusLabel}\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"card shadow-sm\">\r\n        <div className=\"card-body\">\r\n          <h2 className=\"h5 mb-3\">Cảnh báo rủi ro đang mở</h2>\r\n          {activeAlerts.length === 0 ? (\r\n            <p className=\"text-muted mb-0\">\r\n              Chưa phát hiện tín hiệu nghi vấn. Khi kẻ gian gửi yêu cầu OTP, các cảnh báo sẽ xuất hiện tại đây.\r\n            </p>\r\n          ) : (\r\n            <ol className=\"timeline\">\r\n              {activeAlerts.map((alert) => (\r\n                <li key={alert.id} className=\"timeline__item\">\r\n                  <div className=\"timeline__badge bg-warning-subtle text-warning\">\r\n                    <i className=\"bi bi-shield-exclamation\" aria-hidden></i>\r\n                  </div>\r\n                  <div className=\"timeline__content\">\r\n                    <h3 className=\"timeline__title\">OTP #{alert.id} chưa hoàn tất</h3>\r\n                    <p className=\"timeline__meta text-muted mb-1\">{alert.createdAt}</p>\r\n                    <p className=\"timeline__description mb-0\">\r\n                      Mục tiêu {alert.amount} tại {alert.merchant} · Trạng thái: {alert.status}\r\n                    </p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ol>\r\n          )}\r\n        </div>\r\n      </section>\r\n\r\n      {loading && <LoaderOverlay message=\"Đang đồng bộ dữ liệu thương mại...\" />}\r\n      <Toast show={toast.show} type={toast.type} message={toast.message} onClose={closeToast} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MerchantCheckout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}