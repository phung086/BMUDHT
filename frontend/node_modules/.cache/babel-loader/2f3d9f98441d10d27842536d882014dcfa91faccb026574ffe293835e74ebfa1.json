{"ast":null,"code":"import _objectSpread from\"D:/BMUDHT/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useCallback,useContext,useEffect,useMemo,useRef,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import api from\"../services/api\";import ConfirmModal from\"./ConfirmModal\";import Toast from\"./Toast\";import MfaSetup from\"./MfaSetup\";import TransactionDetailsModal from\"./TransactionDetailsModal\";import NotificationContext from\"../context/NotificationContext\";import{usePreferences}from\"../context/PreferencesContext\";import{getReferenceCode}from\"../utils/reference\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const dictionary={vi:{greeting:\"Xin chào\",heroCaption:\"Tài khoản · Số dư cập nhật theo thời gian thực\",balanceLabel:\"Số dư khả dụng\",hideBalance:\"Ẩn số dư\",showBalance:\"Hiện số dư\",netChange:\"Biến động ròng tháng này\",lastActivityPrefix:\"Giao dịch gần nhất\",lastActivityEmpty:\"Chưa có giao dịch nào được ghi nhận.\",quickActionsTitle:\"Tác vụ nhanh\",quickActionsSubtitle:\"Chọn thao tác thường xuyên chỉ với một chạm.\",modalDismiss:\"Đã hiểu\",quickTransfer:\"Chuyển khoản ngay\",quickViewNotifications:\"Xem thông báo\",quickActions:{transfer:{label:\"Chuyển khoản\",tagline:\"Nội bộ & liên ngân hàng\",description:\"Chuyển tiền nhanh tới tài khoản nội bộ hoặc ngân hàng khác.\"},deposit:{label:\"Nạp tiền\",tagline:\"Qua thẻ và ví liên kết\",description:\"Nạp tiền từ thẻ ghi nợ hoặc ví điện tử liên kết.\"},mobile:{label:\"Nạp điện thoại\",tagline:\"Áp dụng mọi nhà mạng\",description:\"Mua thẻ cào hoặc nạp trực tiếp cho số điện thoại bất kỳ.\"},bill:{label:\"Thanh toán hóa đơn\",tagline:\"Điện, nước, Internet\",description:\"Tự động thanh toán điện, nước, internet và truyền hình.\"},travel:{label:\"Vé máy bay\",tagline:\"Đối tác hàng không\",description:\"Đặt vé máy bay nội địa và quốc tế với ưu đãi độc quyền.\"},invest:{label:\"Đầu tư\",tagline:\"Gửi tiết kiệm sinh lời\",description:\"Mở tài khoản tiết kiệm hoặc danh mục đầu tư sinh lời.\"},support:{label:\"Trợ giúp\",tagline:\"Tổng đài 24/7\",description:\"Liên hệ tổng đài 24/7 và chatbot tài chính thông minh.\"},promo:{label:\"Ưu đãi\",tagline:\"Hoàn tiền & voucher\",description:\"Khám phá ưu đãi hoàn tiền và voucher mới nhất.\"}},depositTitle:\"Nạp tiền vào tài khoản\",depositLimit:\"Không giới hạn\",depositPlaceholder:\"Số tiền nạp (VND)\",submitDeposit:\"Nạp tiền\",transferTitle:\"Chuyển khoản thông minh\",transferAccount:\"Tài khoản nhận\",transferAmount:\"Số tiền (VND)\",transferNote:\"Ghi chú (không bắt buộc)\",submitTransfer:\"Chuyển khoản\",processing:\"Đang xử lý\",syncing:\"Đang đồng bộ...\",depositSuccess:\"Nạp tiền thành công\",depositFail:\"Nạp tiền thất bại\",transferSuccess:\"Chuyển khoản thành công\",transferFail:\"Chuyển khoản thất bại\",analyticsTitle:\"Tổng quan tháng này\",analyticsIncoming:\"Tiền vào\",analyticsOutgoing:\"Tiền ra\",analyticsPending:\"Đang xử lý\",analyticsSecurity:\"Tự động hóa bảo mật\",analyticsSecurityNote:\"Luồng giao dịch được giám sát thời gian thực với cảnh báo rủi ro bất thường.\",chartTitle:\"Phân tích thu · chi 7 ngày\",chartLegendIn:\"Thu\",chartLegendOut:\"Chi\",statusCompleted:\"Hoàn thành\",statusPending:\"Đang xử lý\",statusFailed:\"Thất bại\",recentTitle:\"Giao dịch gần đây\",recentSubtitle:\"Chạm để xem chi tiết và đánh dấu bất thường.\",recentEmpty:\"Chưa có giao dịch nào.\",transactionType:{deposit:\"Nạp tiền\",transfer:\"Chuyển khoản\",fallback:\"Giao dịch\"},badgeUp:\"Tăng\",badgeDown:\"Giảm\",transactionsFollow:\"Giao dịch cần theo dõi\",analyticsSuccessRate:\"Tỉ lệ thành công\",analyticsFailed:\"Giao dịch lỗi\",analyticsAvgTicket:\"Giá trị bình quân\",analyticsLargest:\"Giao dịch lớn nhất\",analyticsNoData:\"Chưa có dữ liệu\",profileLoading:\"Đang cập nhật hồ sơ...\",profileRoleAdmin:\"Quản trị viên hệ thống\",profileRoleUser:\"Khách hàng cá nhân\",profileRoleStaff:\"Chuyên viên hỗ trợ\",profileMissing:\"Chưa có thông tin hồ sơ\",profileEmailLabel:\"Email bảo mật\",profileUsernameLabel:\"Tên đăng nhập\"},en:{greeting:\"Welcome\",heroCaption:\"Account · Real-time available balance\",balanceLabel:\"Available balance\",hideBalance:\"Hide balance\",showBalance:\"Show balance\",netChange:\"Net change this month\",lastActivityPrefix:\"Latest transaction\",lastActivityEmpty:\"No transactions recorded yet.\",quickActionsTitle:\"Quick actions\",quickActionsSubtitle:\"Access frequent operations in one tap.\",modalDismiss:\"Got it\",quickTransfer:\"Transfer now\",quickViewNotifications:\"Notifications\",quickActions:{transfer:{label:\"Transfer\",tagline:\"Internal & interbank\",description:\"Send funds to an in-network or external bank account instantly.\"},deposit:{label:\"Top up\",tagline:\"Cards & linked wallets\",description:\"Add funds using your debit card or linked e-wallets.\"},mobile:{label:\"Mobile top-up\",tagline:\"All carriers supported\",description:\"Buy airtime vouchers or top up any mobile number.\"},bill:{label:\"Bill payment\",tagline:\"Utilities & internet\",description:\"Automate electricity, water, broadband, and TV payments.\"},travel:{label:\"Flights\",tagline:\"Airline partner deals\",description:\"Book domestic and international flights with exclusive perks.\"},invest:{label:\"Invest\",tagline:\"Grow your savings\",description:\"Open savings plans or curated investment portfolios.\"},support:{label:\"Support\",tagline:\"24/7 helpdesk\",description:\"Reach our 24/7 contact center and smart finance chatbot.\"},promo:{label:\"Rewards\",tagline:\"Cashback & vouchers\",description:\"Discover the latest cashback offers and partner vouchers.\"}},depositTitle:\"Top up account\",depositLimit:\"Unlimited\",depositPlaceholder:\"Top-up amount (VND)\",submitDeposit:\"Top up\",transferTitle:\"Smart transfers\",transferAccount:\"Recipient account\",transferAmount:\"Amount (VND)\",transferNote:\"Note (optional)\",submitTransfer:\"Transfer\",processing:\"Processing\",syncing:\"Syncing...\",depositSuccess:\"Top-up successful\",depositFail:\"Top-up failed\",transferSuccess:\"Transfer successful\",transferFail:\"Transfer failed\",analyticsTitle:\"Monthly overview\",analyticsIncoming:\"Cash in\",analyticsOutgoing:\"Cash out\",analyticsPending:\"Pending\",analyticsSecurity:\"Security automation\",analyticsSecurityNote:\"Transactions are monitored in real time with anomaly alerts.\",chartTitle:\"7-day income vs. expense\",chartLegendIn:\"Income\",chartLegendOut:\"Expense\",statusCompleted:\"Completed\",statusPending:\"Processing\",statusFailed:\"Failed\",recentTitle:\"Recent transactions\",recentSubtitle:\"Tap to inspect details or flag anomalies.\",recentEmpty:\"No transactions recorded.\",transactionType:{deposit:\"Deposit\",transfer:\"Transfer\",fallback:\"Transaction\"},badgeUp:\"Up\",badgeDown:\"Down\",transactionsFollow:\"Transactions to follow\",analyticsSuccessRate:\"Success rate\",analyticsFailed:\"Failed transactions\",analyticsAvgTicket:\"Average ticket\",analyticsLargest:\"Largest transaction\",analyticsNoData:\"No data yet\",profileLoading:\"Syncing profile...\",profileRoleAdmin:\"Platform administrator\",profileRoleUser:\"Retail customer\",profileRoleStaff:\"Support specialist\",profileMissing:\"Profile details unavailable\",profileEmailLabel:\"Secure email\",profileUsernameLabel:\"Username\"}};const quickActionCatalog=[{key:\"transfer\",icon:\"bi-arrow-left-right\",accent:\"action-transfer\"},{key:\"deposit\",icon:\"bi-wallet2\",accent:\"action-deposit\"},{key:\"mobile\",icon:\"bi-phone\",accent:\"action-mobile\"},{key:\"bill\",icon:\"bi-receipt\",accent:\"action-bill\"},{key:\"travel\",icon:\"bi-airplane\",accent:\"action-travel\"},{key:\"invest\",icon:\"bi-graph-up-arrow\",accent:\"action-invest\"},{key:\"support\",icon:\"bi-life-preserver\",accent:\"action-support\"},{key:\"promo\",icon:\"bi-gift\",accent:\"action-promo\"}];const maskAccount=value=>{if(!value)return\"-\";if(value.length<=4)return value;return\"****\"+value.slice(-4);};const maskIdentifier=value=>{if(!value)return\"-\";if(value.includes(\"@\")){const[local,domain]=value.split(\"@\");if(local.length<=2){return\"**@\".concat(domain);}return\"\".concat(local.slice(0,2),\"***@\").concat(domain);}return maskAccount(value);};const InfoModal=_ref=>{let{show,title,description,primaryLabel,onClose}=_ref;if(!show)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"modal-backdrop\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-card\",children:[/*#__PURE__*/_jsx(\"h5\",{children:title}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:description})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-actions justify-content-end\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:onClose,children:primaryLabel})})]})});};const useTokenProfile=token=>{// Extract lightweight profile information from the persisted JWT payload.\nreturn useMemo(()=>{if(!token)return null;try{var _payload$email;const payload=JSON.parse(atob(token.split(\".\")[1]||\"\"));const displayName=(payload===null||payload===void 0?void 0:payload.name)||(payload===null||payload===void 0?void 0:payload.fullName)||(payload===null||payload===void 0?void 0:payload.username)||(payload===null||payload===void 0?void 0:(_payload$email=payload.email)===null||_payload$email===void 0?void 0:_payload$email.split(\"@\")[0])||\"Khách hàng\";return _objectSpread(_objectSpread({},payload),{},{displayName});}catch(error){return null;}},[token]);};const decorateTransactions=items=>(items||[]).map(tx=>_objectSpread(_objectSpread({},tx),{},{reference:getReferenceCode(tx)}));const Dashboard=()=>{var _confirm$payload4;const navigate=useNavigate();const token=localStorage.getItem(\"token\");const profile=useTokenProfile(token);const{language}=usePreferences();const text=dictionary[language]||dictionary.vi;const[balance,setBalance]=useState(0);const[transactions,setTransactions]=useState([]);const[userProfile,setUserProfile]=useState(null);const[profileLoading,setProfileLoading]=useState(false);const[profileError,setProfileError]=useState(null);const[depositAmount,setDepositAmount]=useState(\"\");const[transferData,setTransferData]=useState({toUsername:\"\",amount:\"\",description:\"\"});const[toast,setToast]=useState({show:false,type:\"success\",message:\"\"});const[confirm,setConfirm]=useState({show:false,payload:null,confirming:false});const[dataLoading,setDataLoading]=useState(false);const[depositLoading,setDepositLoading]=useState(false);const[transferLoading,setTransferLoading]=useState(false);const[selectedTx,setSelectedTx]=useState(null);const[showTxModal,setShowTxModal]=useState(false);const[infoModal,setInfoModal]=useState({show:false,key:null});const[showBalance,setShowBalance]=useState(true);const{refresh:refreshNotifications}=useContext(NotificationContext);const depositRef=useRef(null);const transferRef=useRef(null);useEffect(()=>{if(!token){navigate(\"/login\");}},[token,navigate]);useEffect(()=>{let mounted=true;const fetchHistory=async()=>{if(!token)return;setDataLoading(true);try{var _res$data,_res$data2;const res=await api.get(\"/api/transactions/history\");if(!mounted)return;setBalance(((_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.balance)||0);setTransactions(decorateTransactions(((_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.transactions)||[]));}catch(error){if(mounted){var _error$response,_error$response$data;setToast({show:true,type:\"error\",message:((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||(language===\"vi\"?\"Không thể tải lịch sử giao dịch\":\"Unable to load history\")});}}finally{if(mounted){setDataLoading(false);}}};fetchHistory();return()=>{mounted=false;};},[token,language]);useEffect(()=>{if(!token)return;let cancelled=false;const fetchProfile=async()=>{setProfileLoading(true);try{var _res$data3;const res=await api.get(\"/api/auth/me\");if(cancelled)return;setUserProfile(((_res$data3=res.data)===null||_res$data3===void 0?void 0:_res$data3.user)||null);setProfileError(null);}catch(error){var _error$response2,_error$response2$data;if(cancelled)return;const message=((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||(language===\"vi\"?\"Không thể tải hồ sơ người dùng\":\"Unable to load user profile\");setProfileError(message);setToast({show:true,type:\"error\",message});}finally{if(!cancelled){setProfileLoading(false);}}};fetchProfile();return()=>{cancelled=true;};},[token,language]);const handleDepositChange=event=>{setDepositAmount(event.target.value);};const handleTransferChange=event=>{const{name,value}=event.target;setTransferData(current=>_objectSpread(_objectSpread({},current),{},{[name]:value}));};const handleDepositSubmit=async event=>{event.preventDefault();setDepositLoading(true);try{var _res$data4,_historyRes$data,_historyRes$data2;const res=await api.post(\"/api/transactions/deposit\",{amount:Number(depositAmount)});setToast({show:true,type:\"success\",message:((_res$data4=res.data)===null||_res$data4===void 0?void 0:_res$data4.message)||text.depositSuccess});setDepositAmount(\"\");const historyRes=await api.get(\"/api/transactions/history\");setBalance(((_historyRes$data=historyRes.data)===null||_historyRes$data===void 0?void 0:_historyRes$data.balance)||0);setTransactions(decorateTransactions(((_historyRes$data2=historyRes.data)===null||_historyRes$data2===void 0?void 0:_historyRes$data2.transactions)||[]));await refreshNotifications().catch(()=>{});}catch(error){var _error$response3,_error$response3$data;setToast({show:true,type:\"error\",message:((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||text.depositFail});}finally{setDepositLoading(false);}};const handleTransferSubmit=event=>{event.preventDefault();setConfirm({show:true,payload:_objectSpread({},transferData),confirming:false});};const confirmTransfer=async()=>{setConfirm(curr=>_objectSpread(_objectSpread({},curr),{},{confirming:true}));setTransferLoading(true);try{var _confirm$payload,_confirm$payload2,_confirm$payload3,_res$data5,_historyRes$data3,_historyRes$data4;const payload={toUsername:(_confirm$payload=confirm.payload)===null||_confirm$payload===void 0?void 0:_confirm$payload.toUsername,amount:(_confirm$payload2=confirm.payload)===null||_confirm$payload2===void 0?void 0:_confirm$payload2.amount,description:(_confirm$payload3=confirm.payload)===null||_confirm$payload3===void 0?void 0:_confirm$payload3.description};const res=await api.post(\"/api/transactions/transfer\",payload);setToast({show:true,type:\"success\",message:((_res$data5=res.data)===null||_res$data5===void 0?void 0:_res$data5.message)||text.transferSuccess});setTransferData({toUsername:\"\",amount:\"\",description:\"\"});const historyRes=await api.get(\"/api/transactions/history\");setBalance(((_historyRes$data3=historyRes.data)===null||_historyRes$data3===void 0?void 0:_historyRes$data3.balance)||0);setTransactions(decorateTransactions(((_historyRes$data4=historyRes.data)===null||_historyRes$data4===void 0?void 0:_historyRes$data4.transactions)||[]));await refreshNotifications().catch(()=>{});}catch(error){var _error$response4,_error$response4$data;setToast({show:true,type:\"error\",message:((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||text.transferFail});}finally{setTransferLoading(false);setConfirm({show:false,payload:null,confirming:false});}};const formatCurrency=useCallback(amount=>{const locale=language===\"vi\"?\"vi-VN\":\"en-US\";return Number(amount||0).toLocaleString(locale,{style:\"currency\",currency:\"VND\"});},[language]);const insightData=useMemo(()=>{if(!transactions.length){return{monthlyIncoming:0,monthlyOutgoing:0,pendingCount:0,lastTransaction:null};}const now=new Date();const currentMonth=now.getMonth();const currentYear=now.getFullYear();const monthly=transactions.filter(tx=>{const created=new Date(tx.createdAt);return created.getMonth()===currentMonth&&created.getFullYear()===currentYear;});const monthlyIncoming=monthly.filter(tx=>tx.type===\"deposit\").reduce((total,tx)=>total+Number(tx.amount||0),0);const monthlyOutgoing=monthly.filter(tx=>tx.type===\"transfer\").reduce((total,tx)=>total+Number(tx.amount||0),0);const pendingCount=transactions.filter(tx=>tx.status===\"pending\").length;return{monthlyIncoming,monthlyOutgoing,pendingCount,lastTransaction:transactions[0]||null};},[transactions]);const advancedInsights=useMemo(()=>{if(!transactions.length){return{successRate:100,completed:0,failed:0,averageTicket:0,largestTx:null};}const completedTx=transactions.filter(tx=>tx.status===\"completed\");const failedTx=transactions.filter(tx=>tx.status===\"failed\");const successRate=completedTx.length+failedTx.length===0?100:completedTx.length/(completedTx.length+failedTx.length)*100;const averageTicket=completedTx.length===0?0:completedTx.reduce((sum,tx)=>sum+Math.abs(Number(tx.amount||0)),0)/completedTx.length;const largestTx=transactions.reduce((largest,tx)=>{const amount=Math.abs(Number(tx.amount||0));if(!largest||amount>largest.amount){return _objectSpread(_objectSpread({},tx),{},{amount});}return largest;},null);return{successRate,completed:completedTx.length,failed:failedTx.length,averageTicket,largestTx};},[transactions]);const netChange=useMemo(()=>insightData.monthlyIncoming-insightData.monthlyOutgoing,[insightData]);const heroMetrics=useMemo(()=>[{key:\"incoming\",label:text.analyticsIncoming,value:insightData.monthlyIncoming,tone:\"positive\",caption:language===\"vi\"?\"Tổng tiền nhận trong kỳ\":\"Total inbound this month\"},{key:\"outgoing\",label:text.analyticsOutgoing,value:insightData.monthlyOutgoing,tone:\"negative\",caption:language===\"vi\"?\"Tổng tiền chi trong kỳ\":\"Total outbound this month\"},{key:\"pending\",label:text.analyticsPending,value:insightData.pendingCount,tone:\"neutral\",caption:text.transactionsFollow}],[insightData,text,language]);const recentTransactions=useMemo(()=>transactions.slice(0,6),[transactions]);const dailyStats=useMemo(()=>{const today=new Date();const template=Array.from({length:7}).map((_,index)=>{const date=new Date(today);date.setDate(today.getDate()-(6-index));return{key:date.toISOString(),date,incoming:0,outgoing:0,label:date.toLocaleDateString(language===\"vi\"?\"vi-VN\":\"en-US\",{weekday:\"short\"}),tooltip:date.toLocaleDateString(language===\"vi\"?\"vi-VN\":\"en-US\",{weekday:\"long\",day:\"2-digit\",month:\"2-digit\"})};});if(!transactions.length){return template;}const buckets=template.reduce((acc,item)=>{acc[item.date.toDateString()]=item;return acc;},{});transactions.forEach(tx=>{const created=new Date(tx.createdAt);const bucket=buckets[created.toDateString()];if(!bucket)return;const amount=Number(tx.amount||0);if(tx.type===\"deposit\"){bucket.incoming+=amount;}else if(tx.type===\"transfer\"){bucket.outgoing+=amount;}});return template;},[transactions,language]);const chartMax=useMemo(()=>{const values=dailyStats.flatMap(item=>[item.incoming,item.outgoing]);const max=Math.max(...values,0);return max===0?1:max;},[dailyStats]);const handleQuickAction=useCallback(action=>{if(action.key===\"deposit\"){var _depositRef$current;(_depositRef$current=depositRef.current)===null||_depositRef$current===void 0?void 0:_depositRef$current.scrollIntoView({behavior:\"smooth\",block:\"center\"});return;}if(action.key===\"transfer\"){var _transferRef$current;(_transferRef$current=transferRef.current)===null||_transferRef$current===void 0?void 0:_transferRef$current.scrollIntoView({behavior:\"smooth\",block:\"center\"});return;}setInfoModal({show:true,key:action.key});},[]);const closeInfoModal=useCallback(()=>{setInfoModal({show:false,key:null});},[]);const formatTimestamp=useCallback(timestamp=>new Date(timestamp).toLocaleString(language===\"vi\"?\"vi-VN\":\"en-US\",{hour:\"2-digit\",minute:\"2-digit\",day:\"2-digit\",month:\"2-digit\"}),[language]);const statusLabel=status=>{if(status===\"completed\")return text.statusCompleted;if(status===\"pending\")return text.statusPending;return text.statusFailed;};const transactionLabel=type=>{if(type===\"deposit\")return text.transactionType.deposit;if(type===\"transfer\")return text.transactionType.transfer;return text.transactionType.fallback;};const toggleBalance=()=>setShowBalance(prev=>!prev);const modalCopy=infoModal.key?text.quickActions[infoModal.key]:null;const heroName=useMemo(()=>{return(userProfile===null||userProfile===void 0?void 0:userProfile.fullName)||(userProfile===null||userProfile===void 0?void 0:userProfile.name)||(userProfile===null||userProfile===void 0?void 0:userProfile.username)||(profile===null||profile===void 0?void 0:profile.displayName)||(language===\"vi\"?\"Người dùng\":\"User\");},[userProfile,profile,language]);const avatarInitial=useMemo(()=>{if(!heroName)return null;return heroName.trim().charAt(0).toUpperCase();},[heroName]);const heroIdentifier=useMemo(()=>{const source=(userProfile===null||userProfile===void 0?void 0:userProfile.email)||(userProfile===null||userProfile===void 0?void 0:userProfile.username)||(profile===null||profile===void 0?void 0:profile.email)||(profile===null||profile===void 0?void 0:profile.username)||\"\";return source?maskIdentifier(source):\"\";},[userProfile,profile]);const profileRoleLabel=useMemo(()=>{if(!(userProfile!==null&&userProfile!==void 0&&userProfile.role))return text.profileRoleUser;if(userProfile.role===\"admin\")return text.profileRoleAdmin;if(userProfile.role===\"staff\")return text.profileRoleStaff;return text.profileRoleUser;},[userProfile,text]);const formatPercent=useCallback(value=>{const locale=language===\"vi\"?\"vi-VN\":\"en-US\";return Number(value/100).toLocaleString(locale,{style:\"percent\",minimumFractionDigits:1,maximumFractionDigits:1});},[language]);const confirmTitle=confirm.payload?language===\"vi\"?\"X\\xE1c nh\\u1EADn chuy\\u1EC3n \".concat(confirm.payload.amount||\"\",\" VND\"):\"Confirm transfer of \".concat(confirm.payload.amount||\"\",\" VND\"):\"\";const confirmBodyIntro=confirm.payload?language===\"vi\"?\"B\\u1EA1n s\\u1EBD chuy\\u1EC3n \".concat(confirm.payload.amount,\" t\\u1EDBi \").concat(confirm.payload.toUsername,\".\"):\"You are about to send \".concat(confirm.payload.amount,\" to \").concat(confirm.payload.toUsername,\".\"):\"\";const confirmNoteLabel=language===\"vi\"?\"Ghi chú\":\"Note\";const confirmPrompt=language===\"vi\"?\"Bạn có chắc chắn muốn tiếp tục?\":\"Are you sure you want to continue?\";return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-page\",children:[/*#__PURE__*/_jsx(InfoModal,{show:infoModal.show,title:(modalCopy===null||modalCopy===void 0?void 0:modalCopy.label)||\"\",description:(modalCopy===null||modalCopy===void 0?void 0:modalCopy.description)||\"\",primaryLabel:text.modalDismiss,onClose:closeInfoModal}),/*#__PURE__*/_jsx(ConfirmModal,{show:confirm.show,title:confirmTitle,body:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:confirmBodyIntro}),((_confirm$payload4=confirm.payload)===null||_confirm$payload4===void 0?void 0:_confirm$payload4.description)&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[confirmNoteLabel,\": \",confirm.payload.description]}),/*#__PURE__*/_jsx(\"p\",{children:confirmPrompt})]}),onConfirm:confirmTransfer,onCancel:()=>setConfirm({show:false,payload:null,confirming:false}),confirming:confirm.confirming}),/*#__PURE__*/_jsx(Toast,{show:toast.show,type:toast.type,message:toast.message,onClose:()=>setToast(curr=>_objectSpread(_objectSpread({},curr),{},{show:false}))}),/*#__PURE__*/_jsx(\"section\",{className:\"dashboard-hero gradient-card mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-hero__grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-hero__main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hero-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hero-avatar\",children:avatarInitial?/*#__PURE__*/_jsx(\"span\",{className:\"hero-avatar__initial\",children:avatarInitial}):/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person-fill\",\"aria-hidden\":true})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"hero-subheading\",children:text.greeting}),/*#__PURE__*/_jsx(\"h1\",{className:\"hero-title\",children:heroName}),/*#__PURE__*/_jsxs(\"p\",{className:\"hero-caption\",children:[text.heroCaption,heroIdentifier&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" · \",/*#__PURE__*/_jsx(\"span\",{className:\"hero-caption__meta\",children:heroIdentifier})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-balance\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"hero-balance__label\",children:text.balanceLabel}),/*#__PURE__*/_jsx(\"div\",{className:\"hero-balance__value\",children:showBalance?formatCurrency(balance):\"•••••••• VND\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-balance__trend\",children:[/*#__PURE__*/_jsxs(\"span\",{className:netChange>=0?\"trend-positive\":\"trend-negative\",children:[netChange>=0?\"+\":\"-\",formatCurrency(Math.abs(netChange))]}),/*#__PURE__*/_jsx(\"small\",{children:text.netChange})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"hero-balance__toggle\",onClick:toggleBalance,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi \".concat(showBalance?\"bi-eye-slash\":\"bi-eye\",\" me-2\"),\"aria-hidden\":true}),showBalance?text.hideBalance:text.showBalance]}),dataLoading&&/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-light text-primary mt-2\",children:text.syncing})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-light hero-action\",onClick:()=>handleQuickAction({key:\"transfer\"}),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-left-right me-2\",\"aria-hidden\":true}),text.quickTransfer]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-outline-light hero-action\",onClick:()=>navigate(\"/notifications\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-bell me-2\",\"aria-hidden\":true}),text.quickViewNotifications]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-meta\",children:[profileLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"hero-meta__item\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-repeat\",\"aria-hidden\":true}),text.profileLoading]}),profileError&&/*#__PURE__*/_jsxs(\"div\",{className:\"hero-meta__item text-warning\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle\",\"aria-hidden\":true}),profileError]}),insightData.lastTransaction?/*#__PURE__*/_jsxs(\"div\",{className:\"hero-meta__item\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-lightning-charge-fill\",\"aria-hidden\":true}),text.lastActivityPrefix,\" \\xB7\",\" \",formatTimestamp(insightData.lastTransaction.createdAt),\" \\xB7\",\" \",transactionLabel(insightData.lastTransaction.type),\" \",formatCurrency(insightData.lastTransaction.amount)]}):/*#__PURE__*/_jsx(\"div\",{className:\"hero-meta__item\",children:text.lastActivityEmpty}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-meta__item\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-shield-lock\",\"aria-hidden\":true}),profileRoleLabel]}),(userProfile===null||userProfile===void 0?void 0:userProfile.email)&&/*#__PURE__*/_jsxs(\"div\",{className:\"hero-meta__item\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-envelope-open\",\"aria-hidden\":true}),text.profileEmailLabel,\": \",maskIdentifier(userProfile.email)]}),(userProfile===null||userProfile===void 0?void 0:userProfile.username)&&/*#__PURE__*/_jsxs(\"div\",{className:\"hero-meta__item\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person-badge\",\"aria-hidden\":true}),text.profileUsernameLabel,\":\",\" \",maskIdentifier(userProfile.username)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-hero__side\",children:heroMetrics.map(metric=>/*#__PURE__*/_jsxs(\"div\",{className:\"hero-metric hero-metric--\".concat(metric.tone),children:[/*#__PURE__*/_jsx(\"span\",{className:\"hero-metric__label\",children:metric.label}),/*#__PURE__*/_jsx(\"div\",{className:\"hero-metric__value\",children:metric.key===\"pending\"?\"\".concat(metric.value,\" \").concat(language===\"vi\"?\"giao dịch\":\"tx\"):formatCurrency(metric.value)}),/*#__PURE__*/_jsx(\"small\",{className:\"hero-metric__caption\",children:metric.caption})]},metric.key))})]})}),/*#__PURE__*/_jsxs(\"section\",{className:\"card shadow-sm quick-actions-card mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:text.quickActionsTitle}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:text.quickActionsSubtitle})]}),/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-primary-subtle text-primary\",children:\"Digital Banking\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-2 row-cols-md-4 g-3\",children:quickActionCatalog.map(action=>{const copy=text.quickActions[action.key];return/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"quick-action-tile \".concat(action.accent),onClick:()=>handleQuickAction(action),children:[/*#__PURE__*/_jsx(\"span\",{className:\"quick-action-tile__icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi \".concat(action.icon),\"aria-hidden\":true})}),/*#__PURE__*/_jsxs(\"span\",{className:\"quick-action-tile__content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"quick-action-tile__label\",children:copy===null||copy===void 0?void 0:copy.label}),/*#__PURE__*/_jsx(\"small\",{className:\"quick-action-tile__tagline\",children:copy===null||copy===void 0?void 0:copy.tagline})]})]})},action.key);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-7\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm mb-4\",ref:depositRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:text.depositTitle}),/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-primary-subtle text-primary\",children:text.depositLimit})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleDepositSubmit,className:\"form-stacked\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"depositAmount\",name:\"depositAmount\",type:\"number\",min:\"1000\",step:\"1000\",value:depositAmount,onChange:handleDepositChange,className:\"form-control\",placeholder:text.depositPlaceholder,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"depositAmount\",children:text.depositPlaceholder})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:depositLoading,children:depositLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",\"aria-hidden\":true}),text.processing]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-wallet2 me-2\",\"aria-hidden\":true}),text.submitDeposit]})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm\",ref:transferRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:text.transferTitle})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleTransferSubmit,className:\"form-stacked\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"toUsername\",name:\"toUsername\",value:transferData.toUsername,onChange:handleTransferChange,className:\"form-control\",placeholder:text.transferAccount,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"toUsername\",children:text.transferAccount})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"transferAmount\",name:\"amount\",type:\"number\",min:\"1000\",step:\"1000\",value:transferData.amount,onChange:handleTransferChange,className:\"form-control\",placeholder:text.transferAmount,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"transferAmount\",children:text.transferAmount})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"transferDescription\",name:\"description\",value:transferData.description,onChange:handleTransferChange,className:\"form-control\",placeholder:text.transferNote}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"transferDescription\",children:text.transferNote})]})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mt-3\",disabled:transferLoading,children:transferLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",\"aria-hidden\":true}),text.processing]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-send me-2\",\"aria-hidden\":true}),text.submitTransfer]})})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:text.analyticsTitle}),/*#__PURE__*/_jsxs(\"span\",{className:\"balance-chip \".concat(netChange>=0?\"balance-chip--up\":\"balance-chip--down\"),children:[netChange>=0?text.badgeUp:text.badgeDown,\" \",formatCurrency(Math.abs(netChange))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"insight-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"insight-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"insight-label text-muted\",children:text.analyticsIncoming}),/*#__PURE__*/_jsx(\"div\",{className:\"insight-value text-success\",children:formatCurrency(insightData.monthlyIncoming)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"insight-label text-muted\",children:text.analyticsOutgoing}),/*#__PURE__*/_jsx(\"div\",{className:\"insight-value text-danger\",children:formatCurrency(insightData.monthlyOutgoing)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"insight-label text-muted\",children:text.analyticsPending}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-value\",children:[insightData.pendingCount,\" \",language===\"vi\"?\"giao dịch\":\"tx\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-flush\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"insight-flush__item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"insight-label text-muted\",children:text.analyticsSuccessRate}),/*#__PURE__*/_jsx(\"div\",{className:\"insight-flush__value\",children:formatPercent(advancedInsights.successRate)}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:language===\"vi\"?\"\".concat(advancedInsights.completed,\" ho\\xE0n t\\u1EA5t / \").concat(advancedInsights.failed,\" l\\u1ED7i\"):\"\".concat(advancedInsights.completed,\" completed / \").concat(advancedInsights.failed,\" failed\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-flush__item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"insight-label text-muted\",children:text.analyticsAvgTicket}),/*#__PURE__*/_jsx(\"div\",{className:\"insight-flush__value text-primary\",children:formatCurrency(advancedInsights.averageTicket)}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:language===\"vi\"?\"Giá trị trung bình giao dịch hoàn tất\":\"Average settled transaction value\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-flush__item insight-flush__item--wide\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"insight-label text-muted\",children:text.analyticsLargest}),advancedInsights.largestTx?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"insight-flush__value text-success\",children:formatCurrency(advancedInsights.largestTx.amount)}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[transactionLabel(advancedInsights.largestTx.type),\" \\xB7\",\" \",formatTimestamp(advancedInsights.largestTx.createdAt),\" \",\"\\xB7 \",advancedInsights.largestTx.reference]})]}):/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:text.analyticsNoData})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 p-3 bg-light rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-1 fw-semibold\",children:text.analyticsSecurity}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:text.analyticsSecurityNote})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm mb-4 chart-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:text.chartTitle}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-legend\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"legend-dot legend-dot--in\"}),/*#__PURE__*/_jsx(\"small\",{children:text.chartLegendIn}),/*#__PURE__*/_jsx(\"span\",{className:\"legend-dot legend-dot--out\"}),/*#__PURE__*/_jsx(\"small\",{children:text.chartLegendOut})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-bars\",children:dailyStats.map(day=>{const incomeHeight=Math.max(4,Math.round(day.incoming/chartMax*100));const expenseHeight=Math.max(4,Math.round(day.outgoing/chartMax*100));return/*#__PURE__*/_jsxs(\"div\",{className:\"chart-bars__column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-bars__stack\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-bar chart-bar--incoming\",style:{height:\"\".concat(incomeHeight,\"%\")},title:\"\".concat(text.chartLegendIn,\" \").concat(formatCurrency(day.incoming),\" \\xB7 \").concat(day.tooltip)}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-bar chart-bar--outgoing\",style:{height:\"\".concat(expenseHeight,\"%\")},title:\"\".concat(text.chartLegendOut,\" \").concat(formatCurrency(day.outgoing),\" \\xB7 \").concat(day.tooltip)})]}),/*#__PURE__*/_jsx(\"span\",{className:\"chart-bars__label\",children:day.label})]},day.key);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm security-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header border-0\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:language===\"vi\"?\"Bảo mật đa lớp\":\"Multi-layer security\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"security-card__content\",children:/*#__PURE__*/_jsx(MfaSetup,{})})})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"card shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:text.recentTitle}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:text.recentSubtitle})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list-group list-group-flush\",children:recentTransactions.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"list-group-item text-muted text-center py-4\",children:text.recentEmpty}):recentTransactions.map(tx=>{const label=transactionLabel(tx.type);const statusText=statusLabel(tx.status);const statusClass=statusText===text.statusCompleted?\"badge bg-success-subtle text-success\":statusText===text.statusPending?\"badge bg-warning-subtle text-warning\":\"badge bg-danger-subtle text-danger\";return/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\",onClick:()=>{setSelectedTx(tx);setShowTxModal(true);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"transaction-icon \".concat(tx.type),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi \".concat(tx.type===\"deposit\"?\"bi-arrow-down-circle\":\"bi-arrow-up-circle\"),\"aria-hidden\":true})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fw-semibold\",children:[label,\" \\xB7 \",tx.reference]}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[maskAccount(tx.fromUsername),\" \\u2192\",\" \",maskAccount(tx.toUsername),\" \\xB7\",\" \",formatTimestamp(tx.createdAt)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-end\",children:[/*#__PURE__*/_jsxs(\"div\",{className:tx.type===\"deposit\"?\"text-success\":\"text-danger\",children:[tx.type===\"deposit\"?\"+\":\"-\",formatCurrency(tx.amount)]}),/*#__PURE__*/_jsx(\"span\",{className:statusClass,children:statusText})]})]},tx.id);})})]}),/*#__PURE__*/_jsx(TransactionDetailsModal,{tx:selectedTx,show:showTxModal,onClose:()=>setShowTxModal(false)})]});};export default Dashboard;","map":{"version":3,"names":["React","useCallback","useContext","useEffect","useMemo","useRef","useState","useNavigate","api","ConfirmModal","Toast","MfaSetup","TransactionDetailsModal","NotificationContext","usePreferences","getReferenceCode","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","dictionary","vi","greeting","heroCaption","balanceLabel","hideBalance","showBalance","netChange","lastActivityPrefix","lastActivityEmpty","quickActionsTitle","quickActionsSubtitle","modalDismiss","quickTransfer","quickViewNotifications","quickActions","transfer","label","tagline","description","deposit","mobile","bill","travel","invest","support","promo","depositTitle","depositLimit","depositPlaceholder","submitDeposit","transferTitle","transferAccount","transferAmount","transferNote","submitTransfer","processing","syncing","depositSuccess","depositFail","transferSuccess","transferFail","analyticsTitle","analyticsIncoming","analyticsOutgoing","analyticsPending","analyticsSecurity","analyticsSecurityNote","chartTitle","chartLegendIn","chartLegendOut","statusCompleted","statusPending","statusFailed","recentTitle","recentSubtitle","recentEmpty","transactionType","fallback","badgeUp","badgeDown","transactionsFollow","analyticsSuccessRate","analyticsFailed","analyticsAvgTicket","analyticsLargest","analyticsNoData","profileLoading","profileRoleAdmin","profileRoleUser","profileRoleStaff","profileMissing","profileEmailLabel","profileUsernameLabel","en","quickActionCatalog","key","icon","accent","maskAccount","value","length","slice","maskIdentifier","includes","local","domain","split","concat","InfoModal","_ref","show","title","primaryLabel","onClose","className","children","onClick","useTokenProfile","token","_payload$email","payload","JSON","parse","atob","displayName","name","fullName","username","email","_objectSpread","error","decorateTransactions","items","map","tx","reference","Dashboard","_confirm$payload4","navigate","localStorage","getItem","profile","language","text","balance","setBalance","transactions","setTransactions","userProfile","setUserProfile","setProfileLoading","profileError","setProfileError","depositAmount","setDepositAmount","transferData","setTransferData","toUsername","amount","toast","setToast","type","message","confirm","setConfirm","confirming","dataLoading","setDataLoading","depositLoading","setDepositLoading","transferLoading","setTransferLoading","selectedTx","setSelectedTx","showTxModal","setShowTxModal","infoModal","setInfoModal","setShowBalance","refresh","refreshNotifications","depositRef","transferRef","mounted","fetchHistory","_res$data","_res$data2","res","get","data","_error$response","_error$response$data","response","cancelled","fetchProfile","_res$data3","user","_error$response2","_error$response2$data","handleDepositChange","event","target","handleTransferChange","current","handleDepositSubmit","preventDefault","_res$data4","_historyRes$data","_historyRes$data2","post","Number","historyRes","catch","_error$response3","_error$response3$data","handleTransferSubmit","confirmTransfer","curr","_confirm$payload","_confirm$payload2","_confirm$payload3","_res$data5","_historyRes$data3","_historyRes$data4","_error$response4","_error$response4$data","formatCurrency","locale","toLocaleString","style","currency","insightData","monthlyIncoming","monthlyOutgoing","pendingCount","lastTransaction","now","Date","currentMonth","getMonth","currentYear","getFullYear","monthly","filter","created","createdAt","reduce","total","status","advancedInsights","successRate","completed","failed","averageTicket","largestTx","completedTx","failedTx","sum","Math","abs","largest","heroMetrics","tone","caption","recentTransactions","dailyStats","today","template","Array","from","_","index","date","setDate","getDate","toISOString","incoming","outgoing","toLocaleDateString","weekday","tooltip","day","month","buckets","acc","item","toDateString","forEach","bucket","chartMax","values","flatMap","max","handleQuickAction","action","_depositRef$current","scrollIntoView","behavior","block","_transferRef$current","closeInfoModal","formatTimestamp","timestamp","hour","minute","statusLabel","transactionLabel","toggleBalance","prev","modalCopy","heroName","avatarInitial","trim","charAt","toUpperCase","heroIdentifier","source","profileRoleLabel","role","formatPercent","minimumFractionDigits","maximumFractionDigits","confirmTitle","confirmBodyIntro","confirmNoteLabel","confirmPrompt","body","onConfirm","onCancel","metric","copy","ref","onSubmit","id","min","step","onChange","placeholder","required","htmlFor","disabled","incomeHeight","round","expenseHeight","height","statusText","statusClass","fromUsername"],"sources":["D:/BMUDHT/frontend/src/components/MainDashboard.js"],"sourcesContent":["import React, {\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport api from \"../services/api\";\r\nimport ConfirmModal from \"./ConfirmModal\";\r\nimport Toast from \"./Toast\";\r\nimport MfaSetup from \"./MfaSetup\";\r\nimport TransactionDetailsModal from \"./TransactionDetailsModal\";\r\nimport NotificationContext from \"../context/NotificationContext\";\r\nimport { usePreferences } from \"../context/PreferencesContext\";\r\nimport { getReferenceCode } from \"../utils/reference\";\r\n\r\nconst dictionary = {\r\n  vi: {\r\n    greeting: \"Xin chào\",\r\n    heroCaption: \"Tài khoản · Số dư cập nhật theo thời gian thực\",\r\n    balanceLabel: \"Số dư khả dụng\",\r\n    hideBalance: \"Ẩn số dư\",\r\n    showBalance: \"Hiện số dư\",\r\n    netChange: \"Biến động ròng tháng này\",\r\n    lastActivityPrefix: \"Giao dịch gần nhất\",\r\n    lastActivityEmpty: \"Chưa có giao dịch nào được ghi nhận.\",\r\n    quickActionsTitle: \"Tác vụ nhanh\",\r\n    quickActionsSubtitle: \"Chọn thao tác thường xuyên chỉ với một chạm.\",\r\n    modalDismiss: \"Đã hiểu\",\r\n    quickTransfer: \"Chuyển khoản ngay\",\r\n    quickViewNotifications: \"Xem thông báo\",\r\n    quickActions: {\r\n      transfer: {\r\n        label: \"Chuyển khoản\",\r\n        tagline: \"Nội bộ & liên ngân hàng\",\r\n        description:\r\n          \"Chuyển tiền nhanh tới tài khoản nội bộ hoặc ngân hàng khác.\",\r\n      },\r\n      deposit: {\r\n        label: \"Nạp tiền\",\r\n        tagline: \"Qua thẻ và ví liên kết\",\r\n        description: \"Nạp tiền từ thẻ ghi nợ hoặc ví điện tử liên kết.\",\r\n      },\r\n      mobile: {\r\n        label: \"Nạp điện thoại\",\r\n        tagline: \"Áp dụng mọi nhà mạng\",\r\n        description: \"Mua thẻ cào hoặc nạp trực tiếp cho số điện thoại bất kỳ.\",\r\n      },\r\n      bill: {\r\n        label: \"Thanh toán hóa đơn\",\r\n        tagline: \"Điện, nước, Internet\",\r\n        description: \"Tự động thanh toán điện, nước, internet và truyền hình.\",\r\n      },\r\n      travel: {\r\n        label: \"Vé máy bay\",\r\n        tagline: \"Đối tác hàng không\",\r\n        description: \"Đặt vé máy bay nội địa và quốc tế với ưu đãi độc quyền.\",\r\n      },\r\n      invest: {\r\n        label: \"Đầu tư\",\r\n        tagline: \"Gửi tiết kiệm sinh lời\",\r\n        description: \"Mở tài khoản tiết kiệm hoặc danh mục đầu tư sinh lời.\",\r\n      },\r\n      support: {\r\n        label: \"Trợ giúp\",\r\n        tagline: \"Tổng đài 24/7\",\r\n        description: \"Liên hệ tổng đài 24/7 và chatbot tài chính thông minh.\",\r\n      },\r\n      promo: {\r\n        label: \"Ưu đãi\",\r\n        tagline: \"Hoàn tiền & voucher\",\r\n        description: \"Khám phá ưu đãi hoàn tiền và voucher mới nhất.\",\r\n      },\r\n    },\r\n    depositTitle: \"Nạp tiền vào tài khoản\",\r\n    depositLimit: \"Không giới hạn\",\r\n    depositPlaceholder: \"Số tiền nạp (VND)\",\r\n    submitDeposit: \"Nạp tiền\",\r\n    transferTitle: \"Chuyển khoản thông minh\",\r\n    transferAccount: \"Tài khoản nhận\",\r\n    transferAmount: \"Số tiền (VND)\",\r\n    transferNote: \"Ghi chú (không bắt buộc)\",\r\n    submitTransfer: \"Chuyển khoản\",\r\n    processing: \"Đang xử lý\",\r\n    syncing: \"Đang đồng bộ...\",\r\n    depositSuccess: \"Nạp tiền thành công\",\r\n    depositFail: \"Nạp tiền thất bại\",\r\n    transferSuccess: \"Chuyển khoản thành công\",\r\n    transferFail: \"Chuyển khoản thất bại\",\r\n    analyticsTitle: \"Tổng quan tháng này\",\r\n    analyticsIncoming: \"Tiền vào\",\r\n    analyticsOutgoing: \"Tiền ra\",\r\n    analyticsPending: \"Đang xử lý\",\r\n    analyticsSecurity: \"Tự động hóa bảo mật\",\r\n    analyticsSecurityNote:\r\n      \"Luồng giao dịch được giám sát thời gian thực với cảnh báo rủi ro bất thường.\",\r\n    chartTitle: \"Phân tích thu · chi 7 ngày\",\r\n    chartLegendIn: \"Thu\",\r\n    chartLegendOut: \"Chi\",\r\n    statusCompleted: \"Hoàn thành\",\r\n    statusPending: \"Đang xử lý\",\r\n    statusFailed: \"Thất bại\",\r\n    recentTitle: \"Giao dịch gần đây\",\r\n    recentSubtitle: \"Chạm để xem chi tiết và đánh dấu bất thường.\",\r\n    recentEmpty: \"Chưa có giao dịch nào.\",\r\n    transactionType: {\r\n      deposit: \"Nạp tiền\",\r\n      transfer: \"Chuyển khoản\",\r\n      fallback: \"Giao dịch\",\r\n    },\r\n    badgeUp: \"Tăng\",\r\n    badgeDown: \"Giảm\",\r\n    transactionsFollow: \"Giao dịch cần theo dõi\",\r\n    analyticsSuccessRate: \"Tỉ lệ thành công\",\r\n    analyticsFailed: \"Giao dịch lỗi\",\r\n    analyticsAvgTicket: \"Giá trị bình quân\",\r\n    analyticsLargest: \"Giao dịch lớn nhất\",\r\n    analyticsNoData: \"Chưa có dữ liệu\",\r\n    profileLoading: \"Đang cập nhật hồ sơ...\",\r\n    profileRoleAdmin: \"Quản trị viên hệ thống\",\r\n    profileRoleUser: \"Khách hàng cá nhân\",\r\n    profileRoleStaff: \"Chuyên viên hỗ trợ\",\r\n    profileMissing: \"Chưa có thông tin hồ sơ\",\r\n    profileEmailLabel: \"Email bảo mật\",\r\n    profileUsernameLabel: \"Tên đăng nhập\",\r\n  },\r\n  en: {\r\n    greeting: \"Welcome\",\r\n    heroCaption: \"Account · Real-time available balance\",\r\n    balanceLabel: \"Available balance\",\r\n    hideBalance: \"Hide balance\",\r\n    showBalance: \"Show balance\",\r\n    netChange: \"Net change this month\",\r\n    lastActivityPrefix: \"Latest transaction\",\r\n    lastActivityEmpty: \"No transactions recorded yet.\",\r\n    quickActionsTitle: \"Quick actions\",\r\n    quickActionsSubtitle: \"Access frequent operations in one tap.\",\r\n    modalDismiss: \"Got it\",\r\n    quickTransfer: \"Transfer now\",\r\n    quickViewNotifications: \"Notifications\",\r\n    quickActions: {\r\n      transfer: {\r\n        label: \"Transfer\",\r\n        tagline: \"Internal & interbank\",\r\n        description:\r\n          \"Send funds to an in-network or external bank account instantly.\",\r\n      },\r\n      deposit: {\r\n        label: \"Top up\",\r\n        tagline: \"Cards & linked wallets\",\r\n        description: \"Add funds using your debit card or linked e-wallets.\",\r\n      },\r\n      mobile: {\r\n        label: \"Mobile top-up\",\r\n        tagline: \"All carriers supported\",\r\n        description: \"Buy airtime vouchers or top up any mobile number.\",\r\n      },\r\n      bill: {\r\n        label: \"Bill payment\",\r\n        tagline: \"Utilities & internet\",\r\n        description: \"Automate electricity, water, broadband, and TV payments.\",\r\n      },\r\n      travel: {\r\n        label: \"Flights\",\r\n        tagline: \"Airline partner deals\",\r\n        description:\r\n          \"Book domestic and international flights with exclusive perks.\",\r\n      },\r\n      invest: {\r\n        label: \"Invest\",\r\n        tagline: \"Grow your savings\",\r\n        description: \"Open savings plans or curated investment portfolios.\",\r\n      },\r\n      support: {\r\n        label: \"Support\",\r\n        tagline: \"24/7 helpdesk\",\r\n        description: \"Reach our 24/7 contact center and smart finance chatbot.\",\r\n      },\r\n      promo: {\r\n        label: \"Rewards\",\r\n        tagline: \"Cashback & vouchers\",\r\n        description:\r\n          \"Discover the latest cashback offers and partner vouchers.\",\r\n      },\r\n    },\r\n    depositTitle: \"Top up account\",\r\n    depositLimit: \"Unlimited\",\r\n    depositPlaceholder: \"Top-up amount (VND)\",\r\n    submitDeposit: \"Top up\",\r\n    transferTitle: \"Smart transfers\",\r\n    transferAccount: \"Recipient account\",\r\n    transferAmount: \"Amount (VND)\",\r\n    transferNote: \"Note (optional)\",\r\n    submitTransfer: \"Transfer\",\r\n    processing: \"Processing\",\r\n    syncing: \"Syncing...\",\r\n    depositSuccess: \"Top-up successful\",\r\n    depositFail: \"Top-up failed\",\r\n    transferSuccess: \"Transfer successful\",\r\n    transferFail: \"Transfer failed\",\r\n    analyticsTitle: \"Monthly overview\",\r\n    analyticsIncoming: \"Cash in\",\r\n    analyticsOutgoing: \"Cash out\",\r\n    analyticsPending: \"Pending\",\r\n    analyticsSecurity: \"Security automation\",\r\n    analyticsSecurityNote:\r\n      \"Transactions are monitored in real time with anomaly alerts.\",\r\n    chartTitle: \"7-day income vs. expense\",\r\n    chartLegendIn: \"Income\",\r\n    chartLegendOut: \"Expense\",\r\n    statusCompleted: \"Completed\",\r\n    statusPending: \"Processing\",\r\n    statusFailed: \"Failed\",\r\n    recentTitle: \"Recent transactions\",\r\n    recentSubtitle: \"Tap to inspect details or flag anomalies.\",\r\n    recentEmpty: \"No transactions recorded.\",\r\n    transactionType: {\r\n      deposit: \"Deposit\",\r\n      transfer: \"Transfer\",\r\n      fallback: \"Transaction\",\r\n    },\r\n    badgeUp: \"Up\",\r\n    badgeDown: \"Down\",\r\n    transactionsFollow: \"Transactions to follow\",\r\n    analyticsSuccessRate: \"Success rate\",\r\n    analyticsFailed: \"Failed transactions\",\r\n    analyticsAvgTicket: \"Average ticket\",\r\n    analyticsLargest: \"Largest transaction\",\r\n    analyticsNoData: \"No data yet\",\r\n    profileLoading: \"Syncing profile...\",\r\n    profileRoleAdmin: \"Platform administrator\",\r\n    profileRoleUser: \"Retail customer\",\r\n    profileRoleStaff: \"Support specialist\",\r\n    profileMissing: \"Profile details unavailable\",\r\n    profileEmailLabel: \"Secure email\",\r\n    profileUsernameLabel: \"Username\",\r\n  },\r\n};\r\n\r\nconst quickActionCatalog = [\r\n  { key: \"transfer\", icon: \"bi-arrow-left-right\", accent: \"action-transfer\" },\r\n  { key: \"deposit\", icon: \"bi-wallet2\", accent: \"action-deposit\" },\r\n  { key: \"mobile\", icon: \"bi-phone\", accent: \"action-mobile\" },\r\n  { key: \"bill\", icon: \"bi-receipt\", accent: \"action-bill\" },\r\n  { key: \"travel\", icon: \"bi-airplane\", accent: \"action-travel\" },\r\n  { key: \"invest\", icon: \"bi-graph-up-arrow\", accent: \"action-invest\" },\r\n  { key: \"support\", icon: \"bi-life-preserver\", accent: \"action-support\" },\r\n  { key: \"promo\", icon: \"bi-gift\", accent: \"action-promo\" },\r\n];\r\n\r\nconst maskAccount = (value) => {\r\n  if (!value) return \"-\";\r\n  if (value.length <= 4) return value;\r\n  return \"****\" + value.slice(-4);\r\n};\r\n\r\nconst maskIdentifier = (value) => {\r\n  if (!value) return \"-\";\r\n  if (value.includes(\"@\")) {\r\n    const [local, domain] = value.split(\"@\");\r\n    if (local.length <= 2) {\r\n      return `**@${domain}`;\r\n    }\r\n    return `${local.slice(0, 2)}***@${domain}`;\r\n  }\r\n  return maskAccount(value);\r\n};\r\n\r\nconst InfoModal = ({ show, title, description, primaryLabel, onClose }) => {\r\n  if (!show) return null;\r\n\r\n  return (\r\n    <div className=\"modal-backdrop\">\r\n      <div className=\"modal-card\">\r\n        <h5>{title}</h5>\r\n        <div className=\"modal-body\">\r\n          <p className=\"mb-0\">{description}</p>\r\n        </div>\r\n        <div className=\"modal-actions justify-content-end\">\r\n          <button className=\"btn btn-primary\" onClick={onClose}>\r\n            {primaryLabel}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useTokenProfile = (token) => {\r\n  // Extract lightweight profile information from the persisted JWT payload.\r\n  return useMemo(() => {\r\n    if (!token) return null;\r\n    try {\r\n      const payload = JSON.parse(atob(token.split(\".\")[1] || \"\"));\r\n      const displayName =\r\n        payload?.name ||\r\n        payload?.fullName ||\r\n        payload?.username ||\r\n        payload?.email?.split(\"@\")[0] ||\r\n        \"Khách hàng\";\r\n      return { ...payload, displayName };\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  }, [token]);\r\n};\r\n\r\nconst decorateTransactions = (items) =>\r\n  (items || []).map((tx) => ({ ...tx, reference: getReferenceCode(tx) }));\r\n\r\nconst Dashboard = () => {\r\n  const navigate = useNavigate();\r\n  const token = localStorage.getItem(\"token\");\r\n  const profile = useTokenProfile(token);\r\n  const { language } = usePreferences();\r\n  const text = dictionary[language] || dictionary.vi;\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [userProfile, setUserProfile] = useState(null);\r\n  const [profileLoading, setProfileLoading] = useState(false);\r\n  const [profileError, setProfileError] = useState(null);\r\n  const [depositAmount, setDepositAmount] = useState(\"\");\r\n  const [transferData, setTransferData] = useState({\r\n    toUsername: \"\",\r\n    amount: \"\",\r\n    description: \"\",\r\n  });\r\n  const [toast, setToast] = useState({\r\n    show: false,\r\n    type: \"success\",\r\n    message: \"\",\r\n  });\r\n  const [confirm, setConfirm] = useState({\r\n    show: false,\r\n    payload: null,\r\n    confirming: false,\r\n  });\r\n  const [dataLoading, setDataLoading] = useState(false);\r\n  const [depositLoading, setDepositLoading] = useState(false);\r\n  const [transferLoading, setTransferLoading] = useState(false);\r\n  const [selectedTx, setSelectedTx] = useState(null);\r\n  const [showTxModal, setShowTxModal] = useState(false);\r\n  const [infoModal, setInfoModal] = useState({ show: false, key: null });\r\n  const [showBalance, setShowBalance] = useState(true);\r\n\r\n  const { refresh: refreshNotifications } = useContext(NotificationContext);\r\n\r\n  const depositRef = useRef(null);\r\n  const transferRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n    }\r\n  }, [token, navigate]);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    const fetchHistory = async () => {\r\n      if (!token) return;\r\n      setDataLoading(true);\r\n      try {\r\n        const res = await api.get(\"/api/transactions/history\");\r\n        if (!mounted) return;\r\n        setBalance(res.data?.balance || 0);\r\n        setTransactions(decorateTransactions(res.data?.transactions || []));\r\n      } catch (error) {\r\n        if (mounted) {\r\n          setToast({\r\n            show: true,\r\n            type: \"error\",\r\n            message:\r\n              error.response?.data?.error ||\r\n              (language === \"vi\"\r\n                ? \"Không thể tải lịch sử giao dịch\"\r\n                : \"Unable to load history\"),\r\n          });\r\n        }\r\n      } finally {\r\n        if (mounted) {\r\n          setDataLoading(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchHistory();\r\n\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [token, language]);\r\n\r\n  useEffect(() => {\r\n    if (!token) return;\r\n    let cancelled = false;\r\n    const fetchProfile = async () => {\r\n      setProfileLoading(true);\r\n      try {\r\n        const res = await api.get(\"/api/auth/me\");\r\n        if (cancelled) return;\r\n        setUserProfile(res.data?.user || null);\r\n        setProfileError(null);\r\n      } catch (error) {\r\n        if (cancelled) return;\r\n        const message =\r\n          error.response?.data?.error ||\r\n          (language === \"vi\"\r\n            ? \"Không thể tải hồ sơ người dùng\"\r\n            : \"Unable to load user profile\");\r\n        setProfileError(message);\r\n        setToast({\r\n          show: true,\r\n          type: \"error\",\r\n          message,\r\n        });\r\n      } finally {\r\n        if (!cancelled) {\r\n          setProfileLoading(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [token, language]);\r\n\r\n  const handleDepositChange = (event) => {\r\n    setDepositAmount(event.target.value);\r\n  };\r\n\r\n  const handleTransferChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setTransferData((current) => ({ ...current, [name]: value }));\r\n  };\r\n\r\n  const handleDepositSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setDepositLoading(true);\r\n    try {\r\n      const res = await api.post(\"/api/transactions/deposit\", {\r\n        amount: Number(depositAmount),\r\n      });\r\n      setToast({\r\n        show: true,\r\n        type: \"success\",\r\n        message: res.data?.message || text.depositSuccess,\r\n      });\r\n      setDepositAmount(\"\");\r\n      const historyRes = await api.get(\"/api/transactions/history\");\r\n      setBalance(historyRes.data?.balance || 0);\r\n      setTransactions(\r\n        decorateTransactions(historyRes.data?.transactions || [])\r\n      );\r\n      await refreshNotifications().catch(() => {});\r\n    } catch (error) {\r\n      setToast({\r\n        show: true,\r\n        type: \"error\",\r\n        message: error.response?.data?.error || text.depositFail,\r\n      });\r\n    } finally {\r\n      setDepositLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleTransferSubmit = (event) => {\r\n    event.preventDefault();\r\n    setConfirm({ show: true, payload: { ...transferData }, confirming: false });\r\n  };\r\n\r\n  const confirmTransfer = async () => {\r\n    setConfirm((curr) => ({ ...curr, confirming: true }));\r\n    setTransferLoading(true);\r\n    try {\r\n      const payload = {\r\n        toUsername: confirm.payload?.toUsername,\r\n        amount: confirm.payload?.amount,\r\n        description: confirm.payload?.description,\r\n      };\r\n      const res = await api.post(\"/api/transactions/transfer\", payload);\r\n      setToast({\r\n        show: true,\r\n        type: \"success\",\r\n        message: res.data?.message || text.transferSuccess,\r\n      });\r\n      setTransferData({ toUsername: \"\", amount: \"\", description: \"\" });\r\n      const historyRes = await api.get(\"/api/transactions/history\");\r\n      setBalance(historyRes.data?.balance || 0);\r\n      setTransactions(\r\n        decorateTransactions(historyRes.data?.transactions || [])\r\n      );\r\n      await refreshNotifications().catch(() => {});\r\n    } catch (error) {\r\n      setToast({\r\n        show: true,\r\n        type: \"error\",\r\n        message: error.response?.data?.error || text.transferFail,\r\n      });\r\n    } finally {\r\n      setTransferLoading(false);\r\n      setConfirm({ show: false, payload: null, confirming: false });\r\n    }\r\n  };\r\n\r\n  const formatCurrency = useCallback(\r\n    (amount) => {\r\n      const locale = language === \"vi\" ? \"vi-VN\" : \"en-US\";\r\n      return Number(amount || 0).toLocaleString(locale, {\r\n        style: \"currency\",\r\n        currency: \"VND\",\r\n      });\r\n    },\r\n    [language]\r\n  );\r\n\r\n  const insightData = useMemo(() => {\r\n    if (!transactions.length) {\r\n      return {\r\n        monthlyIncoming: 0,\r\n        monthlyOutgoing: 0,\r\n        pendingCount: 0,\r\n        lastTransaction: null,\r\n      };\r\n    }\r\n    const now = new Date();\r\n    const currentMonth = now.getMonth();\r\n    const currentYear = now.getFullYear();\r\n\r\n    const monthly = transactions.filter((tx) => {\r\n      const created = new Date(tx.createdAt);\r\n      return (\r\n        created.getMonth() === currentMonth &&\r\n        created.getFullYear() === currentYear\r\n      );\r\n    });\r\n\r\n    const monthlyIncoming = monthly\r\n      .filter((tx) => tx.type === \"deposit\")\r\n      .reduce((total, tx) => total + Number(tx.amount || 0), 0);\r\n\r\n    const monthlyOutgoing = monthly\r\n      .filter((tx) => tx.type === \"transfer\")\r\n      .reduce((total, tx) => total + Number(tx.amount || 0), 0);\r\n\r\n    const pendingCount = transactions.filter(\r\n      (tx) => tx.status === \"pending\"\r\n    ).length;\r\n\r\n    return {\r\n      monthlyIncoming,\r\n      monthlyOutgoing,\r\n      pendingCount,\r\n      lastTransaction: transactions[0] || null,\r\n    };\r\n  }, [transactions]);\r\n\r\n  const advancedInsights = useMemo(() => {\r\n    if (!transactions.length) {\r\n      return {\r\n        successRate: 100,\r\n        completed: 0,\r\n        failed: 0,\r\n        averageTicket: 0,\r\n        largestTx: null,\r\n      };\r\n    }\r\n    const completedTx = transactions.filter((tx) => tx.status === \"completed\");\r\n    const failedTx = transactions.filter((tx) => tx.status === \"failed\");\r\n    const successRate =\r\n      completedTx.length + failedTx.length === 0\r\n        ? 100\r\n        : (completedTx.length / (completedTx.length + failedTx.length)) * 100;\r\n    const averageTicket =\r\n      completedTx.length === 0\r\n        ? 0\r\n        : completedTx.reduce(\r\n            (sum, tx) => sum + Math.abs(Number(tx.amount || 0)),\r\n            0\r\n          ) / completedTx.length;\r\n    const largestTx = transactions.reduce((largest, tx) => {\r\n      const amount = Math.abs(Number(tx.amount || 0));\r\n      if (!largest || amount > largest.amount) {\r\n        return { ...tx, amount };\r\n      }\r\n      return largest;\r\n    }, null);\r\n    return {\r\n      successRate,\r\n      completed: completedTx.length,\r\n      failed: failedTx.length,\r\n      averageTicket,\r\n      largestTx,\r\n    };\r\n  }, [transactions]);\r\n\r\n  const netChange = useMemo(\r\n    () => insightData.monthlyIncoming - insightData.monthlyOutgoing,\r\n    [insightData]\r\n  );\r\n\r\n  const heroMetrics = useMemo(\r\n    () => [\r\n      {\r\n        key: \"incoming\",\r\n        label: text.analyticsIncoming,\r\n        value: insightData.monthlyIncoming,\r\n        tone: \"positive\",\r\n        caption:\r\n          language === \"vi\"\r\n            ? \"Tổng tiền nhận trong kỳ\"\r\n            : \"Total inbound this month\",\r\n      },\r\n      {\r\n        key: \"outgoing\",\r\n        label: text.analyticsOutgoing,\r\n        value: insightData.monthlyOutgoing,\r\n        tone: \"negative\",\r\n        caption:\r\n          language === \"vi\"\r\n            ? \"Tổng tiền chi trong kỳ\"\r\n            : \"Total outbound this month\",\r\n      },\r\n      {\r\n        key: \"pending\",\r\n        label: text.analyticsPending,\r\n        value: insightData.pendingCount,\r\n        tone: \"neutral\",\r\n        caption: text.transactionsFollow,\r\n      },\r\n    ],\r\n    [insightData, text, language]\r\n  );\r\n\r\n  const recentTransactions = useMemo(\r\n    () => transactions.slice(0, 6),\r\n    [transactions]\r\n  );\r\n\r\n  const dailyStats = useMemo(() => {\r\n    const today = new Date();\r\n    const template = Array.from({ length: 7 }).map((_, index) => {\r\n      const date = new Date(today);\r\n      date.setDate(today.getDate() - (6 - index));\r\n      return {\r\n        key: date.toISOString(),\r\n        date,\r\n        incoming: 0,\r\n        outgoing: 0,\r\n        label: date.toLocaleDateString(language === \"vi\" ? \"vi-VN\" : \"en-US\", {\r\n          weekday: \"short\",\r\n        }),\r\n        tooltip: date.toLocaleDateString(\r\n          language === \"vi\" ? \"vi-VN\" : \"en-US\",\r\n          {\r\n            weekday: \"long\",\r\n            day: \"2-digit\",\r\n            month: \"2-digit\",\r\n          }\r\n        ),\r\n      };\r\n    });\r\n\r\n    if (!transactions.length) {\r\n      return template;\r\n    }\r\n\r\n    const buckets = template.reduce((acc, item) => {\r\n      acc[item.date.toDateString()] = item;\r\n      return acc;\r\n    }, {});\r\n\r\n    transactions.forEach((tx) => {\r\n      const created = new Date(tx.createdAt);\r\n      const bucket = buckets[created.toDateString()];\r\n      if (!bucket) return;\r\n      const amount = Number(tx.amount || 0);\r\n      if (tx.type === \"deposit\") {\r\n        bucket.incoming += amount;\r\n      } else if (tx.type === \"transfer\") {\r\n        bucket.outgoing += amount;\r\n      }\r\n    });\r\n\r\n    return template;\r\n  }, [transactions, language]);\r\n\r\n  const chartMax = useMemo(() => {\r\n    const values = dailyStats.flatMap((item) => [item.incoming, item.outgoing]);\r\n    const max = Math.max(...values, 0);\r\n    return max === 0 ? 1 : max;\r\n  }, [dailyStats]);\r\n\r\n  const handleQuickAction = useCallback((action) => {\r\n    if (action.key === \"deposit\") {\r\n      depositRef.current?.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"center\",\r\n      });\r\n      return;\r\n    }\r\n    if (action.key === \"transfer\") {\r\n      transferRef.current?.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"center\",\r\n      });\r\n      return;\r\n    }\r\n    setInfoModal({ show: true, key: action.key });\r\n  }, []);\r\n\r\n  const closeInfoModal = useCallback(() => {\r\n    setInfoModal({ show: false, key: null });\r\n  }, []);\r\n\r\n  const formatTimestamp = useCallback(\r\n    (timestamp) =>\r\n      new Date(timestamp).toLocaleString(\r\n        language === \"vi\" ? \"vi-VN\" : \"en-US\",\r\n        {\r\n          hour: \"2-digit\",\r\n          minute: \"2-digit\",\r\n          day: \"2-digit\",\r\n          month: \"2-digit\",\r\n        }\r\n      ),\r\n    [language]\r\n  );\r\n\r\n  const statusLabel = (status) => {\r\n    if (status === \"completed\") return text.statusCompleted;\r\n    if (status === \"pending\") return text.statusPending;\r\n    return text.statusFailed;\r\n  };\r\n\r\n  const transactionLabel = (type) => {\r\n    if (type === \"deposit\") return text.transactionType.deposit;\r\n    if (type === \"transfer\") return text.transactionType.transfer;\r\n    return text.transactionType.fallback;\r\n  };\r\n\r\n  const toggleBalance = () => setShowBalance((prev) => !prev);\r\n\r\n  const modalCopy = infoModal.key ? text.quickActions[infoModal.key] : null;\r\n\r\n  const heroName = useMemo(() => {\r\n    return (\r\n      userProfile?.fullName ||\r\n      userProfile?.name ||\r\n      userProfile?.username ||\r\n      profile?.displayName ||\r\n      (language === \"vi\" ? \"Người dùng\" : \"User\")\r\n    );\r\n  }, [userProfile, profile, language]);\r\n\r\n  const avatarInitial = useMemo(() => {\r\n    if (!heroName) return null;\r\n    return heroName.trim().charAt(0).toUpperCase();\r\n  }, [heroName]);\r\n\r\n  const heroIdentifier = useMemo(() => {\r\n    const source =\r\n      userProfile?.email ||\r\n      userProfile?.username ||\r\n      profile?.email ||\r\n      profile?.username ||\r\n      \"\";\r\n    return source ? maskIdentifier(source) : \"\";\r\n  }, [userProfile, profile]);\r\n\r\n  const profileRoleLabel = useMemo(() => {\r\n    if (!userProfile?.role) return text.profileRoleUser;\r\n    if (userProfile.role === \"admin\") return text.profileRoleAdmin;\r\n    if (userProfile.role === \"staff\") return text.profileRoleStaff;\r\n    return text.profileRoleUser;\r\n  }, [userProfile, text]);\r\n\r\n  const formatPercent = useCallback(\r\n    (value) => {\r\n      const locale = language === \"vi\" ? \"vi-VN\" : \"en-US\";\r\n      return Number(value / 100).toLocaleString(locale, {\r\n        style: \"percent\",\r\n        minimumFractionDigits: 1,\r\n        maximumFractionDigits: 1,\r\n      });\r\n    },\r\n    [language]\r\n  );\r\n\r\n  const confirmTitle = confirm.payload\r\n    ? language === \"vi\"\r\n      ? `Xác nhận chuyển ${confirm.payload.amount || \"\"} VND`\r\n      : `Confirm transfer of ${confirm.payload.amount || \"\"} VND`\r\n    : \"\";\r\n\r\n  const confirmBodyIntro = confirm.payload\r\n    ? language === \"vi\"\r\n      ? `Bạn sẽ chuyển ${confirm.payload.amount} tới ${confirm.payload.toUsername}.`\r\n      : `You are about to send ${confirm.payload.amount} to ${confirm.payload.toUsername}.`\r\n    : \"\";\r\n\r\n  const confirmNoteLabel = language === \"vi\" ? \"Ghi chú\" : \"Note\";\r\n  const confirmPrompt =\r\n    language === \"vi\"\r\n      ? \"Bạn có chắc chắn muốn tiếp tục?\"\r\n      : \"Are you sure you want to continue?\";\r\n\r\n  return (\r\n    <div className=\"dashboard-page\">\r\n      <InfoModal\r\n        show={infoModal.show}\r\n        title={modalCopy?.label || \"\"}\r\n        description={modalCopy?.description || \"\"}\r\n        primaryLabel={text.modalDismiss}\r\n        onClose={closeInfoModal}\r\n      />\r\n\r\n      <ConfirmModal\r\n        show={confirm.show}\r\n        title={confirmTitle}\r\n        body={\r\n          <div>\r\n            <p>{confirmBodyIntro}</p>\r\n            {confirm.payload?.description && (\r\n              <p className=\"mb-0\">\r\n                {confirmNoteLabel}: {confirm.payload.description}\r\n              </p>\r\n            )}\r\n            <p>{confirmPrompt}</p>\r\n          </div>\r\n        }\r\n        onConfirm={confirmTransfer}\r\n        onCancel={() =>\r\n          setConfirm({ show: false, payload: null, confirming: false })\r\n        }\r\n        confirming={confirm.confirming}\r\n      />\r\n\r\n      <Toast\r\n        show={toast.show}\r\n        type={toast.type}\r\n        message={toast.message}\r\n        onClose={() => setToast((curr) => ({ ...curr, show: false }))}\r\n      />\r\n\r\n      <section className=\"dashboard-hero gradient-card mb-4\">\r\n        <div className=\"dashboard-hero__grid\">\r\n          <div className=\"dashboard-hero__main\">\r\n            <div className=\"hero-header\">\r\n              <div className=\"hero-avatar\">\r\n                {avatarInitial ? (\r\n                  <span className=\"hero-avatar__initial\">{avatarInitial}</span>\r\n                ) : (\r\n                  <i className=\"bi bi-person-fill\" aria-hidden></i>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <span className=\"hero-subheading\">{text.greeting}</span>\r\n                <h1 className=\"hero-title\">{heroName}</h1>\r\n                <p className=\"hero-caption\">\r\n                  {text.heroCaption}\r\n                  {heroIdentifier && (\r\n                    <>\r\n                      {\" · \"}\r\n                      <span className=\"hero-caption__meta\">\r\n                        {heroIdentifier}\r\n                      </span>\r\n                    </>\r\n                  )}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"hero-balance\">\r\n              <span className=\"hero-balance__label\">{text.balanceLabel}</span>\r\n              <div className=\"hero-balance__value\">\r\n                {showBalance ? formatCurrency(balance) : \"•••••••• VND\"}\r\n              </div>\r\n              <div className=\"hero-balance__trend\">\r\n                <span\r\n                  className={\r\n                    netChange >= 0 ? \"trend-positive\" : \"trend-negative\"\r\n                  }\r\n                >\r\n                  {netChange >= 0 ? \"+\" : \"-\"}\r\n                  {formatCurrency(Math.abs(netChange))}\r\n                </span>\r\n                <small>{text.netChange}</small>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"hero-balance__toggle\"\r\n                onClick={toggleBalance}\r\n              >\r\n                <i\r\n                  className={`bi ${\r\n                    showBalance ? \"bi-eye-slash\" : \"bi-eye\"\r\n                  } me-2`}\r\n                  aria-hidden\r\n                ></i>\r\n                {showBalance ? text.hideBalance : text.showBalance}\r\n              </button>\r\n              {dataLoading && (\r\n                <span className=\"badge bg-light text-primary mt-2\">\r\n                  {text.syncing}\r\n                </span>\r\n              )}\r\n            </div>\r\n            <div className=\"hero-actions\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-light hero-action\"\r\n                onClick={() => handleQuickAction({ key: \"transfer\" })}\r\n              >\r\n                <i className=\"bi bi-arrow-left-right me-2\" aria-hidden></i>\r\n                {text.quickTransfer}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-outline-light hero-action\"\r\n                onClick={() => navigate(\"/notifications\")}\r\n              >\r\n                <i className=\"bi bi-bell me-2\" aria-hidden></i>\r\n                {text.quickViewNotifications}\r\n              </button>\r\n            </div>\r\n            <div className=\"hero-meta\">\r\n              {profileLoading && (\r\n                <div className=\"hero-meta__item\">\r\n                  <i className=\"bi bi-arrow-repeat\" aria-hidden></i>\r\n                  {text.profileLoading}\r\n                </div>\r\n              )}\r\n              {profileError && (\r\n                <div className=\"hero-meta__item text-warning\">\r\n                  <i className=\"bi bi-exclamation-triangle\" aria-hidden></i>\r\n                  {profileError}\r\n                </div>\r\n              )}\r\n              {insightData.lastTransaction ? (\r\n                <div className=\"hero-meta__item\">\r\n                  <i className=\"bi bi-lightning-charge-fill\" aria-hidden></i>\r\n                  {text.lastActivityPrefix} ·{\" \"}\r\n                  {formatTimestamp(insightData.lastTransaction.createdAt)} ·{\" \"}\r\n                  {transactionLabel(insightData.lastTransaction.type)}{\" \"}\r\n                  {formatCurrency(insightData.lastTransaction.amount)}\r\n                </div>\r\n              ) : (\r\n                <div className=\"hero-meta__item\">{text.lastActivityEmpty}</div>\r\n              )}\r\n              <div className=\"hero-meta__item\">\r\n                <i className=\"bi bi-shield-lock\" aria-hidden></i>\r\n                {profileRoleLabel}\r\n              </div>\r\n              {userProfile?.email && (\r\n                <div className=\"hero-meta__item\">\r\n                  <i className=\"bi bi-envelope-open\" aria-hidden></i>\r\n                  {text.profileEmailLabel}: {maskIdentifier(userProfile.email)}\r\n                </div>\r\n              )}\r\n              {userProfile?.username && (\r\n                <div className=\"hero-meta__item\">\r\n                  <i className=\"bi bi-person-badge\" aria-hidden></i>\r\n                  {text.profileUsernameLabel}:{\" \"}\r\n                  {maskIdentifier(userProfile.username)}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"dashboard-hero__side\">\r\n            {heroMetrics.map((metric) => (\r\n              <div\r\n                className={`hero-metric hero-metric--${metric.tone}`}\r\n                key={metric.key}\r\n              >\r\n                <span className=\"hero-metric__label\">{metric.label}</span>\r\n                <div className=\"hero-metric__value\">\r\n                  {metric.key === \"pending\"\r\n                    ? `${metric.value} ${\r\n                        language === \"vi\" ? \"giao dịch\" : \"tx\"\r\n                      }`\r\n                    : formatCurrency(metric.value)}\r\n                </div>\r\n                <small className=\"hero-metric__caption\">{metric.caption}</small>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"card shadow-sm quick-actions-card mb-4\">\r\n        <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n          <div>\r\n            <h5 className=\"mb-0\">{text.quickActionsTitle}</h5>\r\n            <small className=\"text-muted\">{text.quickActionsSubtitle}</small>\r\n          </div>\r\n          <span className=\"badge bg-primary-subtle text-primary\">\r\n            Digital Banking\r\n          </span>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"row row-cols-2 row-cols-md-4 g-3\">\r\n            {quickActionCatalog.map((action) => {\r\n              const copy = text.quickActions[action.key];\r\n              return (\r\n                <div className=\"col\" key={action.key}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={`quick-action-tile ${action.accent}`}\r\n                    onClick={() => handleQuickAction(action)}\r\n                  >\r\n                    <span className=\"quick-action-tile__icon\">\r\n                      <i className={`bi ${action.icon}`} aria-hidden></i>\r\n                    </span>\r\n                    <span className=\"quick-action-tile__content\">\r\n                      <span className=\"quick-action-tile__label\">\r\n                        {copy?.label}\r\n                      </span>\r\n                      <small className=\"quick-action-tile__tagline\">\r\n                        {copy?.tagline}\r\n                      </small>\r\n                    </span>\r\n                  </button>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <div className=\"row g-4 mb-4\">\r\n        <div className=\"col-xl-7\">\r\n          <div className=\"card shadow-sm mb-4\" ref={depositRef}>\r\n            <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n              <h5 className=\"mb-0\">{text.depositTitle}</h5>\r\n              <span className=\"badge bg-primary-subtle text-primary\">\r\n                {text.depositLimit}\r\n              </span>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <form onSubmit={handleDepositSubmit} className=\"form-stacked\">\r\n                <div className=\"form-floating\">\r\n                  <input\r\n                    id=\"depositAmount\"\r\n                    name=\"depositAmount\"\r\n                    type=\"number\"\r\n                    min=\"1000\"\r\n                    step=\"1000\"\r\n                    value={depositAmount}\r\n                    onChange={handleDepositChange}\r\n                    className=\"form-control\"\r\n                    placeholder={text.depositPlaceholder}\r\n                    required\r\n                  />\r\n                  <label htmlFor=\"depositAmount\">\r\n                    {text.depositPlaceholder}\r\n                  </label>\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-primary\"\r\n                  disabled={depositLoading}\r\n                >\r\n                  {depositLoading ? (\r\n                    <>\r\n                      <span\r\n                        className=\"spinner-border spinner-border-sm me-2\"\r\n                        role=\"status\"\r\n                        aria-hidden\r\n                      ></span>\r\n                      {text.processing}\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <i className=\"bi bi-wallet2 me-2\" aria-hidden></i>\r\n                      {text.submitDeposit}\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card shadow-sm\" ref={transferRef}>\r\n            <div className=\"card-header\">\r\n              <h5 className=\"mb-0\">{text.transferTitle}</h5>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <form onSubmit={handleTransferSubmit} className=\"form-stacked\">\r\n                <div className=\"row g-3\">\r\n                  <div className=\"col-12 col-md-6\">\r\n                    <div className=\"form-floating\">\r\n                      <input\r\n                        id=\"toUsername\"\r\n                        name=\"toUsername\"\r\n                        value={transferData.toUsername}\r\n                        onChange={handleTransferChange}\r\n                        className=\"form-control\"\r\n                        placeholder={text.transferAccount}\r\n                        required\r\n                      />\r\n                      <label htmlFor=\"toUsername\">{text.transferAccount}</label>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-12 col-md-6\">\r\n                    <div className=\"form-floating\">\r\n                      <input\r\n                        id=\"transferAmount\"\r\n                        name=\"amount\"\r\n                        type=\"number\"\r\n                        min=\"1000\"\r\n                        step=\"1000\"\r\n                        value={transferData.amount}\r\n                        onChange={handleTransferChange}\r\n                        className=\"form-control\"\r\n                        placeholder={text.transferAmount}\r\n                        required\r\n                      />\r\n                      <label htmlFor=\"transferAmount\">\r\n                        {text.transferAmount}\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-12\">\r\n                    <div className=\"form-floating\">\r\n                      <input\r\n                        id=\"transferDescription\"\r\n                        name=\"description\"\r\n                        value={transferData.description}\r\n                        onChange={handleTransferChange}\r\n                        className=\"form-control\"\r\n                        placeholder={text.transferNote}\r\n                      />\r\n                      <label htmlFor=\"transferDescription\">\r\n                        {text.transferNote}\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-primary mt-3\"\r\n                  disabled={transferLoading}\r\n                >\r\n                  {transferLoading ? (\r\n                    <>\r\n                      <span\r\n                        className=\"spinner-border spinner-border-sm me-2\"\r\n                        role=\"status\"\r\n                        aria-hidden\r\n                      ></span>\r\n                      {text.processing}\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <i className=\"bi bi-send me-2\" aria-hidden></i>\r\n                      {text.submitTransfer}\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-xl-5\">\r\n          <div className=\"card shadow-sm mb-4\">\r\n            <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n              <h5 className=\"mb-0\">{text.analyticsTitle}</h5>\r\n              <span\r\n                className={`balance-chip ${\r\n                  netChange >= 0 ? \"balance-chip--up\" : \"balance-chip--down\"\r\n                }`}\r\n              >\r\n                {netChange >= 0 ? text.badgeUp : text.badgeDown}{\" \"}\r\n                {formatCurrency(Math.abs(netChange))}\r\n              </span>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <div className=\"insight-grid\">\r\n                <div className=\"insight-item\">\r\n                  <span className=\"insight-label text-muted\">\r\n                    {text.analyticsIncoming}\r\n                  </span>\r\n                  <div className=\"insight-value text-success\">\r\n                    {formatCurrency(insightData.monthlyIncoming)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"insight-item\">\r\n                  <span className=\"insight-label text-muted\">\r\n                    {text.analyticsOutgoing}\r\n                  </span>\r\n                  <div className=\"insight-value text-danger\">\r\n                    {formatCurrency(insightData.monthlyOutgoing)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"insight-item\">\r\n                  <span className=\"insight-label text-muted\">\r\n                    {text.analyticsPending}\r\n                  </span>\r\n                  <div className=\"insight-value\">\r\n                    {insightData.pendingCount}{\" \"}\r\n                    {language === \"vi\" ? \"giao dịch\" : \"tx\"}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"insight-flush\">\r\n                <div className=\"insight-flush__item\">\r\n                  <span className=\"insight-label text-muted\">\r\n                    {text.analyticsSuccessRate}\r\n                  </span>\r\n                  <div className=\"insight-flush__value\">\r\n                    {formatPercent(advancedInsights.successRate)}\r\n                  </div>\r\n                  <small className=\"text-muted\">\r\n                    {language === \"vi\"\r\n                      ? `${advancedInsights.completed} hoàn tất / ${advancedInsights.failed} lỗi`\r\n                      : `${advancedInsights.completed} completed / ${advancedInsights.failed} failed`}\r\n                  </small>\r\n                </div>\r\n                <div className=\"insight-flush__item\">\r\n                  <span className=\"insight-label text-muted\">\r\n                    {text.analyticsAvgTicket}\r\n                  </span>\r\n                  <div className=\"insight-flush__value text-primary\">\r\n                    {formatCurrency(advancedInsights.averageTicket)}\r\n                  </div>\r\n                  <small className=\"text-muted\">\r\n                    {language === \"vi\"\r\n                      ? \"Giá trị trung bình giao dịch hoàn tất\"\r\n                      : \"Average settled transaction value\"}\r\n                  </small>\r\n                </div>\r\n                <div className=\"insight-flush__item insight-flush__item--wide\">\r\n                  <span className=\"insight-label text-muted\">\r\n                    {text.analyticsLargest}\r\n                  </span>\r\n                  {advancedInsights.largestTx ? (\r\n                    <>\r\n                      <div className=\"insight-flush__value text-success\">\r\n                        {formatCurrency(advancedInsights.largestTx.amount)}\r\n                      </div>\r\n                      <small className=\"text-muted\">\r\n                        {transactionLabel(advancedInsights.largestTx.type)} ·{\" \"}\r\n                        {formatTimestamp(advancedInsights.largestTx.createdAt)}{\" \"}\r\n                        · {advancedInsights.largestTx.reference}\r\n                      </small>\r\n                    </>\r\n                  ) : (\r\n                    <small className=\"text-muted\">{text.analyticsNoData}</small>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-3 p-3 bg-light rounded\">\r\n                <p className=\"mb-1 fw-semibold\">{text.analyticsSecurity}</p>\r\n                <small className=\"text-muted\">\r\n                  {text.analyticsSecurityNote}\r\n                </small>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card shadow-sm mb-4 chart-card\">\r\n            <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n              <h5 className=\"mb-0\">{text.chartTitle}</h5>\r\n              <div className=\"chart-legend\">\r\n                <span className=\"legend-dot legend-dot--in\"></span>\r\n                <small>{text.chartLegendIn}</small>\r\n                <span className=\"legend-dot legend-dot--out\"></span>\r\n                <small>{text.chartLegendOut}</small>\r\n              </div>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <div className=\"chart-bars\">\r\n                {dailyStats.map((day) => {\r\n                  const incomeHeight = Math.max(\r\n                    4,\r\n                    Math.round((day.incoming / chartMax) * 100)\r\n                  );\r\n                  const expenseHeight = Math.max(\r\n                    4,\r\n                    Math.round((day.outgoing / chartMax) * 100)\r\n                  );\r\n                  return (\r\n                    <div className=\"chart-bars__column\" key={day.key}>\r\n                      <div className=\"chart-bars__stack\">\r\n                        <div\r\n                          className=\"chart-bar chart-bar--incoming\"\r\n                          style={{ height: `${incomeHeight}%` }}\r\n                          title={`${text.chartLegendIn} ${formatCurrency(\r\n                            day.incoming\r\n                          )} · ${day.tooltip}`}\r\n                        ></div>\r\n                        <div\r\n                          className=\"chart-bar chart-bar--outgoing\"\r\n                          style={{ height: `${expenseHeight}%` }}\r\n                          title={`${text.chartLegendOut} ${formatCurrency(\r\n                            day.outgoing\r\n                          )} · ${day.tooltip}`}\r\n                        ></div>\r\n                      </div>\r\n                      <span className=\"chart-bars__label\">{day.label}</span>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card shadow-sm security-card\">\r\n            <div className=\"card-header border-0\">\r\n              <h5 className=\"mb-0\">\r\n                {language === \"vi\" ? \"Bảo mật đa lớp\" : \"Multi-layer security\"}\r\n              </h5>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <div className=\"security-card__content\">\r\n                <MfaSetup />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <section className=\"card shadow-sm\">\r\n        <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n          <h5 className=\"mb-0\">{text.recentTitle}</h5>\r\n          <small className=\"text-muted\">{text.recentSubtitle}</small>\r\n        </div>\r\n        <div className=\"list-group list-group-flush\">\r\n          {recentTransactions.length === 0 ? (\r\n            <div className=\"list-group-item text-muted text-center py-4\">\r\n              {text.recentEmpty}\r\n            </div>\r\n          ) : (\r\n            recentTransactions.map((tx) => {\r\n              const label = transactionLabel(tx.type);\r\n              const statusText = statusLabel(tx.status);\r\n              const statusClass =\r\n                statusText === text.statusCompleted\r\n                  ? \"badge bg-success-subtle text-success\"\r\n                  : statusText === text.statusPending\r\n                  ? \"badge bg-warning-subtle text-warning\"\r\n                  : \"badge bg-danger-subtle text-danger\";\r\n              return (\r\n                <button\r\n                  key={tx.id}\r\n                  type=\"button\"\r\n                  className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\r\n                  onClick={() => {\r\n                    setSelectedTx(tx);\r\n                    setShowTxModal(true);\r\n                  }}\r\n                >\r\n                  <div className=\"d-flex align-items-center gap-3\">\r\n                    <span className={`transaction-icon ${tx.type}`}>\r\n                      <i\r\n                        className={`bi ${\r\n                          tx.type === \"deposit\"\r\n                            ? \"bi-arrow-down-circle\"\r\n                            : \"bi-arrow-up-circle\"\r\n                        }`}\r\n                        aria-hidden\r\n                      ></i>\r\n                    </span>\r\n                    <div>\r\n                      <div className=\"fw-semibold\">\r\n                        {label} · {tx.reference}\r\n                      </div>\r\n                      <small className=\"text-muted\">\r\n                        {maskAccount(tx.fromUsername)} →{\" \"}\r\n                        {maskAccount(tx.toUsername)} ·{\" \"}\r\n                        {formatTimestamp(tx.createdAt)}\r\n                      </small>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-end\">\r\n                    <div\r\n                      className={\r\n                        tx.type === \"deposit\" ? \"text-success\" : \"text-danger\"\r\n                      }\r\n                    >\r\n                      {tx.type === \"deposit\" ? \"+\" : \"-\"}\r\n                      {formatCurrency(tx.amount)}\r\n                    </div>\r\n                    <span className={statusClass}>{statusText}</span>\r\n                  </div>\r\n                </button>\r\n              );\r\n            })\r\n          )}\r\n        </div>\r\n      </section>\r\n\r\n      <TransactionDetailsModal\r\n        tx={selectedTx}\r\n        show={showTxModal}\r\n        onClose={() => setShowTxModal(false)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}