{"ast":null,"code":"var _jsxFileName = \"D:\\\\BMUDHT\\\\frontend\\\\src\\\\components\\\\MainDashboard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport api from \"../services/api\";\nimport ConfirmModal from \"./ConfirmModal\";\nimport Toast from \"./Toast\";\nimport MfaSetup from \"./MfaSetup\";\nimport TransactionDetailsModal from \"./TransactionDetailsModal\";\nimport TransferSuccessModal from \"./TransferSuccessModal\";\nimport NotificationContext from \"../context/NotificationContext\";\nimport { usePreferences } from \"../context/PreferencesContext\";\nimport { getReferenceCode } from \"../utils/reference\";\nimport { decodeTokenPayload } from \"../utils/authSignal\";\nimport localizeBackendMessage from \"../utils/i18n\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst dictionary = {\n  vi: {\n    greeting: \"Xin chào\",\n    heroCaption: \"Tài khoản · Số dư cập nhật theo thời gian thực\",\n    balanceLabel: \"Số dư khả dụng\",\n    hideBalance: \"Ẩn số dư\",\n    showBalance: \"Hiện số dư\",\n    netChange: \"Biến động ròng tháng này\",\n    lastActivityPrefix: \"Giao dịch gần nhất\",\n    lastActivityEmpty: \"Chưa có giao dịch nào được ghi nhận.\",\n    quickActionsTitle: \"Tác vụ nhanh\",\n    quickActionsSubtitle: \"Chọn thao tác thường xuyên chỉ với một chạm.\",\n    modalDismiss: \"Đã hiểu\",\n    quickTransfer: \"Chuyển khoản ngay\",\n    quickViewNotifications: \"Xem thông báo\",\n    quickActions: {\n      transfer: {\n        label: \"Chuyển khoản\",\n        tagline: \"Nội bộ & liên ngân hàng\",\n        description: \"Chuyển tiền nhanh tới tài khoản nội bộ hoặc ngân hàng khác.\"\n      },\n      deposit: {\n        label: \"Nạp tiền\",\n        tagline: \"Qua thẻ và ví liên kết\",\n        description: \"Nạp tiền từ thẻ ghi nợ hoặc ví điện tử liên kết.\"\n      },\n      mobile: {\n        label: \"Nạp điện thoại\",\n        tagline: \"Áp dụng mọi nhà mạng\",\n        description: \"Mua thẻ cào hoặc nạp trực tiếp cho số điện thoại bất kỳ.\"\n      },\n      bill: {\n        label: \"Thanh toán hóa đơn\",\n        tagline: \"Điện, nước, Internet\",\n        description: \"Tự động thanh toán điện, nước, internet và truyền hình.\"\n      },\n      travel: {\n        label: \"Vé máy bay\",\n        tagline: \"Đối tác hàng không\",\n        description: \"Đặt vé máy bay nội địa và quốc tế với ưu đãi độc quyền.\"\n      },\n      invest: {\n        label: \"Đầu tư\",\n        tagline: \"Gửi tiết kiệm sinh lời\",\n        description: \"Mở tài khoản tiết kiệm hoặc danh mục đầu tư sinh lời.\"\n      },\n      support: {\n        label: \"Trợ giúp\",\n        tagline: \"Tổng đài 24/7\",\n        description: \"Liên hệ tổng đài 24/7 và chatbot tài chính thông minh.\"\n      },\n      promo: {\n        label: \"Ưu đãi\",\n        tagline: \"Hoàn tiền & voucher\",\n        description: \"Khám phá ưu đãi hoàn tiền và voucher mới nhất.\"\n      }\n    },\n    depositTitle: \"Nạp tiền vào tài khoản\",\n    depositLimit: \"Không giới hạn\",\n    depositPlaceholder: \"Số tiền nạp (VND)\",\n    submitDeposit: \"Nạp tiền\",\n    transferTitle: \"Chuyển khoản thông minh\",\n    transferAccount: \"Tài khoản nhận\",\n    transferAmount: \"Số tiền (VND)\",\n    transferNote: \"Ghi chú (không bắt buộc)\",\n    submitTransfer: \"Chuyển khoản\",\n    transferOtpLabel: \"Mã OTP chuyển tiền\",\n    transferOtpPlaceholder: \"Nhập mã OTP 6 chữ số\",\n    transferOtpHint: \"OTP có hiệu lực trong 5 phút. Kiểm tra email bảo mật hoặc bảng log (môi trường demo).\",\n    transferOtpSent: \"OTP đã được gửi. Vui lòng nhập mã để xác nhận.\",\n    transferOtpDevLabel: \"Mã demo\",\n    transferOtpMissing: \"Vui lòng nhập mã OTP để tiếp tục.\",\n    transferOtpInvalid: \"Mã OTP phải gồm 6 chữ số.\",\n    transferOtpRequesting: \"Đang gửi OTP\",\n    transferOtpIncomplete: \"Vui lòng nhập tài khoản nhận và số tiền trước khi yêu cầu OTP.\",\n    transferOtpRequest: \"Gửi OTP\",\n    transferOtpResend: \"Gửi lại OTP\",\n    transferInvalid: \"Vui lòng nhập tài khoản nhận và số tiền hợp lệ.\",\n    processing: \"Đang xử lý\",\n    syncing: \"Đang đồng bộ...\",\n    depositSuccess: \"Nạp tiền thành công\",\n    depositFail: \"Nạp tiền thất bại\",\n    transferSuccess: \"Chuyển khoản thành công\",\n    transferFail: \"Chuyển khoản thất bại\",\n    transferSuccessTitle: \"Giao dịch đã hoàn tất\",\n    transferSuccessSubtitle: \"Biên lai chuyển khoản trực tuyến\",\n    transferSuccessReferenceLabel: \"Mã chuyển khoản\",\n    transferSuccessAmountLabel: \"Số tiền\",\n    transferSuccessSenderLabel: \"Người chuyển\",\n    transferSuccessRecipientLabel: \"Người nhận\",\n    transferSuccessTimeLabel: \"Thời gian thực hiện\",\n    transferSuccessNoteLabel: \"Ghi chú\",\n    transferSuccessCopy: \"Sao chép mã\",\n    transferSuccessCopied: \"Đã sao chép mã chuyển khoản\",\n    transferSuccessClose: \"Đóng biên lai\",\n    transferSuccessCopyFail: \"Không thể sao chép mã, vui lòng thử lại.\",\n    analyticsTitle: \"Tổng quan tháng này\",\n    analyticsIncoming: \"Tiền vào\",\n    analyticsOutgoing: \"Tiền ra\",\n    analyticsPending: \"Đang xử lý\",\n    analyticsSecurity: \"Tự động hóa bảo mật\",\n    analyticsSecurityNote: \"Luồng giao dịch được giám sát thời gian thực với cảnh báo rủi ro bất thường.\",\n    chartTitle: \"Phân tích thu · chi 7 ngày\",\n    chartLegendIn: \"Thu\",\n    chartLegendOut: \"Chi\",\n    statusCompleted: \"Hoàn thành\",\n    statusPending: \"Đang xử lý\",\n    statusFailed: \"Thất bại\",\n    recentTitle: \"Giao dịch gần đây\",\n    recentSubtitle: \"Chạm để xem chi tiết và đánh dấu bất thường.\",\n    recentEmpty: \"Chưa có giao dịch nào.\",\n    transactionType: {\n      deposit: \"Nạp tiền\",\n      transfer: \"Chuyển khoản\",\n      fallback: \"Giao dịch\"\n    },\n    badgeUp: \"Tăng\",\n    badgeDown: \"Giảm\",\n    transactionsFollow: \"Giao dịch cần theo dõi\",\n    analyticsSuccessRate: \"Tỉ lệ thành công\",\n    analyticsFailed: \"Giao dịch lỗi\",\n    analyticsAvgTicket: \"Giá trị bình quân\",\n    analyticsLargest: \"Giao dịch lớn nhất\",\n    analyticsNoData: \"Chưa có dữ liệu\",\n    profileLoading: \"Đang cập nhật hồ sơ...\",\n    profileRoleAdmin: \"Quản trị viên hệ thống\",\n    profileRoleUser: \"Khách hàng cá nhân\",\n    profileRoleStaff: \"Chuyên viên hỗ trợ\",\n    profileMissing: \"Chưa có thông tin hồ sơ\",\n    profileEmailLabel: \"Email bảo mật\",\n    profileUsernameLabel: \"Tên đăng nhập\"\n  },\n  en: {\n    greeting: \"Welcome\",\n    heroCaption: \"Account · Real-time available balance\",\n    balanceLabel: \"Available balance\",\n    hideBalance: \"Hide balance\",\n    showBalance: \"Show balance\",\n    netChange: \"Net change this month\",\n    lastActivityPrefix: \"Latest transaction\",\n    lastActivityEmpty: \"No transactions recorded yet.\",\n    quickActionsTitle: \"Quick actions\",\n    quickActionsSubtitle: \"Access frequent operations in one tap.\",\n    modalDismiss: \"Got it\",\n    quickTransfer: \"Transfer now\",\n    quickViewNotifications: \"Notifications\",\n    quickActions: {\n      transfer: {\n        label: \"Transfer\",\n        tagline: \"Internal & interbank\",\n        description: \"Send funds to an in-network or external bank account instantly.\"\n      },\n      deposit: {\n        label: \"Top up\",\n        tagline: \"Cards & linked wallets\",\n        description: \"Add funds using your debit card or linked e-wallets.\"\n      },\n      mobile: {\n        label: \"Mobile top-up\",\n        tagline: \"All carriers supported\",\n        description: \"Buy airtime vouchers or top up any mobile number.\"\n      },\n      bill: {\n        label: \"Bill payment\",\n        tagline: \"Utilities & internet\",\n        description: \"Automate electricity, water, broadband, and TV payments.\"\n      },\n      travel: {\n        label: \"Flights\",\n        tagline: \"Airline partner deals\",\n        description: \"Book domestic and international flights with exclusive perks.\"\n      },\n      invest: {\n        label: \"Invest\",\n        tagline: \"Grow your savings\",\n        description: \"Open savings plans or curated investment portfolios.\"\n      },\n      support: {\n        label: \"Support\",\n        tagline: \"24/7 helpdesk\",\n        description: \"Reach our 24/7 contact center and smart finance chatbot.\"\n      },\n      promo: {\n        label: \"Rewards\",\n        tagline: \"Cashback & vouchers\",\n        description: \"Discover the latest cashback offers and partner vouchers.\"\n      }\n    },\n    depositTitle: \"Top up account\",\n    depositLimit: \"Unlimited\",\n    depositPlaceholder: \"Top-up amount (VND)\",\n    submitDeposit: \"Top up\",\n    transferTitle: \"Smart transfers\",\n    transferAccount: \"Recipient account\",\n    transferAmount: \"Amount (VND)\",\n    transferNote: \"Note (optional)\",\n    submitTransfer: \"Transfer\",\n    transferOtpLabel: \"Transfer OTP code\",\n    transferOtpPlaceholder: \"Enter 6-digit OTP\",\n    transferOtpHint: \"OTP remains valid for 5 minutes. Check your secure email (demo shows the code below).\",\n    transferOtpSent: \"OTP sent. Please enter the code to confirm.\",\n    transferOtpDevLabel: \"Demo code\",\n    transferOtpMissing: \"Please enter the OTP to continue.\",\n    transferOtpRequesting: \"Sending OTP\",\n    transferOtpInvalid: \"OTP must contain 6 digits.\",\n    transferOtpIncomplete: \"Enter recipient and amount before requesting an OTP.\",\n    transferOtpRequest: \"Send OTP\",\n    transferOtpResend: \"Resend OTP\",\n    transferInvalid: \"Enter a valid recipient and transfer amount.\",\n    processing: \"Processing\",\n    syncing: \"Syncing...\",\n    depositSuccess: \"Top-up successful\",\n    depositFail: \"Top-up failed\",\n    transferSuccess: \"Transfer successful\",\n    transferFail: \"Transfer failed\",\n    transferSuccessTitle: \"Transfer completed\",\n    transferSuccessSubtitle: \"Digital transfer receipt\",\n    transferSuccessReferenceLabel: \"Transfer reference\",\n    transferSuccessAmountLabel: \"Amount\",\n    transferSuccessSenderLabel: \"Sender\",\n    transferSuccessRecipientLabel: \"Recipient\",\n    transferSuccessTimeLabel: \"Timestamp\",\n    transferSuccessNoteLabel: \"Note\",\n    transferSuccessCopy: \"Copy reference\",\n    transferSuccessCopied: \"Reference copied to clipboard\",\n    transferSuccessClose: \"Close receipt\",\n    transferSuccessCopyFail: \"Unable to copy the reference. Please try again.\",\n    analyticsTitle: \"Monthly overview\",\n    analyticsIncoming: \"Cash in\",\n    analyticsOutgoing: \"Cash out\",\n    analyticsPending: \"Pending\",\n    analyticsSecurity: \"Security automation\",\n    analyticsSecurityNote: \"Transactions are monitored in real time with anomaly alerts.\",\n    chartTitle: \"7-day income vs. expense\",\n    chartLegendIn: \"Income\",\n    chartLegendOut: \"Expense\",\n    statusCompleted: \"Completed\",\n    statusPending: \"Processing\",\n    statusFailed: \"Failed\",\n    recentTitle: \"Recent transactions\",\n    recentSubtitle: \"Tap to inspect details or flag anomalies.\",\n    recentEmpty: \"No transactions recorded.\",\n    transactionType: {\n      deposit: \"Deposit\",\n      transfer: \"Transfer\",\n      fallback: \"Transaction\"\n    },\n    badgeUp: \"Up\",\n    badgeDown: \"Down\",\n    transactionsFollow: \"Transactions to follow\",\n    analyticsSuccessRate: \"Success rate\",\n    analyticsFailed: \"Failed transactions\",\n    analyticsAvgTicket: \"Average ticket\",\n    analyticsLargest: \"Largest transaction\",\n    analyticsNoData: \"No data yet\",\n    profileLoading: \"Syncing profile...\",\n    profileRoleAdmin: \"Platform administrator\",\n    profileRoleUser: \"Retail customer\",\n    profileRoleStaff: \"Support specialist\",\n    profileMissing: \"Profile details unavailable\",\n    profileEmailLabel: \"Secure email\",\n    profileUsernameLabel: \"Username\"\n  }\n};\nconst quickActionCatalog = [{\n  key: \"transfer\",\n  icon: \"bi-arrow-left-right\",\n  accent: \"action-transfer\"\n}, {\n  key: \"deposit\",\n  icon: \"bi-wallet2\",\n  accent: \"action-deposit\"\n}, {\n  key: \"mobile\",\n  icon: \"bi-phone\",\n  accent: \"action-mobile\"\n}, {\n  key: \"bill\",\n  icon: \"bi-receipt\",\n  accent: \"action-bill\"\n}, {\n  key: \"travel\",\n  icon: \"bi-airplane\",\n  accent: \"action-travel\"\n}, {\n  key: \"invest\",\n  icon: \"bi-graph-up-arrow\",\n  accent: \"action-invest\"\n}, {\n  key: \"support\",\n  icon: \"bi-life-preserver\",\n  accent: \"action-support\"\n}, {\n  key: \"promo\",\n  icon: \"bi-gift\",\n  accent: \"action-promo\"\n}];\nconst maskAccount = value => {\n  if (!value) return \"-\";\n  if (value.length <= 4) return value;\n  return \"****\" + value.slice(-4);\n};\nconst maskIdentifier = value => {\n  if (!value) return \"-\";\n  if (value.includes(\"@\")) {\n    const [local, domain] = value.split(\"@\");\n    if (local.length <= 2) {\n      return `**@${domain}`;\n    }\n    return `${local.slice(0, 2)}***@${domain}`;\n  }\n  return maskAccount(value);\n};\nconst InfoModal = ({\n  show,\n  title,\n  description,\n  primaryLabel,\n  onClose\n}) => {\n  if (!show) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-backdrop\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-0\",\n          children: description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-actions justify-content-end\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: onClose,\n          children: primaryLabel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 330,\n    columnNumber: 5\n  }, this);\n};\n_c = InfoModal;\nconst useTokenProfile = token => {\n  _s();\n  // Extract lightweight profile information from the persisted JWT payload.\n  return useMemo(() => {\n    if (!token) return null;\n    try {\n      var _payload$email;\n      const payload = JSON.parse(atob(token.split(\".\")[1] || \"\"));\n      const displayName = (payload === null || payload === void 0 ? void 0 : payload.name) || (payload === null || payload === void 0 ? void 0 : payload.fullName) || (payload === null || payload === void 0 ? void 0 : payload.username) || (payload === null || payload === void 0 ? void 0 : (_payload$email = payload.email) === null || _payload$email === void 0 ? void 0 : _payload$email.split(\"@\")[0]) || \"Khách hàng\";\n      return {\n        ...payload,\n        displayName\n      };\n    } catch (error) {\n      return null;\n    }\n  }, [token]);\n};\n_s(useTokenProfile, \"nwk+m61qLgjDVUp4IGV/072DDN4=\");\nconst decorateTransactions = (items, currentUserId) => {\n  const ownerId = currentUserId !== null && currentUserId !== undefined ? Number(currentUserId) : null;\n  const hasOwnerId = Number.isFinite(ownerId);\n  return (items || []).map(tx => {\n    const baseAmount = Number(tx.amount || 0);\n    const isIncoming = tx.type === \"deposit\" || hasOwnerId && tx.toUserId === ownerId;\n    const signedAmount = isIncoming ? baseAmount : -baseAmount;\n    return {\n      ...tx,\n      reference: getReferenceCode(tx),\n      isIncoming,\n      signedAmount\n    };\n  });\n};\nconst createInitialOtpStatus = () => ({\n  sending: false,\n  sent: false,\n  expiresIn: null,\n  requestedAt: null\n});\nconst Dashboard = () => {\n  _s2();\n  var _userProfile$id, _profile$id, _fallbackPayload$id, _confirm$payload9, _confirm$payload0, _confirm$payload1, _insightData$lastTran;\n  const navigate = useNavigate();\n  const token = localStorage.getItem(\"token\");\n  const profile = useTokenProfile(token);\n  const {\n    language\n  } = usePreferences();\n  const text = dictionary[language] || dictionary.vi;\n  const [balance, setBalance] = useState(0);\n  const [transactions, setTransactions] = useState([]);\n  const [userProfile, setUserProfile] = useState(null);\n  const [profileLoading, setProfileLoading] = useState(false);\n  const [profileError, setProfileError] = useState(null);\n  const [depositAmount, setDepositAmount] = useState(\"\");\n  const [transferData, setTransferData] = useState({\n    toUsername: \"\",\n    amount: \"\",\n    description: \"\",\n    otp: \"\"\n  });\n  const [toast, setToast] = useState({\n    show: false,\n    type: \"success\",\n    message: \"\"\n  });\n  const [confirm, setConfirm] = useState({\n    show: false,\n    payload: null,\n    confirming: false\n  });\n  const [transferSuccess, setTransferSuccess] = useState({\n    show: false,\n    details: null\n  });\n  const [dataLoading, setDataLoading] = useState(false);\n  const [depositLoading, setDepositLoading] = useState(false);\n  const [transferLoading, setTransferLoading] = useState(false);\n  const [transferOtpStatus, setTransferOtpStatus] = useState(() => createInitialOtpStatus());\n  const [selectedTx, setSelectedTx] = useState(null);\n  const [showTxModal, setShowTxModal] = useState(false);\n  const [infoModal, setInfoModal] = useState({\n    show: false,\n    key: null\n  });\n  const [showBalance, setShowBalance] = useState(true);\n  const [otpErrorMessage, setOtpErrorMessage] = useState(null);\n  const [otpShake, setOtpShake] = useState(false);\n  const {\n    refresh: refreshNotifications\n  } = useContext(NotificationContext);\n  const fallbackPayload = useMemo(() => decodeTokenPayload(token), [token]);\n  const userProfileId = (_userProfile$id = userProfile === null || userProfile === void 0 ? void 0 : userProfile.id) !== null && _userProfile$id !== void 0 ? _userProfile$id : null;\n  const profileId = (_profile$id = profile === null || profile === void 0 ? void 0 : profile.id) !== null && _profile$id !== void 0 ? _profile$id : null;\n  const fallbackUserId = (_fallbackPayload$id = fallbackPayload === null || fallbackPayload === void 0 ? void 0 : fallbackPayload.id) !== null && _fallbackPayload$id !== void 0 ? _fallbackPayload$id : null;\n  const currentUserId = useMemo(() => {\n    const candidates = [userProfileId, profileId, fallbackUserId];\n    for (const candidate of candidates) {\n      const numeric = Number(candidate);\n      if (Number.isFinite(numeric)) {\n        return numeric;\n      }\n    }\n    return null;\n  }, [userProfileId, profileId, fallbackUserId]);\n  const currentUsername = useMemo(() => {\n    const candidates = [userProfile === null || userProfile === void 0 ? void 0 : userProfile.username, profile === null || profile === void 0 ? void 0 : profile.username, fallbackPayload === null || fallbackPayload === void 0 ? void 0 : fallbackPayload.username];\n    for (const candidate of candidates) {\n      if (typeof candidate === \"string\" && candidate.trim().length) {\n        return candidate;\n      }\n    }\n    return \"\";\n  }, [userProfile === null || userProfile === void 0 ? void 0 : userProfile.username, profile === null || profile === void 0 ? void 0 : profile.username, fallbackPayload === null || fallbackPayload === void 0 ? void 0 : fallbackPayload.username]);\n  const depositRef = useRef(null);\n  const transferRef = useRef(null);\n  const otpInputRef = useRef(null);\n  const otpShakeTimerRef = useRef(null);\n  const showToast = useCallback((type, serverMessage, fallbackMessage) => {\n    setToast({\n      show: true,\n      type,\n      message: localizeBackendMessage(language, serverMessage, fallbackMessage)\n    });\n  }, [language]);\n  useEffect(() => {\n    if (!token) {\n      navigate(\"/login\");\n    }\n  }, [token, navigate]);\n  useEffect(() => {\n    const timerRef = otpShakeTimerRef;\n    return () => {\n      const timerId = timerRef.current;\n      if (timerId) {\n        clearTimeout(timerId);\n      }\n    };\n  }, [otpShakeTimerRef]);\n  useEffect(() => {\n    let mounted = true;\n    const fetchHistory = async () => {\n      if (!token) return;\n      setDataLoading(true);\n      try {\n        var _res$data, _res$data2;\n        const res = await api.get(\"/api/transactions/history\");\n        if (!mounted) return;\n        setBalance(((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.balance) || 0);\n        setTransactions(decorateTransactions(((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.transactions) || [], currentUserId));\n      } catch (error) {\n        if (mounted) {\n          var _error$response, _error$response$data;\n          showToast(\"error\", (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error, language === \"vi\" ? \"Không thể tải lịch sử giao dịch\" : \"Unable to load history\");\n        }\n      } finally {\n        if (mounted) {\n          setDataLoading(false);\n        }\n      }\n    };\n    fetchHistory();\n    return () => {\n      mounted = false;\n    };\n  }, [token, language, currentUserId, showToast]);\n  useEffect(() => {\n    if (!token) return;\n    let cancelled = false;\n    const fetchProfile = async () => {\n      setProfileLoading(true);\n      try {\n        var _res$data3;\n        const res = await api.get(\"/api/auth/me\");\n        if (cancelled) return;\n        setUserProfile(((_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.user) || null);\n        setProfileError(null);\n      } catch (error) {\n        var _error$response2, _error$response2$data, _error$response3, _error$response3$data;\n        if (cancelled) return;\n        const message = localizeBackendMessage(language, (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error, language === \"vi\" ? \"Không thể tải hồ sơ người dùng\" : \"Unable to load user profile\");\n        setProfileError(message);\n        showToast(\"error\", (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error, message);\n      } finally {\n        if (!cancelled) {\n          setProfileLoading(false);\n        }\n      }\n    };\n    fetchProfile();\n    return () => {\n      cancelled = true;\n    };\n  }, [token, language, showToast]);\n  const handleDepositChange = event => {\n    setDepositAmount(event.target.value);\n  };\n  const handleTransferChange = event => {\n    const {\n      name\n    } = event.target;\n    const rawValue = event.target.value;\n    const sanitizedValue = name === \"otp\" ? rawValue.replace(/\\D/g, \"\").slice(0, 6) : rawValue;\n    const shouldResetOtp = name === \"toUsername\" || name === \"amount\";\n    setTransferData(current => ({\n      ...current,\n      [name]: sanitizedValue,\n      ...(shouldResetOtp ? {\n        otp: \"\"\n      } : {})\n    }));\n    if (shouldResetOtp) {\n      setTransferOtpStatus(createInitialOtpStatus());\n      setOtpErrorMessage(null);\n      setOtpShake(false);\n      if (otpShakeTimerRef.current) {\n        clearTimeout(otpShakeTimerRef.current);\n        otpShakeTimerRef.current = null;\n      }\n    }\n    if (name === \"otp\") {\n      setOtpErrorMessage(null);\n      setOtpShake(false);\n      if (otpShakeTimerRef.current) {\n        clearTimeout(otpShakeTimerRef.current);\n        otpShakeTimerRef.current = null;\n      }\n    }\n  };\n  const triggerOtpError = useCallback(message => {\n    setOtpErrorMessage(message);\n    setOtpShake(true);\n    if (otpShakeTimerRef.current) {\n      clearTimeout(otpShakeTimerRef.current);\n    }\n    otpShakeTimerRef.current = setTimeout(() => {\n      setOtpShake(false);\n      otpShakeTimerRef.current = null;\n    }, 450);\n    if (otpInputRef.current) {\n      otpInputRef.current.focus();\n    }\n  }, []);\n  const handleCopyReference = useCallback(async reference => {\n    if (!reference) return;\n    try {\n      const clipboardAvailable = typeof navigator !== \"undefined\" && navigator.clipboard && typeof navigator.clipboard.writeText === \"function\";\n      if (clipboardAvailable) {\n        await navigator.clipboard.writeText(reference);\n      } else if (typeof document !== \"undefined\") {\n        const tempInput = document.createElement(\"textarea\");\n        tempInput.value = reference;\n        tempInput.setAttribute(\"readonly\", \"\");\n        tempInput.style.position = \"absolute\";\n        tempInput.style.left = \"-9999px\";\n        document.body.appendChild(tempInput);\n        tempInput.select();\n        document.execCommand(\"copy\");\n        document.body.removeChild(tempInput);\n      } else {\n        throw new Error(\"Clipboard unavailable\");\n      }\n      showToast(\"success\", null, text.transferSuccessCopied);\n    } catch (error) {\n      showToast(\"error\", null, text.transferSuccessCopyFail);\n    }\n  }, [showToast, text.transferSuccessCopied, text.transferSuccessCopyFail]);\n  const handleRequestTransferOtp = async () => {\n    if (transferOtpStatus.sending) return;\n    const trimmedRecipient = transferData.toUsername.trim();\n    const amountValue = Number(transferData.amount);\n    if (!trimmedRecipient || !Number.isFinite(amountValue) || amountValue <= 0) {\n      showToast(\"error\", null, text.transferOtpIncomplete);\n      return;\n    }\n    setTransferData(current => ({\n      ...current,\n      otp: \"\"\n    }));\n    setTransferOtpStatus({\n      ...createInitialOtpStatus(),\n      sending: true\n    });\n    try {\n      var _res$data$expiresIn, _res$data4, _res$data5;\n      const res = await api.post(\"/api/transactions/transfer/request-otp\");\n      setTransferOtpStatus({\n        sending: false,\n        sent: true,\n        expiresIn: (_res$data$expiresIn = (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.expiresIn) !== null && _res$data$expiresIn !== void 0 ? _res$data$expiresIn : null,\n        requestedAt: Date.now()\n      });\n      showToast(\"success\", (_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : _res$data5.message, text.transferOtpSent);\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      setTransferOtpStatus(createInitialOtpStatus());\n      showToast(\"error\", (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error, text.transferFail);\n    }\n  };\n  const handleDepositSubmit = async event => {\n    event.preventDefault();\n    setDepositLoading(true);\n    try {\n      var _res$data6, _historyRes$data, _historyRes$data2;\n      const res = await api.post(\"/api/transactions/deposit\", {\n        amount: Number(depositAmount)\n      });\n      showToast(\"success\", (_res$data6 = res.data) === null || _res$data6 === void 0 ? void 0 : _res$data6.message, text.depositSuccess);\n      setDepositAmount(\"\");\n      const historyRes = await api.get(\"/api/transactions/history\");\n      setBalance(((_historyRes$data = historyRes.data) === null || _historyRes$data === void 0 ? void 0 : _historyRes$data.balance) || 0);\n      setTransactions(decorateTransactions(((_historyRes$data2 = historyRes.data) === null || _historyRes$data2 === void 0 ? void 0 : _historyRes$data2.transactions) || [], currentUserId));\n      await refreshNotifications().catch(() => {});\n    } catch (error) {\n      var _error$response5, _error$response5$data;\n      showToast(\"error\", (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.error, text.depositFail);\n    } finally {\n      setDepositLoading(false);\n    }\n  };\n  const handleTransferSubmit = event => {\n    event.preventDefault();\n    if (transferSuccess.show) {\n      setTransferSuccess({\n        show: false,\n        details: null\n      });\n    }\n    const trimmedRecipient = transferData.toUsername.trim();\n    const amountValue = Number(transferData.amount);\n    const sanitizedDescription = (transferData.description || \"\").trim();\n    const sanitizedOtp = (transferData.otp || \"\").trim();\n    if (!trimmedRecipient || !Number.isFinite(amountValue) || amountValue <= 0) {\n      showToast(\"error\", null, text.transferInvalid);\n      return;\n    }\n    if (!sanitizedOtp) {\n      triggerOtpError(text.transferOtpMissing);\n      showToast(\"error\", null, text.transferOtpMissing);\n      return;\n    }\n    if (!/^\\d{6}$/.test(sanitizedOtp)) {\n      triggerOtpError(text.transferOtpInvalid);\n      showToast(\"error\", null, text.transferOtpInvalid);\n      return;\n    }\n    setOtpErrorMessage(null);\n    setOtpShake(false);\n    setConfirm({\n      show: true,\n      payload: {\n        toUsername: trimmedRecipient,\n        amountValue,\n        amountLabel: formatCurrency(amountValue),\n        description: sanitizedDescription,\n        otp: sanitizedOtp\n      },\n      confirming: false\n    });\n  };\n  const confirmTransfer = async () => {\n    setConfirm(curr => ({\n      ...curr,\n      confirming: true\n    }));\n    setTransferLoading(true);\n    try {\n      var _confirm$payload, _confirm$payload2, _confirm$payload3, _confirm$payload4, _res$data7, _res$data8, _ref, _transferResponse$amo, _confirm$payload5, _confirm$payload6, _confirm$payload7, _confirm$payload8, _historyRes$data3, _historyRes$data4;\n      const payload = {\n        toUsername: (_confirm$payload = confirm.payload) === null || _confirm$payload === void 0 ? void 0 : _confirm$payload.toUsername,\n        amount: (_confirm$payload2 = confirm.payload) === null || _confirm$payload2 === void 0 ? void 0 : _confirm$payload2.amountValue,\n        description: ((_confirm$payload3 = confirm.payload) === null || _confirm$payload3 === void 0 ? void 0 : _confirm$payload3.description) || \"\",\n        otp: (_confirm$payload4 = confirm.payload) === null || _confirm$payload4 === void 0 ? void 0 : _confirm$payload4.otp\n      };\n      const res = await api.post(\"/api/transactions/transfer\", payload);\n      showToast(\"success\", (_res$data7 = res.data) === null || _res$data7 === void 0 ? void 0 : _res$data7.message, text.transferSuccess);\n      const transferResponse = ((_res$data8 = res.data) === null || _res$data8 === void 0 ? void 0 : _res$data8.transfer) || null;\n      const numericAmount = Number((_ref = (_transferResponse$amo = transferResponse === null || transferResponse === void 0 ? void 0 : transferResponse.amount) !== null && _transferResponse$amo !== void 0 ? _transferResponse$amo : (_confirm$payload5 = confirm.payload) === null || _confirm$payload5 === void 0 ? void 0 : _confirm$payload5.amountValue) !== null && _ref !== void 0 ? _ref : payload.amount);\n      const resolvedReference = getReferenceCode({\n        id: transferResponse === null || transferResponse === void 0 ? void 0 : transferResponse.id,\n        createdAt: (transferResponse === null || transferResponse === void 0 ? void 0 : transferResponse.createdAt) || new Date().toISOString(),\n        amount: numericAmount,\n        type: \"transfer\",\n        status: (transferResponse === null || transferResponse === void 0 ? void 0 : transferResponse.status) || \"completed\",\n        description: (transferResponse === null || transferResponse === void 0 ? void 0 : transferResponse.description) || ((_confirm$payload6 = confirm.payload) === null || _confirm$payload6 === void 0 ? void 0 : _confirm$payload6.description) || \"\",\n        referenceCode: transferResponse === null || transferResponse === void 0 ? void 0 : transferResponse.reference\n      });\n      setTransferSuccess({\n        show: true,\n        details: {\n          reference: (transferResponse === null || transferResponse === void 0 ? void 0 : transferResponse.reference) || resolvedReference,\n          amountLabel: formatSignedCurrency(-Math.abs(numericAmount)),\n          sender: (transferResponse === null || transferResponse === void 0 ? void 0 : transferResponse.fromUsername) || currentUsername || \"\",\n          recipient: (transferResponse === null || transferResponse === void 0 ? void 0 : transferResponse.toUsername) || ((_confirm$payload7 = confirm.payload) === null || _confirm$payload7 === void 0 ? void 0 : _confirm$payload7.toUsername) || payload.toUsername,\n          createdAt: (transferResponse === null || transferResponse === void 0 ? void 0 : transferResponse.createdAt) || new Date().toISOString(),\n          description: (transferResponse === null || transferResponse === void 0 ? void 0 : transferResponse.description) || ((_confirm$payload8 = confirm.payload) === null || _confirm$payload8 === void 0 ? void 0 : _confirm$payload8.description) || \"\"\n        }\n      });\n      setTransferData({\n        toUsername: \"\",\n        amount: \"\",\n        description: \"\",\n        otp: \"\"\n      });\n      setTransferOtpStatus(createInitialOtpStatus());\n      const historyRes = await api.get(\"/api/transactions/history\");\n      setBalance(((_historyRes$data3 = historyRes.data) === null || _historyRes$data3 === void 0 ? void 0 : _historyRes$data3.balance) || 0);\n      setTransactions(decorateTransactions(((_historyRes$data4 = historyRes.data) === null || _historyRes$data4 === void 0 ? void 0 : _historyRes$data4.transactions) || [], currentUserId));\n      await refreshNotifications().catch(() => {});\n    } catch (error) {\n      var _error$response6, _error$response6$data;\n      const serverError = (_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.error;\n      if (serverError !== null && serverError !== void 0 && serverError.includes(\"OTP\")) {\n        setTransferOtpStatus(createInitialOtpStatus());\n        setTransferData(curr => ({\n          ...curr,\n          otp: \"\"\n        }));\n        triggerOtpError(localizeBackendMessage(language, serverError, text.transferOtpInvalid));\n      }\n      showToast(\"error\", serverError, text.transferFail);\n    } finally {\n      setTransferLoading(false);\n      setConfirm({\n        show: false,\n        payload: null,\n        confirming: false\n      });\n    }\n  };\n  const formatCurrency = useCallback(amount => {\n    const locale = language === \"vi\" ? \"vi-VN\" : \"en-US\";\n    return Number(amount || 0).toLocaleString(locale, {\n      style: \"currency\",\n      currency: \"VND\"\n    });\n  }, [language]);\n  const formatSignedCurrency = useCallback(value => {\n    const numeric = Number(value || 0);\n    const prefix = numeric >= 0 ? \"+\" : \"-\";\n    return `${prefix}${formatCurrency(Math.abs(numeric))}`;\n  }, [formatCurrency]);\n  const insightData = useMemo(() => {\n    if (!transactions.length) {\n      return {\n        monthlyIncoming: 0,\n        monthlyOutgoing: 0,\n        pendingCount: 0,\n        lastTransaction: null\n      };\n    }\n    const now = new Date();\n    const currentMonth = now.getMonth();\n    const currentYear = now.getFullYear();\n    const monthly = transactions.filter(tx => {\n      const created = new Date(tx.createdAt);\n      return created.getMonth() === currentMonth && created.getFullYear() === currentYear;\n    });\n    const monthlyIncoming = monthly.filter(tx => tx.isIncoming).reduce((total, tx) => {\n      var _tx$signedAmount;\n      return total + Math.abs((_tx$signedAmount = tx.signedAmount) !== null && _tx$signedAmount !== void 0 ? _tx$signedAmount : Number(tx.amount || 0));\n    }, 0);\n    const monthlyOutgoing = monthly.filter(tx => !tx.isIncoming).reduce((total, tx) => {\n      var _tx$signedAmount2;\n      return total + Math.abs((_tx$signedAmount2 = tx.signedAmount) !== null && _tx$signedAmount2 !== void 0 ? _tx$signedAmount2 : Number(tx.amount || 0));\n    }, 0);\n    const pendingCount = transactions.filter(tx => tx.status === \"pending\").length;\n    return {\n      monthlyIncoming,\n      monthlyOutgoing,\n      pendingCount,\n      lastTransaction: transactions[0] || null\n    };\n  }, [transactions]);\n  const advancedInsights = useMemo(() => {\n    if (!transactions.length) {\n      return {\n        successRate: 100,\n        completed: 0,\n        failed: 0,\n        averageTicket: 0,\n        largestTx: null\n      };\n    }\n    const completedTx = transactions.filter(tx => tx.status === \"completed\");\n    const failedTx = transactions.filter(tx => tx.status === \"failed\");\n    const successRate = completedTx.length + failedTx.length === 0 ? 100 : completedTx.length / (completedTx.length + failedTx.length) * 100;\n    const averageTicket = completedTx.length === 0 ? 0 : completedTx.reduce((sum, tx) => {\n      var _tx$signedAmount3;\n      return sum + Math.abs((_tx$signedAmount3 = tx.signedAmount) !== null && _tx$signedAmount3 !== void 0 ? _tx$signedAmount3 : Number(tx.amount || 0));\n    }, 0) / completedTx.length;\n    const largestTx = transactions.reduce((largest, tx) => {\n      var _tx$signedAmount4;\n      const amount = Math.abs((_tx$signedAmount4 = tx.signedAmount) !== null && _tx$signedAmount4 !== void 0 ? _tx$signedAmount4 : Number(tx.amount || 0));\n      if (!largest || amount > largest.amount) {\n        return {\n          ...tx,\n          amount\n        };\n      }\n      return largest;\n    }, null);\n    return {\n      successRate,\n      completed: completedTx.length,\n      failed: failedTx.length,\n      averageTicket,\n      largestTx\n    };\n  }, [transactions]);\n  const netChange = useMemo(() => insightData.monthlyIncoming - insightData.monthlyOutgoing, [insightData]);\n  const heroMetrics = useMemo(() => [{\n    key: \"incoming\",\n    label: text.analyticsIncoming,\n    value: insightData.monthlyIncoming,\n    tone: \"positive\",\n    caption: language === \"vi\" ? \"Tổng tiền nhận trong kỳ\" : \"Total inbound this month\"\n  }, {\n    key: \"outgoing\",\n    label: text.analyticsOutgoing,\n    value: insightData.monthlyOutgoing,\n    tone: \"negative\",\n    caption: language === \"vi\" ? \"Tổng tiền chi trong kỳ\" : \"Total outbound this month\"\n  }, {\n    key: \"pending\",\n    label: text.analyticsPending,\n    value: insightData.pendingCount,\n    tone: \"neutral\",\n    caption: text.transactionsFollow\n  }], [insightData, text, language]);\n  const recentTransactions = useMemo(() => transactions.slice(0, 6), [transactions]);\n  const dailyStats = useMemo(() => {\n    const today = new Date();\n    const template = Array.from({\n      length: 7\n    }).map((_, index) => {\n      const date = new Date(today);\n      date.setDate(today.getDate() - (6 - index));\n      return {\n        key: date.toISOString(),\n        date,\n        incoming: 0,\n        outgoing: 0,\n        label: date.toLocaleDateString(language === \"vi\" ? \"vi-VN\" : \"en-US\", {\n          weekday: \"short\"\n        }),\n        tooltip: date.toLocaleDateString(language === \"vi\" ? \"vi-VN\" : \"en-US\", {\n          weekday: \"long\",\n          day: \"2-digit\",\n          month: \"2-digit\"\n        })\n      };\n    });\n    if (!transactions.length) {\n      return template;\n    }\n    const buckets = template.reduce((acc, item) => {\n      acc[item.date.toDateString()] = item;\n      return acc;\n    }, {});\n    transactions.forEach(tx => {\n      var _tx$signedAmount5;\n      const created = new Date(tx.createdAt);\n      const bucket = buckets[created.toDateString()];\n      if (!bucket) return;\n      const amount = Math.abs((_tx$signedAmount5 = tx.signedAmount) !== null && _tx$signedAmount5 !== void 0 ? _tx$signedAmount5 : Number(tx.amount || 0));\n      if (tx.isIncoming) {\n        bucket.incoming += amount;\n      } else {\n        bucket.outgoing += amount;\n      }\n    });\n    return template;\n  }, [transactions, language]);\n  const chartMax = useMemo(() => {\n    const values = dailyStats.flatMap(item => [item.incoming, item.outgoing]);\n    const max = Math.max(...values, 0);\n    return max === 0 ? 1 : max;\n  }, [dailyStats]);\n  const handleQuickAction = useCallback(action => {\n    if (action.key === \"deposit\") {\n      var _depositRef$current;\n      (_depositRef$current = depositRef.current) === null || _depositRef$current === void 0 ? void 0 : _depositRef$current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"center\"\n      });\n      return;\n    }\n    if (action.key === \"transfer\") {\n      var _transferRef$current;\n      (_transferRef$current = transferRef.current) === null || _transferRef$current === void 0 ? void 0 : _transferRef$current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"center\"\n      });\n      return;\n    }\n    setInfoModal({\n      show: true,\n      key: action.key\n    });\n  }, []);\n  const closeInfoModal = useCallback(() => {\n    setInfoModal({\n      show: false,\n      key: null\n    });\n  }, []);\n  const formatTimestamp = useCallback(timestamp => new Date(timestamp).toLocaleString(language === \"vi\" ? \"vi-VN\" : \"en-US\", {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    day: \"2-digit\",\n    month: \"2-digit\"\n  }), [language]);\n  const statusLabel = status => {\n    if (status === \"completed\") return text.statusCompleted;\n    if (status === \"pending\") return text.statusPending;\n    return text.statusFailed;\n  };\n  const transactionLabel = type => {\n    if (type === \"deposit\") return text.transactionType.deposit;\n    if (type === \"transfer\") return text.transactionType.transfer;\n    return text.transactionType.fallback;\n  };\n  const toggleBalance = () => setShowBalance(prev => !prev);\n  const modalCopy = infoModal.key ? text.quickActions[infoModal.key] : null;\n  const heroName = useMemo(() => {\n    return (userProfile === null || userProfile === void 0 ? void 0 : userProfile.fullName) || (userProfile === null || userProfile === void 0 ? void 0 : userProfile.name) || (userProfile === null || userProfile === void 0 ? void 0 : userProfile.username) || (profile === null || profile === void 0 ? void 0 : profile.displayName) || (language === \"vi\" ? \"Người dùng\" : \"User\");\n  }, [userProfile, profile, language]);\n  const avatarInitial = useMemo(() => {\n    if (!heroName) return null;\n    return heroName.trim().charAt(0).toUpperCase();\n  }, [heroName]);\n  const heroIdentifier = useMemo(() => {\n    const source = (userProfile === null || userProfile === void 0 ? void 0 : userProfile.email) || (userProfile === null || userProfile === void 0 ? void 0 : userProfile.username) || (profile === null || profile === void 0 ? void 0 : profile.email) || (profile === null || profile === void 0 ? void 0 : profile.username) || \"\";\n    return source ? maskIdentifier(source) : \"\";\n  }, [userProfile, profile]);\n  const profileRoleLabel = useMemo(() => {\n    if (!(userProfile !== null && userProfile !== void 0 && userProfile.role)) return text.profileRoleUser;\n    if (userProfile.role === \"admin\") return text.profileRoleAdmin;\n    if (userProfile.role === \"staff\") return text.profileRoleStaff;\n    return text.profileRoleUser;\n  }, [userProfile, text]);\n  const formatPercent = useCallback(value => {\n    const locale = language === \"vi\" ? \"vi-VN\" : \"en-US\";\n    return Number(value / 100).toLocaleString(locale, {\n      style: \"percent\",\n      minimumFractionDigits: 1,\n      maximumFractionDigits: 1\n    });\n  }, [language]);\n  const confirmAmountLabel = (_confirm$payload9 = confirm.payload) === null || _confirm$payload9 === void 0 ? void 0 : _confirm$payload9.amountLabel;\n  const confirmTitle = confirm.payload ? language === \"vi\" ? `Xác nhận chuyển ${confirmAmountLabel || \"\"}` : `Confirm transfer of ${confirmAmountLabel || \"\"}` : \"\";\n  const confirmBodyIntro = confirm.payload ? language === \"vi\" ? `Bạn sẽ chuyển ${confirmAmountLabel} tới ${confirm.payload.toUsername}.` : `You are about to send ${confirmAmountLabel} to ${confirm.payload.toUsername}.` : \"\";\n  const confirmNoteLabel = language === \"vi\" ? \"Ghi chú\" : \"Note\";\n  const confirmPrompt = language === \"vi\" ? \"Bạn có chắc chắn muốn tiếp tục?\" : \"Are you sure you want to continue?\";\n  const otpInputClasses = [\"form-control\", otpErrorMessage ? \"is-invalid\" : \"\", otpShake ? \"field-animate-shake\" : \"\"].filter(Boolean).join(\" \");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-page\",\n    children: [/*#__PURE__*/_jsxDEV(InfoModal, {\n      show: infoModal.show,\n      title: (modalCopy === null || modalCopy === void 0 ? void 0 : modalCopy.label) || \"\",\n      description: (modalCopy === null || modalCopy === void 0 ? void 0 : modalCopy.description) || \"\",\n      primaryLabel: text.modalDismiss,\n      onClose: closeInfoModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TransferSuccessModal, {\n      show: transferSuccess.show,\n      details: transferSuccess.details,\n      onClose: () => setTransferSuccess({\n        show: false,\n        details: null\n      }),\n      onCopy: handleCopyReference,\n      text: text,\n      language: language\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmModal, {\n      show: confirm.show,\n      title: confirmTitle,\n      body: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: confirmBodyIntro\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1210,\n          columnNumber: 13\n        }, this), ((_confirm$payload0 = confirm.payload) === null || _confirm$payload0 === void 0 ? void 0 : _confirm$payload0.description) && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-0\",\n          children: [confirmNoteLabel, \": \", confirm.payload.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1212,\n          columnNumber: 15\n        }, this), ((_confirm$payload1 = confirm.payload) === null || _confirm$payload1 === void 0 ? void 0 : _confirm$payload1.otp) && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-0\",\n          children: [\"OTP: \", /*#__PURE__*/_jsxDEV(\"code\", {\n            children: confirm.payload.otp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1218,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1217,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: confirmPrompt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1221,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1209,\n        columnNumber: 11\n      }, this),\n      onConfirm: confirmTransfer,\n      onCancel: () => setConfirm({\n        show: false,\n        payload: null,\n        confirming: false\n      }),\n      confirming: confirm.confirming\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toast, {\n      show: toast.show,\n      type: toast.type,\n      message: toast.message,\n      onClose: () => setToast(curr => ({\n        ...curr,\n        show: false\n      }))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"dashboard-hero gradient-card mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-hero__grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-hero__main\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hero-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hero-avatar\",\n              children: avatarInitial ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"hero-avatar__initial\",\n                children: avatarInitial\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1244,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-person-fill\",\n                \"aria-hidden\": true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1246,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"hero-subheading\",\n                children: text.greeting\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"hero-title\",\n                children: heroName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1251,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"hero-caption\",\n                children: [text.heroCaption, heroIdentifier && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\" · \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"hero-caption__meta\",\n                    children: heroIdentifier\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1257,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1252,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1249,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hero-balance\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hero-balance__label\",\n              children: text.balanceLabel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1266,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hero-balance__value\",\n              children: showBalance ? formatCurrency(balance) : \"•••••••• VND\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hero-balance__trend\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: netChange >= 0 ? \"trend-positive\" : \"trend-negative\",\n                children: formatSignedCurrency(netChange)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1271,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: text.netChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1278,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"hero-balance__toggle\",\n              onClick: toggleBalance,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: `bi ${showBalance ? \"bi-eye-slash\" : \"bi-eye\"} me-2`,\n                \"aria-hidden\": true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1285,\n                columnNumber: 17\n              }, this), showBalance ? text.hideBalance : text.showBalance]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1280,\n              columnNumber: 15\n            }, this), dataLoading && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge bg-light text-primary mt-2\",\n              children: text.syncing\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1294,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hero-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-light hero-action\",\n              onClick: () => handleQuickAction({\n                key: \"transfer\"\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-arrow-left-right me-2\",\n                \"aria-hidden\": true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1305,\n                columnNumber: 17\n              }, this), text.quickTransfer]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1300,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-outline-light hero-action\",\n              onClick: () => navigate(\"/notifications\"),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-bell me-2\",\n                \"aria-hidden\": true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1313,\n                columnNumber: 17\n              }, this), text.quickViewNotifications]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1308,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hero-meta\",\n            children: [profileLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hero-meta__item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-arrow-repeat\",\n                \"aria-hidden\": true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1320,\n                columnNumber: 19\n              }, this), text.profileLoading]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1319,\n              columnNumber: 17\n            }, this), profileError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hero-meta__item text-warning\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-exclamation-triangle\",\n                \"aria-hidden\": true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1326,\n                columnNumber: 19\n              }, this), profileError]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1325,\n              columnNumber: 17\n            }, this), insightData.lastTransaction ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hero-meta__item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-lightning-charge-fill\",\n                \"aria-hidden\": true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1332,\n                columnNumber: 19\n              }, this), text.lastActivityPrefix, \" \\xB7\", \" \", formatTimestamp(insightData.lastTransaction.createdAt), \" \\xB7\", \" \", transactionLabel(insightData.lastTransaction.type), \" \", formatSignedCurrency((_insightData$lastTran = insightData.lastTransaction.signedAmount) !== null && _insightData$lastTran !== void 0 ? _insightData$lastTran : insightData.lastTransaction.amount)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1331,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hero-meta__item\",\n              children: text.lastActivityEmpty\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1342,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hero-meta__item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-shield-lock\",\n                \"aria-hidden\": true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1345,\n                columnNumber: 17\n              }, this), profileRoleLabel]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1344,\n              columnNumber: 15\n            }, this), (userProfile === null || userProfile === void 0 ? void 0 : userProfile.email) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hero-meta__item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-envelope-open\",\n                \"aria-hidden\": true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1350,\n                columnNumber: 19\n              }, this), text.profileEmailLabel, \": \", maskIdentifier(userProfile.email)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1349,\n              columnNumber: 17\n            }, this), (userProfile === null || userProfile === void 0 ? void 0 : userProfile.username) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hero-meta__item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-person-badge\",\n                \"aria-hidden\": true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1356,\n                columnNumber: 19\n              }, this), text.profileUsernameLabel, \":\", \" \", maskIdentifier(userProfile.username)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1355,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1317,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-hero__side\",\n          children: heroMetrics.map(metric => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `hero-metric hero-metric--${metric.tone}`,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hero-metric__label\",\n              children: metric.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1369,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hero-metric__value\",\n              children: metric.key === \"pending\" ? `${metric.value} ${language === \"vi\" ? \"giao dịch\" : \"tx\"}` : formatCurrency(metric.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1370,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"hero-metric__caption\",\n              children: metric.caption\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1377,\n              columnNumber: 17\n            }, this)]\n          }, metric.key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1365,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1239,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1238,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm quick-actions-card mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"mb-0\",\n            children: text.quickActionsTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1387,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"text-muted\",\n            children: text.quickActionsSubtitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1388,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge bg-primary-subtle text-primary\",\n          children: \"Digital Banking\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1390,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1385,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row row-cols-2 row-cols-md-4 g-3\",\n          children: quickActionCatalog.map(action => {\n            const copy = text.quickActions[action.key];\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `quick-action-tile ${action.accent}`,\n                onClick: () => handleQuickAction(action),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"quick-action-tile__icon\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: `bi ${action.icon}`,\n                    \"aria-hidden\": true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1406,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1405,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"quick-action-tile__content\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"quick-action-tile__label\",\n                    children: copy === null || copy === void 0 ? void 0 : copy.label\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1409,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"quick-action-tile__tagline\",\n                    children: copy === null || copy === void 0 ? void 0 : copy.tagline\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1412,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1408,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1400,\n                columnNumber: 19\n              }, this)\n            }, action.key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1399,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1395,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1394,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1384,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row g-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-xl-7\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card shadow-sm mb-4\",\n          ref: depositRef,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header d-flex justify-content-between align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0\",\n              children: text.depositTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1428,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge bg-primary-subtle text-primary\",\n              children: text.depositLimit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1429,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1427,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleDepositSubmit,\n              className: \"form-stacked\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-floating\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"depositAmount\",\n                  name: \"depositAmount\",\n                  type: \"number\",\n                  min: \"1000\",\n                  step: \"1000\",\n                  value: depositAmount,\n                  onChange: handleDepositChange,\n                  className: \"form-control\",\n                  placeholder: text.depositPlaceholder,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1436,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"depositAmount\",\n                  children: text.depositPlaceholder\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1448,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1435,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                disabled: depositLoading,\n                children: depositLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"spinner-border spinner-border-sm me-2\",\n                    role: \"status\",\n                    \"aria-hidden\": true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1459,\n                    columnNumber: 23\n                  }, this), text.processing]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-wallet2 me-2\",\n                    \"aria-hidden\": true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1468,\n                    columnNumber: 23\n                  }, this), text.submitDeposit]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1452,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1434,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1433,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1426,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card shadow-sm\",\n          ref: transferRef,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0\",\n              children: text.transferTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1479,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1478,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleTransferSubmit,\n              className: \"form-stacked\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row g-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12 col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-floating\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      id: \"toUsername\",\n                      name: \"toUsername\",\n                      value: transferData.toUsername,\n                      onChange: handleTransferChange,\n                      className: \"form-control\",\n                      placeholder: text.transferAccount,\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1486,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"toUsername\",\n                      children: text.transferAccount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1495,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1485,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1484,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12 col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-floating\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      id: \"transferAmount\",\n                      name: \"amount\",\n                      type: \"number\",\n                      min: \"1000\",\n                      step: \"1000\",\n                      value: transferData.amount,\n                      onChange: handleTransferChange,\n                      className: \"form-control\",\n                      placeholder: text.transferAmount,\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1500,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"transferAmount\",\n                      children: text.transferAmount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1512,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1499,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1498,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-floating\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      id: \"transferDescription\",\n                      name: \"description\",\n                      value: transferData.description,\n                      onChange: handleTransferChange,\n                      className: \"form-control\",\n                      placeholder: text.transferNote\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1519,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"transferDescription\",\n                      children: text.transferNote\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1527,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1518,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1517,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row g-2 align-items-end\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-12 col-sm-7\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-floating\",\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          id: \"transferOtp\",\n                          name: \"otp\",\n                          inputMode: \"numeric\",\n                          maxLength: 6,\n                          autoComplete: \"one-time-code\",\n                          value: transferData.otp,\n                          onChange: handleTransferChange,\n                          className: \"form-control\",\n                          placeholder: text.transferOtpPlaceholder\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1536,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                          htmlFor: \"transferOtp\",\n                          children: text.transferOtpLabel\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1547,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1535,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1534,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-12 col-sm-5\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-outline-primary w-100\",\n                        onClick: handleRequestTransferOtp,\n                        disabled: transferOtpStatus.sending || transferLoading,\n                        children: transferOtpStatus.sending ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"spinner-border spinner-border-sm me-2\",\n                            role: \"status\",\n                            \"aria-hidden\": true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1563,\n                            columnNumber: 31\n                          }, this), text.transferOtpRequesting]\n                        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"bi bi-shield-lock me-2\",\n                            \"aria-hidden\": true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1572,\n                            columnNumber: 31\n                          }, this), transferOtpStatus.sent ? text.transferOtpResend : text.transferOtpRequest]\n                        }, void 0, true)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1553,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1552,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1533,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted d-block mt-2\",\n                    children: text.transferOtpHint\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1584,\n                    columnNumber: 21\n                  }, this), transferOtpStatus.sent && /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-success d-block\",\n                    children: text.transferOtpSent\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1588,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1532,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1483,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary mt-3\",\n                disabled: transferLoading,\n                children: transferLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"spinner-border spinner-border-sm me-2\",\n                    role: \"status\",\n                    \"aria-hidden\": true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1601,\n                    columnNumber: 23\n                  }, this), text.processing]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-send me-2\",\n                    \"aria-hidden\": true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1610,\n                    columnNumber: 23\n                  }, this), text.submitTransfer]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1594,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1482,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1481,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1477,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1425,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-xl-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card shadow-sm mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header d-flex justify-content-between align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0\",\n              children: text.analyticsTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1623,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `balance-chip ${netChange >= 0 ? \"balance-chip--up\" : \"balance-chip--down\"}`,\n              children: [netChange >= 0 ? text.badgeUp : text.badgeDown, \" \", formatCurrency(Math.abs(netChange))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1624,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1622,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"insight-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"insight-label text-muted\",\n                  children: text.analyticsIncoming\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1636,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-value text-success\",\n                  children: formatCurrency(insightData.monthlyIncoming)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1639,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1635,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"insight-label text-muted\",\n                  children: text.analyticsOutgoing\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1644,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-value text-danger\",\n                  children: formatCurrency(insightData.monthlyOutgoing)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1647,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1643,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"insight-label text-muted\",\n                  children: text.analyticsPending\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1652,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-value\",\n                  children: [insightData.pendingCount, \" \", language === \"vi\" ? \"giao dịch\" : \"tx\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1655,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1651,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1634,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"insight-flush\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-flush__item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"insight-label text-muted\",\n                  children: text.analyticsSuccessRate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1663,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-flush__value\",\n                  children: formatPercent(advancedInsights.successRate)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1666,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: language === \"vi\" ? `${advancedInsights.completed} hoàn tất / ${advancedInsights.failed} lỗi` : `${advancedInsights.completed} completed / ${advancedInsights.failed} failed`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1669,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1662,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-flush__item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"insight-label text-muted\",\n                  children: text.analyticsAvgTicket\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1676,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-flush__value text-primary\",\n                  children: formatCurrency(advancedInsights.averageTicket)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1679,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: language === \"vi\" ? \"Giá trị trung bình giao dịch hoàn tất\" : \"Average settled transaction value\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1682,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1675,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-flush__item insight-flush__item--wide\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"insight-label text-muted\",\n                  children: text.analyticsLargest\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1689,\n                  columnNumber: 19\n                }, this), advancedInsights.largestTx ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"insight-flush__value text-success\",\n                    children: formatCurrency(advancedInsights.largestTx.amount)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1694,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: [transactionLabel(advancedInsights.largestTx.type), \" \\xB7\", \" \", formatTimestamp(advancedInsights.largestTx.createdAt), \" \", \"\\xB7 \", advancedInsights.largestTx.reference]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1697,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: text.analyticsNoData\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1704,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1688,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1661,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 p-3 bg-light rounded\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-1 fw-semibold\",\n                children: text.analyticsSecurity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1709,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: text.analyticsSecurityNote\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1710,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1708,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1633,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1621,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card shadow-sm mb-4 chart-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header d-flex justify-content-between align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0\",\n              children: text.chartTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1719,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-legend\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"legend-dot legend-dot--in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1721,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: text.chartLegendIn\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1722,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"legend-dot legend-dot--out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1723,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: text.chartLegendOut\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1724,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1720,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1718,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-bars\",\n              children: dailyStats.map(day => {\n                const incomeHeight = Math.max(4, Math.round(day.incoming / chartMax * 100));\n                const expenseHeight = Math.max(4, Math.round(day.outgoing / chartMax * 100));\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chart-bars__column\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"chart-bars__stack\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"chart-bar chart-bar--incoming\",\n                      style: {\n                        height: `${incomeHeight}%`\n                      },\n                      title: `${text.chartLegendIn} ${formatCurrency(day.incoming)} · ${day.tooltip}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1741,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"chart-bar chart-bar--outgoing\",\n                      style: {\n                        height: `${expenseHeight}%`\n                      },\n                      title: `${text.chartLegendOut} ${formatCurrency(day.outgoing)} · ${day.tooltip}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1748,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1740,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"chart-bars__label\",\n                    children: day.label\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1756,\n                    columnNumber: 23\n                  }, this)]\n                }, day.key, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1739,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1728,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1727,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1717,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card shadow-sm security-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0\",\n              children: language === \"vi\" ? \"Bảo mật đa lớp\" : \"Multi-layer security\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1766,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1765,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"security-card__content\",\n              children: /*#__PURE__*/_jsxDEV(MfaSetup, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1772,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1771,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1770,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1764,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1620,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1424,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-0\",\n          children: text.recentTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1781,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-muted\",\n          children: text.recentSubtitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1782,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1780,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-group list-group-flush\",\n        children: recentTransactions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list-group-item text-muted text-center py-4\",\n          children: text.recentEmpty\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1786,\n          columnNumber: 13\n        }, this) : recentTransactions.map(tx => {\n          var _tx$signedAmount6;\n          const label = transactionLabel(tx.type);\n          const statusText = statusLabel(tx.status);\n          const statusClass = statusText === text.statusCompleted ? \"badge bg-success-subtle text-success\" : statusText === text.statusPending ? \"badge bg-warning-subtle text-warning\" : \"badge bg-danger-subtle text-danger\";\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"list-group-item list-group-item-action d-flex justify-content-between align-items-center\",\n            onClick: () => {\n              setSelectedTx(tx);\n              setShowTxModal(true);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `transaction-icon ${tx.type}`,\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: `bi ${tx.type === \"deposit\" ? \"bi-arrow-down-circle\" : \"bi-arrow-up-circle\"}`,\n                  \"aria-hidden\": true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1811,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1810,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"fw-semibold\",\n                  children: [label, \" \\xB7 \", tx.reference]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1821,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: [maskAccount(tx.fromUsername), \" \\u2192\", \" \", maskAccount(tx.toUsername), \" \\xB7\", \" \", formatTimestamp(tx.createdAt)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1824,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1820,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1809,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-end\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: tx.isIncoming ? \"text-success\" : \"text-danger\",\n                children: [tx.isIncoming ? \"+\" : \"-\", formatCurrency(Math.abs((_tx$signedAmount6 = tx.signedAmount) !== null && _tx$signedAmount6 !== void 0 ? _tx$signedAmount6 : Number(tx.amount || 0)))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1832,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: statusClass,\n                children: statusText\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1840,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1831,\n              columnNumber: 19\n            }, this)]\n          }, tx.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1800,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1784,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1779,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TransactionDetailsModal, {\n      tx: selectedTx,\n      show: showTxModal,\n      onClose: () => setShowTxModal(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1849,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1187,\n    columnNumber: 5\n  }, this);\n};\n_s2(Dashboard, \"/pLMDOR8Ia9BrkCOtkXHKNsotMo=\", false, function () {\n  return [useNavigate, useTokenProfile, usePreferences];\n});\n_c2 = Dashboard;\nexport default Dashboard;\nvar _c, _c2;\n$RefreshReg$(_c, \"InfoModal\");\n$RefreshReg$(_c2, \"Dashboard\");","map":{"version":3,"names":["React","useCallback","useContext","useEffect","useMemo","useRef","useState","useNavigate","api","ConfirmModal","Toast","MfaSetup","TransactionDetailsModal","TransferSuccessModal","NotificationContext","usePreferences","getReferenceCode","decodeTokenPayload","localizeBackendMessage","jsxDEV","_jsxDEV","Fragment","_Fragment","dictionary","vi","greeting","heroCaption","balanceLabel","hideBalance","showBalance","netChange","lastActivityPrefix","lastActivityEmpty","quickActionsTitle","quickActionsSubtitle","modalDismiss","quickTransfer","quickViewNotifications","quickActions","transfer","label","tagline","description","deposit","mobile","bill","travel","invest","support","promo","depositTitle","depositLimit","depositPlaceholder","submitDeposit","transferTitle","transferAccount","transferAmount","transferNote","submitTransfer","transferOtpLabel","transferOtpPlaceholder","transferOtpHint","transferOtpSent","transferOtpDevLabel","transferOtpMissing","transferOtpInvalid","transferOtpRequesting","transferOtpIncomplete","transferOtpRequest","transferOtpResend","transferInvalid","processing","syncing","depositSuccess","depositFail","transferSuccess","transferFail","transferSuccessTitle","transferSuccessSubtitle","transferSuccessReferenceLabel","transferSuccessAmountLabel","transferSuccessSenderLabel","transferSuccessRecipientLabel","transferSuccessTimeLabel","transferSuccessNoteLabel","transferSuccessCopy","transferSuccessCopied","transferSuccessClose","transferSuccessCopyFail","analyticsTitle","analyticsIncoming","analyticsOutgoing","analyticsPending","analyticsSecurity","analyticsSecurityNote","chartTitle","chartLegendIn","chartLegendOut","statusCompleted","statusPending","statusFailed","recentTitle","recentSubtitle","recentEmpty","transactionType","fallback","badgeUp","badgeDown","transactionsFollow","analyticsSuccessRate","analyticsFailed","analyticsAvgTicket","analyticsLargest","analyticsNoData","profileLoading","profileRoleAdmin","profileRoleUser","profileRoleStaff","profileMissing","profileEmailLabel","profileUsernameLabel","en","quickActionCatalog","key","icon","accent","maskAccount","value","length","slice","maskIdentifier","includes","local","domain","split","InfoModal","show","title","primaryLabel","onClose","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","useTokenProfile","token","_s","_payload$email","payload","JSON","parse","atob","displayName","name","fullName","username","email","error","decorateTransactions","items","currentUserId","ownerId","undefined","Number","hasOwnerId","isFinite","map","tx","baseAmount","amount","isIncoming","type","toUserId","signedAmount","reference","createInitialOtpStatus","sending","sent","expiresIn","requestedAt","Dashboard","_s2","_userProfile$id","_profile$id","_fallbackPayload$id","_confirm$payload9","_confirm$payload0","_confirm$payload1","_insightData$lastTran","navigate","localStorage","getItem","profile","language","text","balance","setBalance","transactions","setTransactions","userProfile","setUserProfile","setProfileLoading","profileError","setProfileError","depositAmount","setDepositAmount","transferData","setTransferData","toUsername","otp","toast","setToast","message","confirm","setConfirm","confirming","setTransferSuccess","details","dataLoading","setDataLoading","depositLoading","setDepositLoading","transferLoading","setTransferLoading","transferOtpStatus","setTransferOtpStatus","selectedTx","setSelectedTx","showTxModal","setShowTxModal","infoModal","setInfoModal","setShowBalance","otpErrorMessage","setOtpErrorMessage","otpShake","setOtpShake","refresh","refreshNotifications","fallbackPayload","userProfileId","id","profileId","fallbackUserId","candidates","candidate","numeric","currentUsername","trim","depositRef","transferRef","otpInputRef","otpShakeTimerRef","showToast","serverMessage","fallbackMessage","timerRef","timerId","current","clearTimeout","mounted","fetchHistory","_res$data","_res$data2","res","get","data","_error$response","_error$response$data","response","cancelled","fetchProfile","_res$data3","user","_error$response2","_error$response2$data","_error$response3","_error$response3$data","handleDepositChange","event","target","handleTransferChange","rawValue","sanitizedValue","replace","shouldResetOtp","triggerOtpError","setTimeout","focus","handleCopyReference","clipboardAvailable","navigator","clipboard","writeText","document","tempInput","createElement","setAttribute","style","position","left","body","appendChild","select","execCommand","removeChild","Error","handleRequestTransferOtp","trimmedRecipient","amountValue","_res$data$expiresIn","_res$data4","_res$data5","post","Date","now","_error$response4","_error$response4$data","handleDepositSubmit","preventDefault","_res$data6","_historyRes$data","_historyRes$data2","historyRes","catch","_error$response5","_error$response5$data","handleTransferSubmit","sanitizedDescription","sanitizedOtp","test","amountLabel","formatCurrency","confirmTransfer","curr","_confirm$payload","_confirm$payload2","_confirm$payload3","_confirm$payload4","_res$data7","_res$data8","_ref","_transferResponse$amo","_confirm$payload5","_confirm$payload6","_confirm$payload7","_confirm$payload8","_historyRes$data3","_historyRes$data4","transferResponse","numericAmount","resolvedReference","createdAt","toISOString","status","referenceCode","formatSignedCurrency","Math","abs","sender","fromUsername","recipient","_error$response6","_error$response6$data","serverError","locale","toLocaleString","currency","prefix","insightData","monthlyIncoming","monthlyOutgoing","pendingCount","lastTransaction","currentMonth","getMonth","currentYear","getFullYear","monthly","filter","created","reduce","total","_tx$signedAmount","_tx$signedAmount2","advancedInsights","successRate","completed","failed","averageTicket","largestTx","completedTx","failedTx","sum","_tx$signedAmount3","largest","_tx$signedAmount4","heroMetrics","tone","caption","recentTransactions","dailyStats","today","template","Array","from","_","index","date","setDate","getDate","incoming","outgoing","toLocaleDateString","weekday","tooltip","day","month","buckets","acc","item","toDateString","forEach","_tx$signedAmount5","bucket","chartMax","values","flatMap","max","handleQuickAction","action","_depositRef$current","scrollIntoView","behavior","block","_transferRef$current","closeInfoModal","formatTimestamp","timestamp","hour","minute","statusLabel","transactionLabel","toggleBalance","prev","modalCopy","heroName","avatarInitial","charAt","toUpperCase","heroIdentifier","source","profileRoleLabel","role","formatPercent","minimumFractionDigits","maximumFractionDigits","confirmAmountLabel","confirmTitle","confirmBodyIntro","confirmNoteLabel","confirmPrompt","otpInputClasses","Boolean","join","onCopy","onConfirm","onCancel","metric","copy","ref","onSubmit","min","step","onChange","placeholder","required","htmlFor","disabled","inputMode","maxLength","autoComplete","incomeHeight","round","expenseHeight","height","_tx$signedAmount6","statusText","statusClass","_c2","$RefreshReg$"],"sources":["D:/BMUDHT/frontend/src/components/MainDashboard.js"],"sourcesContent":["import React, {\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport api from \"../services/api\";\r\nimport ConfirmModal from \"./ConfirmModal\";\r\nimport Toast from \"./Toast\";\r\nimport MfaSetup from \"./MfaSetup\";\r\nimport TransactionDetailsModal from \"./TransactionDetailsModal\";\r\nimport TransferSuccessModal from \"./TransferSuccessModal\";\r\nimport NotificationContext from \"../context/NotificationContext\";\r\nimport { usePreferences } from \"../context/PreferencesContext\";\r\nimport { getReferenceCode } from \"../utils/reference\";\r\nimport { decodeTokenPayload } from \"../utils/authSignal\";\r\nimport localizeBackendMessage from \"../utils/i18n\";\r\n\r\nconst dictionary = {\r\n  vi: {\r\n    greeting: \"Xin chào\",\r\n    heroCaption: \"Tài khoản · Số dư cập nhật theo thời gian thực\",\r\n    balanceLabel: \"Số dư khả dụng\",\r\n    hideBalance: \"Ẩn số dư\",\r\n    showBalance: \"Hiện số dư\",\r\n    netChange: \"Biến động ròng tháng này\",\r\n    lastActivityPrefix: \"Giao dịch gần nhất\",\r\n    lastActivityEmpty: \"Chưa có giao dịch nào được ghi nhận.\",\r\n    quickActionsTitle: \"Tác vụ nhanh\",\r\n    quickActionsSubtitle: \"Chọn thao tác thường xuyên chỉ với một chạm.\",\r\n    modalDismiss: \"Đã hiểu\",\r\n    quickTransfer: \"Chuyển khoản ngay\",\r\n    quickViewNotifications: \"Xem thông báo\",\r\n    quickActions: {\r\n      transfer: {\r\n        label: \"Chuyển khoản\",\r\n        tagline: \"Nội bộ & liên ngân hàng\",\r\n        description:\r\n          \"Chuyển tiền nhanh tới tài khoản nội bộ hoặc ngân hàng khác.\",\r\n      },\r\n      deposit: {\r\n        label: \"Nạp tiền\",\r\n        tagline: \"Qua thẻ và ví liên kết\",\r\n        description: \"Nạp tiền từ thẻ ghi nợ hoặc ví điện tử liên kết.\",\r\n      },\r\n      mobile: {\r\n        label: \"Nạp điện thoại\",\r\n        tagline: \"Áp dụng mọi nhà mạng\",\r\n        description: \"Mua thẻ cào hoặc nạp trực tiếp cho số điện thoại bất kỳ.\",\r\n      },\r\n      bill: {\r\n        label: \"Thanh toán hóa đơn\",\r\n        tagline: \"Điện, nước, Internet\",\r\n        description: \"Tự động thanh toán điện, nước, internet và truyền hình.\",\r\n      },\r\n      travel: {\r\n        label: \"Vé máy bay\",\r\n        tagline: \"Đối tác hàng không\",\r\n        description: \"Đặt vé máy bay nội địa và quốc tế với ưu đãi độc quyền.\",\r\n      },\r\n      invest: {\r\n        label: \"Đầu tư\",\r\n        tagline: \"Gửi tiết kiệm sinh lời\",\r\n        description: \"Mở tài khoản tiết kiệm hoặc danh mục đầu tư sinh lời.\",\r\n      },\r\n      support: {\r\n        label: \"Trợ giúp\",\r\n        tagline: \"Tổng đài 24/7\",\r\n        description: \"Liên hệ tổng đài 24/7 và chatbot tài chính thông minh.\",\r\n      },\r\n      promo: {\r\n        label: \"Ưu đãi\",\r\n        tagline: \"Hoàn tiền & voucher\",\r\n        description: \"Khám phá ưu đãi hoàn tiền và voucher mới nhất.\",\r\n      },\r\n    },\r\n    depositTitle: \"Nạp tiền vào tài khoản\",\r\n    depositLimit: \"Không giới hạn\",\r\n    depositPlaceholder: \"Số tiền nạp (VND)\",\r\n    submitDeposit: \"Nạp tiền\",\r\n    transferTitle: \"Chuyển khoản thông minh\",\r\n    transferAccount: \"Tài khoản nhận\",\r\n    transferAmount: \"Số tiền (VND)\",\r\n    transferNote: \"Ghi chú (không bắt buộc)\",\r\n    submitTransfer: \"Chuyển khoản\",\r\n    transferOtpLabel: \"Mã OTP chuyển tiền\",\r\n    transferOtpPlaceholder: \"Nhập mã OTP 6 chữ số\",\r\n    transferOtpHint:\r\n      \"OTP có hiệu lực trong 5 phút. Kiểm tra email bảo mật hoặc bảng log (môi trường demo).\",\r\n    transferOtpSent: \"OTP đã được gửi. Vui lòng nhập mã để xác nhận.\",\r\n    transferOtpDevLabel: \"Mã demo\",\r\n    transferOtpMissing: \"Vui lòng nhập mã OTP để tiếp tục.\",\r\n    transferOtpInvalid: \"Mã OTP phải gồm 6 chữ số.\",\r\n    transferOtpRequesting: \"Đang gửi OTP\",\r\n    transferOtpIncomplete:\r\n      \"Vui lòng nhập tài khoản nhận và số tiền trước khi yêu cầu OTP.\",\r\n    transferOtpRequest: \"Gửi OTP\",\r\n    transferOtpResend: \"Gửi lại OTP\",\r\n    transferInvalid: \"Vui lòng nhập tài khoản nhận và số tiền hợp lệ.\",\r\n    processing: \"Đang xử lý\",\r\n    syncing: \"Đang đồng bộ...\",\r\n    depositSuccess: \"Nạp tiền thành công\",\r\n    depositFail: \"Nạp tiền thất bại\",\r\n    transferSuccess: \"Chuyển khoản thành công\",\r\n    transferFail: \"Chuyển khoản thất bại\",\r\n    transferSuccessTitle: \"Giao dịch đã hoàn tất\",\r\n    transferSuccessSubtitle: \"Biên lai chuyển khoản trực tuyến\",\r\n    transferSuccessReferenceLabel: \"Mã chuyển khoản\",\r\n    transferSuccessAmountLabel: \"Số tiền\",\r\n    transferSuccessSenderLabel: \"Người chuyển\",\r\n    transferSuccessRecipientLabel: \"Người nhận\",\r\n    transferSuccessTimeLabel: \"Thời gian thực hiện\",\r\n    transferSuccessNoteLabel: \"Ghi chú\",\r\n    transferSuccessCopy: \"Sao chép mã\",\r\n    transferSuccessCopied: \"Đã sao chép mã chuyển khoản\",\r\n    transferSuccessClose: \"Đóng biên lai\",\r\n    transferSuccessCopyFail: \"Không thể sao chép mã, vui lòng thử lại.\",\r\n    analyticsTitle: \"Tổng quan tháng này\",\r\n    analyticsIncoming: \"Tiền vào\",\r\n    analyticsOutgoing: \"Tiền ra\",\r\n    analyticsPending: \"Đang xử lý\",\r\n    analyticsSecurity: \"Tự động hóa bảo mật\",\r\n    analyticsSecurityNote:\r\n      \"Luồng giao dịch được giám sát thời gian thực với cảnh báo rủi ro bất thường.\",\r\n    chartTitle: \"Phân tích thu · chi 7 ngày\",\r\n    chartLegendIn: \"Thu\",\r\n    chartLegendOut: \"Chi\",\r\n    statusCompleted: \"Hoàn thành\",\r\n    statusPending: \"Đang xử lý\",\r\n    statusFailed: \"Thất bại\",\r\n    recentTitle: \"Giao dịch gần đây\",\r\n    recentSubtitle: \"Chạm để xem chi tiết và đánh dấu bất thường.\",\r\n    recentEmpty: \"Chưa có giao dịch nào.\",\r\n    transactionType: {\r\n      deposit: \"Nạp tiền\",\r\n      transfer: \"Chuyển khoản\",\r\n      fallback: \"Giao dịch\",\r\n    },\r\n    badgeUp: \"Tăng\",\r\n    badgeDown: \"Giảm\",\r\n    transactionsFollow: \"Giao dịch cần theo dõi\",\r\n    analyticsSuccessRate: \"Tỉ lệ thành công\",\r\n    analyticsFailed: \"Giao dịch lỗi\",\r\n    analyticsAvgTicket: \"Giá trị bình quân\",\r\n    analyticsLargest: \"Giao dịch lớn nhất\",\r\n    analyticsNoData: \"Chưa có dữ liệu\",\r\n    profileLoading: \"Đang cập nhật hồ sơ...\",\r\n    profileRoleAdmin: \"Quản trị viên hệ thống\",\r\n    profileRoleUser: \"Khách hàng cá nhân\",\r\n    profileRoleStaff: \"Chuyên viên hỗ trợ\",\r\n    profileMissing: \"Chưa có thông tin hồ sơ\",\r\n    profileEmailLabel: \"Email bảo mật\",\r\n    profileUsernameLabel: \"Tên đăng nhập\",\r\n  },\r\n  en: {\r\n    greeting: \"Welcome\",\r\n    heroCaption: \"Account · Real-time available balance\",\r\n    balanceLabel: \"Available balance\",\r\n    hideBalance: \"Hide balance\",\r\n    showBalance: \"Show balance\",\r\n    netChange: \"Net change this month\",\r\n    lastActivityPrefix: \"Latest transaction\",\r\n    lastActivityEmpty: \"No transactions recorded yet.\",\r\n    quickActionsTitle: \"Quick actions\",\r\n    quickActionsSubtitle: \"Access frequent operations in one tap.\",\r\n    modalDismiss: \"Got it\",\r\n    quickTransfer: \"Transfer now\",\r\n    quickViewNotifications: \"Notifications\",\r\n    quickActions: {\r\n      transfer: {\r\n        label: \"Transfer\",\r\n        tagline: \"Internal & interbank\",\r\n        description:\r\n          \"Send funds to an in-network or external bank account instantly.\",\r\n      },\r\n      deposit: {\r\n        label: \"Top up\",\r\n        tagline: \"Cards & linked wallets\",\r\n        description: \"Add funds using your debit card or linked e-wallets.\",\r\n      },\r\n      mobile: {\r\n        label: \"Mobile top-up\",\r\n        tagline: \"All carriers supported\",\r\n        description: \"Buy airtime vouchers or top up any mobile number.\",\r\n      },\r\n      bill: {\r\n        label: \"Bill payment\",\r\n        tagline: \"Utilities & internet\",\r\n        description: \"Automate electricity, water, broadband, and TV payments.\",\r\n      },\r\n      travel: {\r\n        label: \"Flights\",\r\n        tagline: \"Airline partner deals\",\r\n        description:\r\n          \"Book domestic and international flights with exclusive perks.\",\r\n      },\r\n      invest: {\r\n        label: \"Invest\",\r\n        tagline: \"Grow your savings\",\r\n        description: \"Open savings plans or curated investment portfolios.\",\r\n      },\r\n      support: {\r\n        label: \"Support\",\r\n        tagline: \"24/7 helpdesk\",\r\n        description: \"Reach our 24/7 contact center and smart finance chatbot.\",\r\n      },\r\n      promo: {\r\n        label: \"Rewards\",\r\n        tagline: \"Cashback & vouchers\",\r\n        description:\r\n          \"Discover the latest cashback offers and partner vouchers.\",\r\n      },\r\n    },\r\n    depositTitle: \"Top up account\",\r\n    depositLimit: \"Unlimited\",\r\n    depositPlaceholder: \"Top-up amount (VND)\",\r\n    submitDeposit: \"Top up\",\r\n    transferTitle: \"Smart transfers\",\r\n    transferAccount: \"Recipient account\",\r\n    transferAmount: \"Amount (VND)\",\r\n    transferNote: \"Note (optional)\",\r\n    submitTransfer: \"Transfer\",\r\n    transferOtpLabel: \"Transfer OTP code\",\r\n    transferOtpPlaceholder: \"Enter 6-digit OTP\",\r\n    transferOtpHint:\r\n      \"OTP remains valid for 5 minutes. Check your secure email (demo shows the code below).\",\r\n    transferOtpSent: \"OTP sent. Please enter the code to confirm.\",\r\n    transferOtpDevLabel: \"Demo code\",\r\n    transferOtpMissing: \"Please enter the OTP to continue.\",\r\n    transferOtpRequesting: \"Sending OTP\",\r\n    transferOtpInvalid: \"OTP must contain 6 digits.\",\r\n    transferOtpIncomplete:\r\n      \"Enter recipient and amount before requesting an OTP.\",\r\n    transferOtpRequest: \"Send OTP\",\r\n    transferOtpResend: \"Resend OTP\",\r\n    transferInvalid: \"Enter a valid recipient and transfer amount.\",\r\n    processing: \"Processing\",\r\n    syncing: \"Syncing...\",\r\n    depositSuccess: \"Top-up successful\",\r\n    depositFail: \"Top-up failed\",\r\n    transferSuccess: \"Transfer successful\",\r\n    transferFail: \"Transfer failed\",\r\n    transferSuccessTitle: \"Transfer completed\",\r\n    transferSuccessSubtitle: \"Digital transfer receipt\",\r\n    transferSuccessReferenceLabel: \"Transfer reference\",\r\n    transferSuccessAmountLabel: \"Amount\",\r\n    transferSuccessSenderLabel: \"Sender\",\r\n    transferSuccessRecipientLabel: \"Recipient\",\r\n    transferSuccessTimeLabel: \"Timestamp\",\r\n    transferSuccessNoteLabel: \"Note\",\r\n    transferSuccessCopy: \"Copy reference\",\r\n    transferSuccessCopied: \"Reference copied to clipboard\",\r\n    transferSuccessClose: \"Close receipt\",\r\n    transferSuccessCopyFail: \"Unable to copy the reference. Please try again.\",\r\n    analyticsTitle: \"Monthly overview\",\r\n    analyticsIncoming: \"Cash in\",\r\n    analyticsOutgoing: \"Cash out\",\r\n    analyticsPending: \"Pending\",\r\n    analyticsSecurity: \"Security automation\",\r\n    analyticsSecurityNote:\r\n      \"Transactions are monitored in real time with anomaly alerts.\",\r\n    chartTitle: \"7-day income vs. expense\",\r\n    chartLegendIn: \"Income\",\r\n    chartLegendOut: \"Expense\",\r\n    statusCompleted: \"Completed\",\r\n    statusPending: \"Processing\",\r\n    statusFailed: \"Failed\",\r\n    recentTitle: \"Recent transactions\",\r\n    recentSubtitle: \"Tap to inspect details or flag anomalies.\",\r\n    recentEmpty: \"No transactions recorded.\",\r\n    transactionType: {\r\n      deposit: \"Deposit\",\r\n      transfer: \"Transfer\",\r\n      fallback: \"Transaction\",\r\n    },\r\n    badgeUp: \"Up\",\r\n    badgeDown: \"Down\",\r\n    transactionsFollow: \"Transactions to follow\",\r\n    analyticsSuccessRate: \"Success rate\",\r\n    analyticsFailed: \"Failed transactions\",\r\n    analyticsAvgTicket: \"Average ticket\",\r\n    analyticsLargest: \"Largest transaction\",\r\n    analyticsNoData: \"No data yet\",\r\n    profileLoading: \"Syncing profile...\",\r\n    profileRoleAdmin: \"Platform administrator\",\r\n    profileRoleUser: \"Retail customer\",\r\n    profileRoleStaff: \"Support specialist\",\r\n    profileMissing: \"Profile details unavailable\",\r\n    profileEmailLabel: \"Secure email\",\r\n    profileUsernameLabel: \"Username\",\r\n  },\r\n};\r\n\r\nconst quickActionCatalog = [\r\n  { key: \"transfer\", icon: \"bi-arrow-left-right\", accent: \"action-transfer\" },\r\n  { key: \"deposit\", icon: \"bi-wallet2\", accent: \"action-deposit\" },\r\n  { key: \"mobile\", icon: \"bi-phone\", accent: \"action-mobile\" },\r\n  { key: \"bill\", icon: \"bi-receipt\", accent: \"action-bill\" },\r\n  { key: \"travel\", icon: \"bi-airplane\", accent: \"action-travel\" },\r\n  { key: \"invest\", icon: \"bi-graph-up-arrow\", accent: \"action-invest\" },\r\n  { key: \"support\", icon: \"bi-life-preserver\", accent: \"action-support\" },\r\n  { key: \"promo\", icon: \"bi-gift\", accent: \"action-promo\" },\r\n];\r\n\r\nconst maskAccount = (value) => {\r\n  if (!value) return \"-\";\r\n  if (value.length <= 4) return value;\r\n  return \"****\" + value.slice(-4);\r\n};\r\n\r\nconst maskIdentifier = (value) => {\r\n  if (!value) return \"-\";\r\n  if (value.includes(\"@\")) {\r\n    const [local, domain] = value.split(\"@\");\r\n    if (local.length <= 2) {\r\n      return `**@${domain}`;\r\n    }\r\n    return `${local.slice(0, 2)}***@${domain}`;\r\n  }\r\n  return maskAccount(value);\r\n};\r\n\r\nconst InfoModal = ({ show, title, description, primaryLabel, onClose }) => {\r\n  if (!show) return null;\r\n\r\n  return (\r\n    <div className=\"modal-backdrop\">\r\n      <div className=\"modal-card\">\r\n        <h5>{title}</h5>\r\n        <div className=\"modal-body\">\r\n          <p className=\"mb-0\">{description}</p>\r\n        </div>\r\n        <div className=\"modal-actions justify-content-end\">\r\n          <button className=\"btn btn-primary\" onClick={onClose}>\r\n            {primaryLabel}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useTokenProfile = (token) => {\r\n  // Extract lightweight profile information from the persisted JWT payload.\r\n  return useMemo(() => {\r\n    if (!token) return null;\r\n    try {\r\n      const payload = JSON.parse(atob(token.split(\".\")[1] || \"\"));\r\n      const displayName =\r\n        payload?.name ||\r\n        payload?.fullName ||\r\n        payload?.username ||\r\n        payload?.email?.split(\"@\")[0] ||\r\n        \"Khách hàng\";\r\n      return { ...payload, displayName };\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  }, [token]);\r\n};\r\n\r\nconst decorateTransactions = (items, currentUserId) => {\r\n  const ownerId =\r\n    currentUserId !== null && currentUserId !== undefined\r\n      ? Number(currentUserId)\r\n      : null;\r\n  const hasOwnerId = Number.isFinite(ownerId);\r\n\r\n  return (items || []).map((tx) => {\r\n    const baseAmount = Number(tx.amount || 0);\r\n    const isIncoming =\r\n      tx.type === \"deposit\" || (hasOwnerId && tx.toUserId === ownerId);\r\n    const signedAmount = isIncoming ? baseAmount : -baseAmount;\r\n    return {\r\n      ...tx,\r\n      reference: getReferenceCode(tx),\r\n      isIncoming,\r\n      signedAmount,\r\n    };\r\n  });\r\n};\r\n\r\nconst createInitialOtpStatus = () => ({\r\n  sending: false,\r\n  sent: false,\r\n  expiresIn: null,\r\n  requestedAt: null,\r\n});\r\n\r\nconst Dashboard = () => {\r\n  const navigate = useNavigate();\r\n  const token = localStorage.getItem(\"token\");\r\n  const profile = useTokenProfile(token);\r\n  const { language } = usePreferences();\r\n  const text = dictionary[language] || dictionary.vi;\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [userProfile, setUserProfile] = useState(null);\r\n  const [profileLoading, setProfileLoading] = useState(false);\r\n  const [profileError, setProfileError] = useState(null);\r\n  const [depositAmount, setDepositAmount] = useState(\"\");\r\n  const [transferData, setTransferData] = useState({\r\n    toUsername: \"\",\r\n    amount: \"\",\r\n    description: \"\",\r\n    otp: \"\",\r\n  });\r\n  const [toast, setToast] = useState({\r\n    show: false,\r\n    type: \"success\",\r\n    message: \"\",\r\n  });\r\n  const [confirm, setConfirm] = useState({\r\n    show: false,\r\n    payload: null,\r\n    confirming: false,\r\n  });\r\n  const [transferSuccess, setTransferSuccess] = useState({\r\n    show: false,\r\n    details: null,\r\n  });\r\n  const [dataLoading, setDataLoading] = useState(false);\r\n  const [depositLoading, setDepositLoading] = useState(false);\r\n  const [transferLoading, setTransferLoading] = useState(false);\r\n  const [transferOtpStatus, setTransferOtpStatus] = useState(() =>\r\n    createInitialOtpStatus()\r\n  );\r\n  const [selectedTx, setSelectedTx] = useState(null);\r\n  const [showTxModal, setShowTxModal] = useState(false);\r\n  const [infoModal, setInfoModal] = useState({ show: false, key: null });\r\n  const [showBalance, setShowBalance] = useState(true);\r\n  const [otpErrorMessage, setOtpErrorMessage] = useState(null);\r\n  const [otpShake, setOtpShake] = useState(false);\r\n\r\n  const { refresh: refreshNotifications } = useContext(NotificationContext);\r\n\r\n  const fallbackPayload = useMemo(() => decodeTokenPayload(token), [token]);\r\n  const userProfileId = userProfile?.id ?? null;\r\n  const profileId = profile?.id ?? null;\r\n  const fallbackUserId = fallbackPayload?.id ?? null;\r\n\r\n  const currentUserId = useMemo(() => {\r\n    const candidates = [userProfileId, profileId, fallbackUserId];\r\n    for (const candidate of candidates) {\r\n      const numeric = Number(candidate);\r\n      if (Number.isFinite(numeric)) {\r\n        return numeric;\r\n      }\r\n    }\r\n    return null;\r\n  }, [userProfileId, profileId, fallbackUserId]);\r\n\r\n  const currentUsername = useMemo(() => {\r\n    const candidates = [\r\n      userProfile?.username,\r\n      profile?.username,\r\n      fallbackPayload?.username,\r\n    ];\r\n    for (const candidate of candidates) {\r\n      if (typeof candidate === \"string\" && candidate.trim().length) {\r\n        return candidate;\r\n      }\r\n    }\r\n    return \"\";\r\n  }, [userProfile?.username, profile?.username, fallbackPayload?.username]);\r\n\r\n  const depositRef = useRef(null);\r\n  const transferRef = useRef(null);\r\n  const otpInputRef = useRef(null);\r\n  const otpShakeTimerRef = useRef(null);\r\n\r\n  const showToast = useCallback(\r\n    (type, serverMessage, fallbackMessage) => {\r\n      setToast({\r\n        show: true,\r\n        type,\r\n        message: localizeBackendMessage(\r\n          language,\r\n          serverMessage,\r\n          fallbackMessage\r\n        ),\r\n      });\r\n    },\r\n    [language]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n    }\r\n  }, [token, navigate]);\r\n\r\n  useEffect(() => {\r\n    const timerRef = otpShakeTimerRef;\r\n    return () => {\r\n      const timerId = timerRef.current;\r\n      if (timerId) {\r\n        clearTimeout(timerId);\r\n      }\r\n    };\r\n  }, [otpShakeTimerRef]);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    const fetchHistory = async () => {\r\n      if (!token) return;\r\n      setDataLoading(true);\r\n      try {\r\n        const res = await api.get(\"/api/transactions/history\");\r\n        if (!mounted) return;\r\n        setBalance(res.data?.balance || 0);\r\n        setTransactions(\r\n          decorateTransactions(res.data?.transactions || [], currentUserId)\r\n        );\r\n      } catch (error) {\r\n        if (mounted) {\r\n          showToast(\r\n            \"error\",\r\n            error.response?.data?.error,\r\n            language === \"vi\"\r\n              ? \"Không thể tải lịch sử giao dịch\"\r\n              : \"Unable to load history\"\r\n          );\r\n        }\r\n      } finally {\r\n        if (mounted) {\r\n          setDataLoading(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchHistory();\r\n\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [token, language, currentUserId, showToast]);\r\n\r\n  useEffect(() => {\r\n    if (!token) return;\r\n    let cancelled = false;\r\n    const fetchProfile = async () => {\r\n      setProfileLoading(true);\r\n      try {\r\n        const res = await api.get(\"/api/auth/me\");\r\n        if (cancelled) return;\r\n        setUserProfile(res.data?.user || null);\r\n        setProfileError(null);\r\n      } catch (error) {\r\n        if (cancelled) return;\r\n        const message = localizeBackendMessage(\r\n          language,\r\n          error.response?.data?.error,\r\n          language === \"vi\"\r\n            ? \"Không thể tải hồ sơ người dùng\"\r\n            : \"Unable to load user profile\"\r\n        );\r\n        setProfileError(message);\r\n        showToast(\"error\", error.response?.data?.error, message);\r\n      } finally {\r\n        if (!cancelled) {\r\n          setProfileLoading(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [token, language, showToast]);\r\n\r\n  const handleDepositChange = (event) => {\r\n    setDepositAmount(event.target.value);\r\n  };\r\n\r\n  const handleTransferChange = (event) => {\r\n    const { name } = event.target;\r\n    const rawValue = event.target.value;\r\n    const sanitizedValue =\r\n      name === \"otp\" ? rawValue.replace(/\\D/g, \"\").slice(0, 6) : rawValue;\r\n    const shouldResetOtp = name === \"toUsername\" || name === \"amount\";\r\n\r\n    setTransferData((current) => ({\r\n      ...current,\r\n      [name]: sanitizedValue,\r\n      ...(shouldResetOtp ? { otp: \"\" } : {}),\r\n    }));\r\n\r\n    if (shouldResetOtp) {\r\n      setTransferOtpStatus(createInitialOtpStatus());\r\n      setOtpErrorMessage(null);\r\n      setOtpShake(false);\r\n      if (otpShakeTimerRef.current) {\r\n        clearTimeout(otpShakeTimerRef.current);\r\n        otpShakeTimerRef.current = null;\r\n      }\r\n    }\r\n\r\n    if (name === \"otp\") {\r\n      setOtpErrorMessage(null);\r\n      setOtpShake(false);\r\n      if (otpShakeTimerRef.current) {\r\n        clearTimeout(otpShakeTimerRef.current);\r\n        otpShakeTimerRef.current = null;\r\n      }\r\n    }\r\n  };\r\n\r\n  const triggerOtpError = useCallback((message) => {\r\n    setOtpErrorMessage(message);\r\n    setOtpShake(true);\r\n    if (otpShakeTimerRef.current) {\r\n      clearTimeout(otpShakeTimerRef.current);\r\n    }\r\n    otpShakeTimerRef.current = setTimeout(() => {\r\n      setOtpShake(false);\r\n      otpShakeTimerRef.current = null;\r\n    }, 450);\r\n    if (otpInputRef.current) {\r\n      otpInputRef.current.focus();\r\n    }\r\n  }, []);\r\n\r\n  const handleCopyReference = useCallback(\r\n    async (reference) => {\r\n      if (!reference) return;\r\n      try {\r\n        const clipboardAvailable =\r\n          typeof navigator !== \"undefined\" &&\r\n          navigator.clipboard &&\r\n          typeof navigator.clipboard.writeText === \"function\";\r\n\r\n        if (clipboardAvailable) {\r\n          await navigator.clipboard.writeText(reference);\r\n        } else if (typeof document !== \"undefined\") {\r\n          const tempInput = document.createElement(\"textarea\");\r\n          tempInput.value = reference;\r\n          tempInput.setAttribute(\"readonly\", \"\");\r\n          tempInput.style.position = \"absolute\";\r\n          tempInput.style.left = \"-9999px\";\r\n          document.body.appendChild(tempInput);\r\n          tempInput.select();\r\n          document.execCommand(\"copy\");\r\n          document.body.removeChild(tempInput);\r\n        } else {\r\n          throw new Error(\"Clipboard unavailable\");\r\n        }\r\n        showToast(\"success\", null, text.transferSuccessCopied);\r\n      } catch (error) {\r\n        showToast(\"error\", null, text.transferSuccessCopyFail);\r\n      }\r\n    },\r\n    [showToast, text.transferSuccessCopied, text.transferSuccessCopyFail]\r\n  );\r\n\r\n  const handleRequestTransferOtp = async () => {\r\n    if (transferOtpStatus.sending) return;\r\n\r\n    const trimmedRecipient = transferData.toUsername.trim();\r\n    const amountValue = Number(transferData.amount);\r\n\r\n    if (\r\n      !trimmedRecipient ||\r\n      !Number.isFinite(amountValue) ||\r\n      amountValue <= 0\r\n    ) {\r\n      showToast(\"error\", null, text.transferOtpIncomplete);\r\n      return;\r\n    }\r\n\r\n    setTransferData((current) => ({\r\n      ...current,\r\n      otp: \"\",\r\n    }));\r\n\r\n    setTransferOtpStatus({\r\n      ...createInitialOtpStatus(),\r\n      sending: true,\r\n    });\r\n\r\n    try {\r\n      const res = await api.post(\"/api/transactions/transfer/request-otp\");\r\n      setTransferOtpStatus({\r\n        sending: false,\r\n        sent: true,\r\n        expiresIn: res.data?.expiresIn ?? null,\r\n        requestedAt: Date.now(),\r\n      });\r\n      showToast(\"success\", res.data?.message, text.transferOtpSent);\r\n    } catch (error) {\r\n      setTransferOtpStatus(createInitialOtpStatus());\r\n      showToast(\"error\", error.response?.data?.error, text.transferFail);\r\n    }\r\n  };\r\n\r\n  const handleDepositSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setDepositLoading(true);\r\n    try {\r\n      const res = await api.post(\"/api/transactions/deposit\", {\r\n        amount: Number(depositAmount),\r\n      });\r\n      showToast(\"success\", res.data?.message, text.depositSuccess);\r\n      setDepositAmount(\"\");\r\n      const historyRes = await api.get(\"/api/transactions/history\");\r\n      setBalance(historyRes.data?.balance || 0);\r\n      setTransactions(\r\n        decorateTransactions(historyRes.data?.transactions || [], currentUserId)\r\n      );\r\n      await refreshNotifications().catch(() => {});\r\n    } catch (error) {\r\n      showToast(\"error\", error.response?.data?.error, text.depositFail);\r\n    } finally {\r\n      setDepositLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleTransferSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (transferSuccess.show) {\r\n      setTransferSuccess({ show: false, details: null });\r\n    }\r\n\r\n    const trimmedRecipient = transferData.toUsername.trim();\r\n    const amountValue = Number(transferData.amount);\r\n    const sanitizedDescription = (transferData.description || \"\").trim();\r\n    const sanitizedOtp = (transferData.otp || \"\").trim();\r\n\r\n    if (\r\n      !trimmedRecipient ||\r\n      !Number.isFinite(amountValue) ||\r\n      amountValue <= 0\r\n    ) {\r\n      showToast(\"error\", null, text.transferInvalid);\r\n      return;\r\n    }\r\n\r\n    if (!sanitizedOtp) {\r\n      triggerOtpError(text.transferOtpMissing);\r\n      showToast(\"error\", null, text.transferOtpMissing);\r\n      return;\r\n    }\r\n\r\n    if (!/^\\d{6}$/.test(sanitizedOtp)) {\r\n      triggerOtpError(text.transferOtpInvalid);\r\n      showToast(\"error\", null, text.transferOtpInvalid);\r\n      return;\r\n    }\r\n\r\n    setOtpErrorMessage(null);\r\n    setOtpShake(false);\r\n\r\n    setConfirm({\r\n      show: true,\r\n      payload: {\r\n        toUsername: trimmedRecipient,\r\n        amountValue,\r\n        amountLabel: formatCurrency(amountValue),\r\n        description: sanitizedDescription,\r\n        otp: sanitizedOtp,\r\n      },\r\n      confirming: false,\r\n    });\r\n  };\r\n\r\n  const confirmTransfer = async () => {\r\n    setConfirm((curr) => ({ ...curr, confirming: true }));\r\n    setTransferLoading(true);\r\n    try {\r\n      const payload = {\r\n        toUsername: confirm.payload?.toUsername,\r\n        amount: confirm.payload?.amountValue,\r\n        description: confirm.payload?.description || \"\",\r\n        otp: confirm.payload?.otp,\r\n      };\r\n      const res = await api.post(\"/api/transactions/transfer\", payload);\r\n      showToast(\"success\", res.data?.message, text.transferSuccess);\r\n\r\n      const transferResponse = res.data?.transfer || null;\r\n      const numericAmount = Number(\r\n        transferResponse?.amount ??\r\n          confirm.payload?.amountValue ??\r\n          payload.amount\r\n      );\r\n      const resolvedReference = getReferenceCode({\r\n        id: transferResponse?.id,\r\n        createdAt: transferResponse?.createdAt || new Date().toISOString(),\r\n        amount: numericAmount,\r\n        type: \"transfer\",\r\n        status: transferResponse?.status || \"completed\",\r\n        description:\r\n          transferResponse?.description || confirm.payload?.description || \"\",\r\n        referenceCode: transferResponse?.reference,\r\n      });\r\n\r\n      setTransferSuccess({\r\n        show: true,\r\n        details: {\r\n          reference: transferResponse?.reference || resolvedReference,\r\n          amountLabel: formatSignedCurrency(-Math.abs(numericAmount)),\r\n          sender: transferResponse?.fromUsername || currentUsername || \"\",\r\n          recipient:\r\n            transferResponse?.toUsername ||\r\n            confirm.payload?.toUsername ||\r\n            payload.toUsername,\r\n          createdAt: transferResponse?.createdAt || new Date().toISOString(),\r\n          description:\r\n            transferResponse?.description || confirm.payload?.description || \"\",\r\n        },\r\n      });\r\n\r\n      setTransferData({\r\n        toUsername: \"\",\r\n        amount: \"\",\r\n        description: \"\",\r\n        otp: \"\",\r\n      });\r\n      setTransferOtpStatus(createInitialOtpStatus());\r\n      const historyRes = await api.get(\"/api/transactions/history\");\r\n      setBalance(historyRes.data?.balance || 0);\r\n      setTransactions(\r\n        decorateTransactions(historyRes.data?.transactions || [], currentUserId)\r\n      );\r\n      await refreshNotifications().catch(() => {});\r\n    } catch (error) {\r\n      const serverError = error.response?.data?.error;\r\n      if (serverError?.includes(\"OTP\")) {\r\n        setTransferOtpStatus(createInitialOtpStatus());\r\n        setTransferData((curr) => ({\r\n          ...curr,\r\n          otp: \"\",\r\n        }));\r\n        triggerOtpError(\r\n          localizeBackendMessage(\r\n            language,\r\n            serverError,\r\n            text.transferOtpInvalid\r\n          )\r\n        );\r\n      }\r\n      showToast(\"error\", serverError, text.transferFail);\r\n    } finally {\r\n      setTransferLoading(false);\r\n      setConfirm({ show: false, payload: null, confirming: false });\r\n    }\r\n  };\r\n\r\n  const formatCurrency = useCallback(\r\n    (amount) => {\r\n      const locale = language === \"vi\" ? \"vi-VN\" : \"en-US\";\r\n      return Number(amount || 0).toLocaleString(locale, {\r\n        style: \"currency\",\r\n        currency: \"VND\",\r\n      });\r\n    },\r\n    [language]\r\n  );\r\n\r\n  const formatSignedCurrency = useCallback(\r\n    (value) => {\r\n      const numeric = Number(value || 0);\r\n      const prefix = numeric >= 0 ? \"+\" : \"-\";\r\n      return `${prefix}${formatCurrency(Math.abs(numeric))}`;\r\n    },\r\n    [formatCurrency]\r\n  );\r\n\r\n  const insightData = useMemo(() => {\r\n    if (!transactions.length) {\r\n      return {\r\n        monthlyIncoming: 0,\r\n        monthlyOutgoing: 0,\r\n        pendingCount: 0,\r\n        lastTransaction: null,\r\n      };\r\n    }\r\n    const now = new Date();\r\n    const currentMonth = now.getMonth();\r\n    const currentYear = now.getFullYear();\r\n\r\n    const monthly = transactions.filter((tx) => {\r\n      const created = new Date(tx.createdAt);\r\n      return (\r\n        created.getMonth() === currentMonth &&\r\n        created.getFullYear() === currentYear\r\n      );\r\n    });\r\n\r\n    const monthlyIncoming = monthly\r\n      .filter((tx) => tx.isIncoming)\r\n      .reduce(\r\n        (total, tx) =>\r\n          total + Math.abs(tx.signedAmount ?? Number(tx.amount || 0)),\r\n        0\r\n      );\r\n\r\n    const monthlyOutgoing = monthly\r\n      .filter((tx) => !tx.isIncoming)\r\n      .reduce(\r\n        (total, tx) =>\r\n          total + Math.abs(tx.signedAmount ?? Number(tx.amount || 0)),\r\n        0\r\n      );\r\n\r\n    const pendingCount = transactions.filter(\r\n      (tx) => tx.status === \"pending\"\r\n    ).length;\r\n\r\n    return {\r\n      monthlyIncoming,\r\n      monthlyOutgoing,\r\n      pendingCount,\r\n      lastTransaction: transactions[0] || null,\r\n    };\r\n  }, [transactions]);\r\n\r\n  const advancedInsights = useMemo(() => {\r\n    if (!transactions.length) {\r\n      return {\r\n        successRate: 100,\r\n        completed: 0,\r\n        failed: 0,\r\n        averageTicket: 0,\r\n        largestTx: null,\r\n      };\r\n    }\r\n    const completedTx = transactions.filter((tx) => tx.status === \"completed\");\r\n    const failedTx = transactions.filter((tx) => tx.status === \"failed\");\r\n    const successRate =\r\n      completedTx.length + failedTx.length === 0\r\n        ? 100\r\n        : (completedTx.length / (completedTx.length + failedTx.length)) * 100;\r\n    const averageTicket =\r\n      completedTx.length === 0\r\n        ? 0\r\n        : completedTx.reduce(\r\n            (sum, tx) =>\r\n              sum + Math.abs(tx.signedAmount ?? Number(tx.amount || 0)),\r\n            0\r\n          ) / completedTx.length;\r\n    const largestTx = transactions.reduce((largest, tx) => {\r\n      const amount = Math.abs(tx.signedAmount ?? Number(tx.amount || 0));\r\n      if (!largest || amount > largest.amount) {\r\n        return { ...tx, amount };\r\n      }\r\n      return largest;\r\n    }, null);\r\n    return {\r\n      successRate,\r\n      completed: completedTx.length,\r\n      failed: failedTx.length,\r\n      averageTicket,\r\n      largestTx,\r\n    };\r\n  }, [transactions]);\r\n\r\n  const netChange = useMemo(\r\n    () => insightData.monthlyIncoming - insightData.monthlyOutgoing,\r\n    [insightData]\r\n  );\r\n\r\n  const heroMetrics = useMemo(\r\n    () => [\r\n      {\r\n        key: \"incoming\",\r\n        label: text.analyticsIncoming,\r\n        value: insightData.monthlyIncoming,\r\n        tone: \"positive\",\r\n        caption:\r\n          language === \"vi\"\r\n            ? \"Tổng tiền nhận trong kỳ\"\r\n            : \"Total inbound this month\",\r\n      },\r\n      {\r\n        key: \"outgoing\",\r\n        label: text.analyticsOutgoing,\r\n        value: insightData.monthlyOutgoing,\r\n        tone: \"negative\",\r\n        caption:\r\n          language === \"vi\"\r\n            ? \"Tổng tiền chi trong kỳ\"\r\n            : \"Total outbound this month\",\r\n      },\r\n      {\r\n        key: \"pending\",\r\n        label: text.analyticsPending,\r\n        value: insightData.pendingCount,\r\n        tone: \"neutral\",\r\n        caption: text.transactionsFollow,\r\n      },\r\n    ],\r\n    [insightData, text, language]\r\n  );\r\n\r\n  const recentTransactions = useMemo(\r\n    () => transactions.slice(0, 6),\r\n    [transactions]\r\n  );\r\n\r\n  const dailyStats = useMemo(() => {\r\n    const today = new Date();\r\n    const template = Array.from({ length: 7 }).map((_, index) => {\r\n      const date = new Date(today);\r\n      date.setDate(today.getDate() - (6 - index));\r\n      return {\r\n        key: date.toISOString(),\r\n        date,\r\n        incoming: 0,\r\n        outgoing: 0,\r\n        label: date.toLocaleDateString(language === \"vi\" ? \"vi-VN\" : \"en-US\", {\r\n          weekday: \"short\",\r\n        }),\r\n        tooltip: date.toLocaleDateString(\r\n          language === \"vi\" ? \"vi-VN\" : \"en-US\",\r\n          {\r\n            weekday: \"long\",\r\n            day: \"2-digit\",\r\n            month: \"2-digit\",\r\n          }\r\n        ),\r\n      };\r\n    });\r\n\r\n    if (!transactions.length) {\r\n      return template;\r\n    }\r\n\r\n    const buckets = template.reduce((acc, item) => {\r\n      acc[item.date.toDateString()] = item;\r\n      return acc;\r\n    }, {});\r\n\r\n    transactions.forEach((tx) => {\r\n      const created = new Date(tx.createdAt);\r\n      const bucket = buckets[created.toDateString()];\r\n      if (!bucket) return;\r\n      const amount = Math.abs(tx.signedAmount ?? Number(tx.amount || 0));\r\n      if (tx.isIncoming) {\r\n        bucket.incoming += amount;\r\n      } else {\r\n        bucket.outgoing += amount;\r\n      }\r\n    });\r\n\r\n    return template;\r\n  }, [transactions, language]);\r\n\r\n  const chartMax = useMemo(() => {\r\n    const values = dailyStats.flatMap((item) => [item.incoming, item.outgoing]);\r\n    const max = Math.max(...values, 0);\r\n    return max === 0 ? 1 : max;\r\n  }, [dailyStats]);\r\n\r\n  const handleQuickAction = useCallback((action) => {\r\n    if (action.key === \"deposit\") {\r\n      depositRef.current?.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"center\",\r\n      });\r\n      return;\r\n    }\r\n    if (action.key === \"transfer\") {\r\n      transferRef.current?.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"center\",\r\n      });\r\n      return;\r\n    }\r\n    setInfoModal({ show: true, key: action.key });\r\n  }, []);\r\n\r\n  const closeInfoModal = useCallback(() => {\r\n    setInfoModal({ show: false, key: null });\r\n  }, []);\r\n\r\n  const formatTimestamp = useCallback(\r\n    (timestamp) =>\r\n      new Date(timestamp).toLocaleString(\r\n        language === \"vi\" ? \"vi-VN\" : \"en-US\",\r\n        {\r\n          hour: \"2-digit\",\r\n          minute: \"2-digit\",\r\n          day: \"2-digit\",\r\n          month: \"2-digit\",\r\n        }\r\n      ),\r\n    [language]\r\n  );\r\n\r\n  const statusLabel = (status) => {\r\n    if (status === \"completed\") return text.statusCompleted;\r\n    if (status === \"pending\") return text.statusPending;\r\n    return text.statusFailed;\r\n  };\r\n\r\n  const transactionLabel = (type) => {\r\n    if (type === \"deposit\") return text.transactionType.deposit;\r\n    if (type === \"transfer\") return text.transactionType.transfer;\r\n    return text.transactionType.fallback;\r\n  };\r\n\r\n  const toggleBalance = () => setShowBalance((prev) => !prev);\r\n\r\n  const modalCopy = infoModal.key ? text.quickActions[infoModal.key] : null;\r\n\r\n  const heroName = useMemo(() => {\r\n    return (\r\n      userProfile?.fullName ||\r\n      userProfile?.name ||\r\n      userProfile?.username ||\r\n      profile?.displayName ||\r\n      (language === \"vi\" ? \"Người dùng\" : \"User\")\r\n    );\r\n  }, [userProfile, profile, language]);\r\n\r\n  const avatarInitial = useMemo(() => {\r\n    if (!heroName) return null;\r\n    return heroName.trim().charAt(0).toUpperCase();\r\n  }, [heroName]);\r\n\r\n  const heroIdentifier = useMemo(() => {\r\n    const source =\r\n      userProfile?.email ||\r\n      userProfile?.username ||\r\n      profile?.email ||\r\n      profile?.username ||\r\n      \"\";\r\n    return source ? maskIdentifier(source) : \"\";\r\n  }, [userProfile, profile]);\r\n\r\n  const profileRoleLabel = useMemo(() => {\r\n    if (!userProfile?.role) return text.profileRoleUser;\r\n    if (userProfile.role === \"admin\") return text.profileRoleAdmin;\r\n    if (userProfile.role === \"staff\") return text.profileRoleStaff;\r\n    return text.profileRoleUser;\r\n  }, [userProfile, text]);\r\n\r\n  const formatPercent = useCallback(\r\n    (value) => {\r\n      const locale = language === \"vi\" ? \"vi-VN\" : \"en-US\";\r\n      return Number(value / 100).toLocaleString(locale, {\r\n        style: \"percent\",\r\n        minimumFractionDigits: 1,\r\n        maximumFractionDigits: 1,\r\n      });\r\n    },\r\n    [language]\r\n  );\r\n\r\n  const confirmAmountLabel = confirm.payload?.amountLabel;\r\n\r\n  const confirmTitle = confirm.payload\r\n    ? language === \"vi\"\r\n      ? `Xác nhận chuyển ${confirmAmountLabel || \"\"}`\r\n      : `Confirm transfer of ${confirmAmountLabel || \"\"}`\r\n    : \"\";\r\n\r\n  const confirmBodyIntro = confirm.payload\r\n    ? language === \"vi\"\r\n      ? `Bạn sẽ chuyển ${confirmAmountLabel} tới ${confirm.payload.toUsername}.`\r\n      : `You are about to send ${confirmAmountLabel} to ${confirm.payload.toUsername}.`\r\n    : \"\";\r\n\r\n  const confirmNoteLabel = language === \"vi\" ? \"Ghi chú\" : \"Note\";\r\n  const confirmPrompt =\r\n    language === \"vi\"\r\n      ? \"Bạn có chắc chắn muốn tiếp tục?\"\r\n      : \"Are you sure you want to continue?\";\r\n\r\n  const otpInputClasses = [\r\n    \"form-control\",\r\n    otpErrorMessage ? \"is-invalid\" : \"\",\r\n    otpShake ? \"field-animate-shake\" : \"\",\r\n  ]\r\n    .filter(Boolean)\r\n    .join(\" \");\r\n\r\n  return (\r\n    <div className=\"dashboard-page\">\r\n      <InfoModal\r\n        show={infoModal.show}\r\n        title={modalCopy?.label || \"\"}\r\n        description={modalCopy?.description || \"\"}\r\n        primaryLabel={text.modalDismiss}\r\n        onClose={closeInfoModal}\r\n      />\r\n\r\n      <TransferSuccessModal\r\n        show={transferSuccess.show}\r\n        details={transferSuccess.details}\r\n        onClose={() => setTransferSuccess({ show: false, details: null })}\r\n        onCopy={handleCopyReference}\r\n        text={text}\r\n        language={language}\r\n      />\r\n\r\n      <ConfirmModal\r\n        show={confirm.show}\r\n        title={confirmTitle}\r\n        body={\r\n          <div>\r\n            <p>{confirmBodyIntro}</p>\r\n            {confirm.payload?.description && (\r\n              <p className=\"mb-0\">\r\n                {confirmNoteLabel}: {confirm.payload.description}\r\n              </p>\r\n            )}\r\n            {confirm.payload?.otp && (\r\n              <p className=\"mb-0\">\r\n                OTP: <code>{confirm.payload.otp}</code>\r\n              </p>\r\n            )}\r\n            <p>{confirmPrompt}</p>\r\n          </div>\r\n        }\r\n        onConfirm={confirmTransfer}\r\n        onCancel={() =>\r\n          setConfirm({ show: false, payload: null, confirming: false })\r\n        }\r\n        confirming={confirm.confirming}\r\n      />\r\n\r\n      <Toast\r\n        show={toast.show}\r\n        type={toast.type}\r\n        message={toast.message}\r\n        onClose={() => setToast((curr) => ({ ...curr, show: false }))}\r\n      />\r\n\r\n      <section className=\"dashboard-hero gradient-card mb-4\">\r\n        <div className=\"dashboard-hero__grid\">\r\n          <div className=\"dashboard-hero__main\">\r\n            <div className=\"hero-header\">\r\n              <div className=\"hero-avatar\">\r\n                {avatarInitial ? (\r\n                  <span className=\"hero-avatar__initial\">{avatarInitial}</span>\r\n                ) : (\r\n                  <i className=\"bi bi-person-fill\" aria-hidden></i>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <span className=\"hero-subheading\">{text.greeting}</span>\r\n                <h1 className=\"hero-title\">{heroName}</h1>\r\n                <p className=\"hero-caption\">\r\n                  {text.heroCaption}\r\n                  {heroIdentifier && (\r\n                    <>\r\n                      {\" · \"}\r\n                      <span className=\"hero-caption__meta\">\r\n                        {heroIdentifier}\r\n                      </span>\r\n                    </>\r\n                  )}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"hero-balance\">\r\n              <span className=\"hero-balance__label\">{text.balanceLabel}</span>\r\n              <div className=\"hero-balance__value\">\r\n                {showBalance ? formatCurrency(balance) : \"•••••••• VND\"}\r\n              </div>\r\n              <div className=\"hero-balance__trend\">\r\n                <span\r\n                  className={\r\n                    netChange >= 0 ? \"trend-positive\" : \"trend-negative\"\r\n                  }\r\n                >\r\n                  {formatSignedCurrency(netChange)}\r\n                </span>\r\n                <small>{text.netChange}</small>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"hero-balance__toggle\"\r\n                onClick={toggleBalance}\r\n              >\r\n                <i\r\n                  className={`bi ${\r\n                    showBalance ? \"bi-eye-slash\" : \"bi-eye\"\r\n                  } me-2`}\r\n                  aria-hidden\r\n                ></i>\r\n                {showBalance ? text.hideBalance : text.showBalance}\r\n              </button>\r\n              {dataLoading && (\r\n                <span className=\"badge bg-light text-primary mt-2\">\r\n                  {text.syncing}\r\n                </span>\r\n              )}\r\n            </div>\r\n            <div className=\"hero-actions\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-light hero-action\"\r\n                onClick={() => handleQuickAction({ key: \"transfer\" })}\r\n              >\r\n                <i className=\"bi bi-arrow-left-right me-2\" aria-hidden></i>\r\n                {text.quickTransfer}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-outline-light hero-action\"\r\n                onClick={() => navigate(\"/notifications\")}\r\n              >\r\n                <i className=\"bi bi-bell me-2\" aria-hidden></i>\r\n                {text.quickViewNotifications}\r\n              </button>\r\n            </div>\r\n            <div className=\"hero-meta\">\r\n              {profileLoading && (\r\n                <div className=\"hero-meta__item\">\r\n                  <i className=\"bi bi-arrow-repeat\" aria-hidden></i>\r\n                  {text.profileLoading}\r\n                </div>\r\n              )}\r\n              {profileError && (\r\n                <div className=\"hero-meta__item text-warning\">\r\n                  <i className=\"bi bi-exclamation-triangle\" aria-hidden></i>\r\n                  {profileError}\r\n                </div>\r\n              )}\r\n              {insightData.lastTransaction ? (\r\n                <div className=\"hero-meta__item\">\r\n                  <i className=\"bi bi-lightning-charge-fill\" aria-hidden></i>\r\n                  {text.lastActivityPrefix} ·{\" \"}\r\n                  {formatTimestamp(insightData.lastTransaction.createdAt)} ·{\" \"}\r\n                  {transactionLabel(insightData.lastTransaction.type)}{\" \"}\r\n                  {formatSignedCurrency(\r\n                    insightData.lastTransaction.signedAmount ??\r\n                      insightData.lastTransaction.amount\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div className=\"hero-meta__item\">{text.lastActivityEmpty}</div>\r\n              )}\r\n              <div className=\"hero-meta__item\">\r\n                <i className=\"bi bi-shield-lock\" aria-hidden></i>\r\n                {profileRoleLabel}\r\n              </div>\r\n              {userProfile?.email && (\r\n                <div className=\"hero-meta__item\">\r\n                  <i className=\"bi bi-envelope-open\" aria-hidden></i>\r\n                  {text.profileEmailLabel}: {maskIdentifier(userProfile.email)}\r\n                </div>\r\n              )}\r\n              {userProfile?.username && (\r\n                <div className=\"hero-meta__item\">\r\n                  <i className=\"bi bi-person-badge\" aria-hidden></i>\r\n                  {text.profileUsernameLabel}:{\" \"}\r\n                  {maskIdentifier(userProfile.username)}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"dashboard-hero__side\">\r\n            {heroMetrics.map((metric) => (\r\n              <div\r\n                className={`hero-metric hero-metric--${metric.tone}`}\r\n                key={metric.key}\r\n              >\r\n                <span className=\"hero-metric__label\">{metric.label}</span>\r\n                <div className=\"hero-metric__value\">\r\n                  {metric.key === \"pending\"\r\n                    ? `${metric.value} ${\r\n                        language === \"vi\" ? \"giao dịch\" : \"tx\"\r\n                      }`\r\n                    : formatCurrency(metric.value)}\r\n                </div>\r\n                <small className=\"hero-metric__caption\">{metric.caption}</small>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"card shadow-sm quick-actions-card mb-4\">\r\n        <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n          <div>\r\n            <h5 className=\"mb-0\">{text.quickActionsTitle}</h5>\r\n            <small className=\"text-muted\">{text.quickActionsSubtitle}</small>\r\n          </div>\r\n          <span className=\"badge bg-primary-subtle text-primary\">\r\n            Digital Banking\r\n          </span>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"row row-cols-2 row-cols-md-4 g-3\">\r\n            {quickActionCatalog.map((action) => {\r\n              const copy = text.quickActions[action.key];\r\n              return (\r\n                <div className=\"col\" key={action.key}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={`quick-action-tile ${action.accent}`}\r\n                    onClick={() => handleQuickAction(action)}\r\n                  >\r\n                    <span className=\"quick-action-tile__icon\">\r\n                      <i className={`bi ${action.icon}`} aria-hidden></i>\r\n                    </span>\r\n                    <span className=\"quick-action-tile__content\">\r\n                      <span className=\"quick-action-tile__label\">\r\n                        {copy?.label}\r\n                      </span>\r\n                      <small className=\"quick-action-tile__tagline\">\r\n                        {copy?.tagline}\r\n                      </small>\r\n                    </span>\r\n                  </button>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <div className=\"row g-4 mb-4\">\r\n        <div className=\"col-xl-7\">\r\n          <div className=\"card shadow-sm mb-4\" ref={depositRef}>\r\n            <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n              <h5 className=\"mb-0\">{text.depositTitle}</h5>\r\n              <span className=\"badge bg-primary-subtle text-primary\">\r\n                {text.depositLimit}\r\n              </span>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <form onSubmit={handleDepositSubmit} className=\"form-stacked\">\r\n                <div className=\"form-floating\">\r\n                  <input\r\n                    id=\"depositAmount\"\r\n                    name=\"depositAmount\"\r\n                    type=\"number\"\r\n                    min=\"1000\"\r\n                    step=\"1000\"\r\n                    value={depositAmount}\r\n                    onChange={handleDepositChange}\r\n                    className=\"form-control\"\r\n                    placeholder={text.depositPlaceholder}\r\n                    required\r\n                  />\r\n                  <label htmlFor=\"depositAmount\">\r\n                    {text.depositPlaceholder}\r\n                  </label>\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-primary\"\r\n                  disabled={depositLoading}\r\n                >\r\n                  {depositLoading ? (\r\n                    <>\r\n                      <span\r\n                        className=\"spinner-border spinner-border-sm me-2\"\r\n                        role=\"status\"\r\n                        aria-hidden\r\n                      ></span>\r\n                      {text.processing}\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <i className=\"bi bi-wallet2 me-2\" aria-hidden></i>\r\n                      {text.submitDeposit}\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card shadow-sm\" ref={transferRef}>\r\n            <div className=\"card-header\">\r\n              <h5 className=\"mb-0\">{text.transferTitle}</h5>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <form onSubmit={handleTransferSubmit} className=\"form-stacked\">\r\n                <div className=\"row g-3\">\r\n                  <div className=\"col-12 col-md-6\">\r\n                    <div className=\"form-floating\">\r\n                      <input\r\n                        id=\"toUsername\"\r\n                        name=\"toUsername\"\r\n                        value={transferData.toUsername}\r\n                        onChange={handleTransferChange}\r\n                        className=\"form-control\"\r\n                        placeholder={text.transferAccount}\r\n                        required\r\n                      />\r\n                      <label htmlFor=\"toUsername\">{text.transferAccount}</label>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-12 col-md-6\">\r\n                    <div className=\"form-floating\">\r\n                      <input\r\n                        id=\"transferAmount\"\r\n                        name=\"amount\"\r\n                        type=\"number\"\r\n                        min=\"1000\"\r\n                        step=\"1000\"\r\n                        value={transferData.amount}\r\n                        onChange={handleTransferChange}\r\n                        className=\"form-control\"\r\n                        placeholder={text.transferAmount}\r\n                        required\r\n                      />\r\n                      <label htmlFor=\"transferAmount\">\r\n                        {text.transferAmount}\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-12\">\r\n                    <div className=\"form-floating\">\r\n                      <input\r\n                        id=\"transferDescription\"\r\n                        name=\"description\"\r\n                        value={transferData.description}\r\n                        onChange={handleTransferChange}\r\n                        className=\"form-control\"\r\n                        placeholder={text.transferNote}\r\n                      />\r\n                      <label htmlFor=\"transferDescription\">\r\n                        {text.transferNote}\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-12\">\r\n                    <div className=\"row g-2 align-items-end\">\r\n                      <div className=\"col-12 col-sm-7\">\r\n                        <div className=\"form-floating\">\r\n                          <input\r\n                            id=\"transferOtp\"\r\n                            name=\"otp\"\r\n                            inputMode=\"numeric\"\r\n                            maxLength={6}\r\n                            autoComplete=\"one-time-code\"\r\n                            value={transferData.otp}\r\n                            onChange={handleTransferChange}\r\n                            className=\"form-control\"\r\n                            placeholder={text.transferOtpPlaceholder}\r\n                          />\r\n                          <label htmlFor=\"transferOtp\">\r\n                            {text.transferOtpLabel}\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-sm-5\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"btn btn-outline-primary w-100\"\r\n                          onClick={handleRequestTransferOtp}\r\n                          disabled={\r\n                            transferOtpStatus.sending || transferLoading\r\n                          }\r\n                        >\r\n                          {transferOtpStatus.sending ? (\r\n                            <>\r\n                              <span\r\n                                className=\"spinner-border spinner-border-sm me-2\"\r\n                                role=\"status\"\r\n                                aria-hidden\r\n                              ></span>\r\n                              {text.transferOtpRequesting}\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              <i\r\n                                className=\"bi bi-shield-lock me-2\"\r\n                                aria-hidden\r\n                              ></i>\r\n                              {transferOtpStatus.sent\r\n                                ? text.transferOtpResend\r\n                                : text.transferOtpRequest}\r\n                            </>\r\n                          )}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    <small className=\"text-muted d-block mt-2\">\r\n                      {text.transferOtpHint}\r\n                    </small>\r\n                    {transferOtpStatus.sent && (\r\n                      <small className=\"text-success d-block\">\r\n                        {text.transferOtpSent}\r\n                      </small>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-primary mt-3\"\r\n                  disabled={transferLoading}\r\n                >\r\n                  {transferLoading ? (\r\n                    <>\r\n                      <span\r\n                        className=\"spinner-border spinner-border-sm me-2\"\r\n                        role=\"status\"\r\n                        aria-hidden\r\n                      ></span>\r\n                      {text.processing}\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <i className=\"bi bi-send me-2\" aria-hidden></i>\r\n                      {text.submitTransfer}\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-xl-5\">\r\n          <div className=\"card shadow-sm mb-4\">\r\n            <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n              <h5 className=\"mb-0\">{text.analyticsTitle}</h5>\r\n              <span\r\n                className={`balance-chip ${\r\n                  netChange >= 0 ? \"balance-chip--up\" : \"balance-chip--down\"\r\n                }`}\r\n              >\r\n                {netChange >= 0 ? text.badgeUp : text.badgeDown}{\" \"}\r\n                {formatCurrency(Math.abs(netChange))}\r\n              </span>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <div className=\"insight-grid\">\r\n                <div className=\"insight-item\">\r\n                  <span className=\"insight-label text-muted\">\r\n                    {text.analyticsIncoming}\r\n                  </span>\r\n                  <div className=\"insight-value text-success\">\r\n                    {formatCurrency(insightData.monthlyIncoming)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"insight-item\">\r\n                  <span className=\"insight-label text-muted\">\r\n                    {text.analyticsOutgoing}\r\n                  </span>\r\n                  <div className=\"insight-value text-danger\">\r\n                    {formatCurrency(insightData.monthlyOutgoing)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"insight-item\">\r\n                  <span className=\"insight-label text-muted\">\r\n                    {text.analyticsPending}\r\n                  </span>\r\n                  <div className=\"insight-value\">\r\n                    {insightData.pendingCount}{\" \"}\r\n                    {language === \"vi\" ? \"giao dịch\" : \"tx\"}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"insight-flush\">\r\n                <div className=\"insight-flush__item\">\r\n                  <span className=\"insight-label text-muted\">\r\n                    {text.analyticsSuccessRate}\r\n                  </span>\r\n                  <div className=\"insight-flush__value\">\r\n                    {formatPercent(advancedInsights.successRate)}\r\n                  </div>\r\n                  <small className=\"text-muted\">\r\n                    {language === \"vi\"\r\n                      ? `${advancedInsights.completed} hoàn tất / ${advancedInsights.failed} lỗi`\r\n                      : `${advancedInsights.completed} completed / ${advancedInsights.failed} failed`}\r\n                  </small>\r\n                </div>\r\n                <div className=\"insight-flush__item\">\r\n                  <span className=\"insight-label text-muted\">\r\n                    {text.analyticsAvgTicket}\r\n                  </span>\r\n                  <div className=\"insight-flush__value text-primary\">\r\n                    {formatCurrency(advancedInsights.averageTicket)}\r\n                  </div>\r\n                  <small className=\"text-muted\">\r\n                    {language === \"vi\"\r\n                      ? \"Giá trị trung bình giao dịch hoàn tất\"\r\n                      : \"Average settled transaction value\"}\r\n                  </small>\r\n                </div>\r\n                <div className=\"insight-flush__item insight-flush__item--wide\">\r\n                  <span className=\"insight-label text-muted\">\r\n                    {text.analyticsLargest}\r\n                  </span>\r\n                  {advancedInsights.largestTx ? (\r\n                    <>\r\n                      <div className=\"insight-flush__value text-success\">\r\n                        {formatCurrency(advancedInsights.largestTx.amount)}\r\n                      </div>\r\n                      <small className=\"text-muted\">\r\n                        {transactionLabel(advancedInsights.largestTx.type)} ·{\" \"}\r\n                        {formatTimestamp(advancedInsights.largestTx.createdAt)}{\" \"}\r\n                        · {advancedInsights.largestTx.reference}\r\n                      </small>\r\n                    </>\r\n                  ) : (\r\n                    <small className=\"text-muted\">{text.analyticsNoData}</small>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-3 p-3 bg-light rounded\">\r\n                <p className=\"mb-1 fw-semibold\">{text.analyticsSecurity}</p>\r\n                <small className=\"text-muted\">\r\n                  {text.analyticsSecurityNote}\r\n                </small>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card shadow-sm mb-4 chart-card\">\r\n            <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n              <h5 className=\"mb-0\">{text.chartTitle}</h5>\r\n              <div className=\"chart-legend\">\r\n                <span className=\"legend-dot legend-dot--in\"></span>\r\n                <small>{text.chartLegendIn}</small>\r\n                <span className=\"legend-dot legend-dot--out\"></span>\r\n                <small>{text.chartLegendOut}</small>\r\n              </div>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <div className=\"chart-bars\">\r\n                {dailyStats.map((day) => {\r\n                  const incomeHeight = Math.max(\r\n                    4,\r\n                    Math.round((day.incoming / chartMax) * 100)\r\n                  );\r\n                  const expenseHeight = Math.max(\r\n                    4,\r\n                    Math.round((day.outgoing / chartMax) * 100)\r\n                  );\r\n                  return (\r\n                    <div className=\"chart-bars__column\" key={day.key}>\r\n                      <div className=\"chart-bars__stack\">\r\n                        <div\r\n                          className=\"chart-bar chart-bar--incoming\"\r\n                          style={{ height: `${incomeHeight}%` }}\r\n                          title={`${text.chartLegendIn} ${formatCurrency(\r\n                            day.incoming\r\n                          )} · ${day.tooltip}`}\r\n                        ></div>\r\n                        <div\r\n                          className=\"chart-bar chart-bar--outgoing\"\r\n                          style={{ height: `${expenseHeight}%` }}\r\n                          title={`${text.chartLegendOut} ${formatCurrency(\r\n                            day.outgoing\r\n                          )} · ${day.tooltip}`}\r\n                        ></div>\r\n                      </div>\r\n                      <span className=\"chart-bars__label\">{day.label}</span>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card shadow-sm security-card\">\r\n            <div className=\"card-header border-0\">\r\n              <h5 className=\"mb-0\">\r\n                {language === \"vi\" ? \"Bảo mật đa lớp\" : \"Multi-layer security\"}\r\n              </h5>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <div className=\"security-card__content\">\r\n                <MfaSetup />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <section className=\"card shadow-sm\">\r\n        <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n          <h5 className=\"mb-0\">{text.recentTitle}</h5>\r\n          <small className=\"text-muted\">{text.recentSubtitle}</small>\r\n        </div>\r\n        <div className=\"list-group list-group-flush\">\r\n          {recentTransactions.length === 0 ? (\r\n            <div className=\"list-group-item text-muted text-center py-4\">\r\n              {text.recentEmpty}\r\n            </div>\r\n          ) : (\r\n            recentTransactions.map((tx) => {\r\n              const label = transactionLabel(tx.type);\r\n              const statusText = statusLabel(tx.status);\r\n              const statusClass =\r\n                statusText === text.statusCompleted\r\n                  ? \"badge bg-success-subtle text-success\"\r\n                  : statusText === text.statusPending\r\n                  ? \"badge bg-warning-subtle text-warning\"\r\n                  : \"badge bg-danger-subtle text-danger\";\r\n              return (\r\n                <button\r\n                  key={tx.id}\r\n                  type=\"button\"\r\n                  className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\r\n                  onClick={() => {\r\n                    setSelectedTx(tx);\r\n                    setShowTxModal(true);\r\n                  }}\r\n                >\r\n                  <div className=\"d-flex align-items-center gap-3\">\r\n                    <span className={`transaction-icon ${tx.type}`}>\r\n                      <i\r\n                        className={`bi ${\r\n                          tx.type === \"deposit\"\r\n                            ? \"bi-arrow-down-circle\"\r\n                            : \"bi-arrow-up-circle\"\r\n                        }`}\r\n                        aria-hidden\r\n                      ></i>\r\n                    </span>\r\n                    <div>\r\n                      <div className=\"fw-semibold\">\r\n                        {label} · {tx.reference}\r\n                      </div>\r\n                      <small className=\"text-muted\">\r\n                        {maskAccount(tx.fromUsername)} →{\" \"}\r\n                        {maskAccount(tx.toUsername)} ·{\" \"}\r\n                        {formatTimestamp(tx.createdAt)}\r\n                      </small>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-end\">\r\n                    <div\r\n                      className={tx.isIncoming ? \"text-success\" : \"text-danger\"}\r\n                    >\r\n                      {tx.isIncoming ? \"+\" : \"-\"}\r\n                      {formatCurrency(\r\n                        Math.abs(tx.signedAmount ?? Number(tx.amount || 0))\r\n                      )}\r\n                    </div>\r\n                    <span className={statusClass}>{statusText}</span>\r\n                  </div>\r\n                </button>\r\n              );\r\n            })\r\n          )}\r\n        </div>\r\n      </section>\r\n\r\n      <TransactionDetailsModal\r\n        tx={selectedTx}\r\n        show={showTxModal}\r\n        onClose={() => setShowTxModal(false)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}